{"version":3,"sources":["components/Post/Icons/iconOnline.png","components/Post/Icons/iconWaiting.png","components/Post/Icons/iconGray.png","constants/parameterConfig.js","utils/connectAPI.js","components/Login/Login.jsx","components/Login/SocialNetworks/Facebook.jsx","components/Login/SocialNetworks/Google.jsx","components/Login/LinkSocialNetworks.jsx","views/LoginPage.jsx","components/Modal/Cart/Cart.jsx","components/Modal/Cart/CartItem.jsx","utils/paypaConfig.js","components/Modal/PaypalCheckout/PaypalButton.jsx","components/Home/Header.jsx","components/Home/Footer.jsx","components/Banner.jsx","components/Utilities.jsx","components/RecentTrip.jsx","components/Places/PopularPlaces.jsx","components/Evaluation/StarRating.jsx","components/Destination/Destination.jsx","views/HomePage.jsx","components/SignUp.jsx","views/SignUpPage.jsx","views/PlaceDetailPage.jsx","views/NotFoundpage.jsx","components/Home/Search/Search.jsx","components/Products/ProductList.jsx","components/Products/Product.jsx","components/Menu/PagesNumber/PagesNumber.jsx","views/ProductPage.jsx","components/Places/Place.jsx","views/PlacePage.jsx","components/About.jsx","views/AboutPage.jsx","components/Purchased/ListPurchased.jsx","components/Evaluation/EvalutionProduct.jsx","components/Purchased/ItemPurchase.jsx","views/PurchasedPage.jsx","components/Schedule/Destination.jsx","components/Schedule/Schedule.jsx","views/SchedulePage.jsx","components/Post/NewFeeds/NewFeed.jsx","components/Post/NewFeeds/News.jsx","views/NewFeedPage.jsx","components/Post/PostDetails/ContentPost.jsx","components/Post/PostDetails/ListComments.jsx","components/Post/PostDetails/FormComment.jsx","views/PostDetailPage.jsx","components/Evaluation/EvaluationDestination.jsx","views/DestinationDetailPage.jsx","components/Schedule/ListSchedule.jsx","views/ListSchedulePage.jsx","components/Products/ProductDetail.jsx","views/ProductDetailPage.jsx","views/ScheduleDetailPage.jsx","components/Checkout/Checkout.jsx","views/CheckoutPage.jsx","components/Admin/HeaderAdmin.jsx","utils/firebaseStorage.js","utils/uploadImageToFirebase.js","components/Admin/ProductsManager/ModalActionsProduct.jsx","components/Admin/ProductsManager/ProductsDataTable.jsx","views/AdminPage.jsx","components/Admin/PostManager/ListPostUser.jsx","components/Admin/PostManager/PostUser.jsx","views/AdminManagerPostPage.jsx","components/Admin/Statistics/StatisticalProductBestSeller.jsx","views/AdminStatisticalProductBestSellerPage.jsx","components/Admin/Statistics/RevenueStatistics.jsx","views/AdminStatisticalRevenueSalePage.jsx","components/Post/Personals/ListPostPersonal.jsx","components/Post/Personals/PostPersonal.jsx","utils/uploadMultipleImagePost.js","components/Post/Personals/FormPost.jsx","components/Post/Personals/ImagesPost.jsx","components/Post/Personals/ImageUpload.jsx","components/Post/Personals/UpdateInfo.jsx","views/BlogPage.jsx","components/Gallery/FormAddPlace.jsx","components/Gallery/Gallery.jsx","views/GalleryPage.jsx","router.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","ENDPOINT_SOKET","PAYPAL_CONFIG","env","client","sandbox","production","callAPI","endpoint","method","body","a","axios","url","data","catch","err","console","log","Login","props","onChange","event","target","name","value","setState","onSave","preventDefault","state","username","password","checkUsername","checkPass","document","getElementById","innerHTML","style","color","onLogin","this","onSubmit","className","type","placeholder","aria-hidden","id","data-validate","to","Component","Facebook","responseFacebook","res","account","roles","avatar","picture","person","gender","onLink","appId","fields","callback","cssClass","textButton","icon","Google","responseGoogle","profile","profileObj","googleId","imageUrl","email","clientId","onSuccess","LinkSocialNetworks","isLoggedIn","onLinkSocialNetWorks","LoginPage","redirectHome","user","history","push","then","message","Swal","fire","title","text","sessionStorage","setItem","JSON","stringify","parse","getItem","src","alt","marginTop","Cart","children","CartItem","onDelete","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","onDeleteItemCart","Number","onKeyPress","_id","countCart","currentQuantity","key","quantity","onChangQuantity","element","images","productType","price","onClick","PaypalButton","window","React","ReactDOM","showButton","isScriptLoaded","isScriptLoadSucceed","onError","paypal","PAYPAL","total","products","currency","ppbtn","Button","react","payment","rest","create","Object","assign","transactions","amount","item_list","items","paymentOptions","input_fields","no_shipping","shipping","commit","onAuthorize","actions","execute","payment_data","paid","cancelled","payerID","paymentID","paymentToken","returnUrl","address","payer","payer_info","shipping_address","onCancel","defaultProps","scriptLoader","order","map","item","Config","resultsPaypalPayment","Header","isLogout","removeItem","location","href","cart","filter","el","length","forEach","undefined","isUpdateCheckout","updateCartInCheckout","newQuantity","showModalCartItem","index","success","cancel","onSaveBill","checkout","bill","isCheckout","shipAddress","outOfStock","fail","i","prevState","preAmount","amountCurrentItemCart","currAmount","width","height","filePath","fontSize","Footer","marginLeft","Banner","data-ride","data-target","data-slide-to","role","data-slide","Utilities","RecentTrip","post","sumLike","comments","format","postDate","content","PopularPlaces","StarRating","onStarClick","ratingValue","rating","saveRating","onSetHover","hover","numberOfStars","size","editing","margin_right","Array","star","styleColor","marginRight","onMouseLeave","onMouseEnter","Destination","destination","Math","round","review","HomePage","showPlaces","places","currentPlace","showPostRecent","posts","currentPost","SignUp","confirmPassword","checkName","checkEmail","checkConPass","test","bind","required","SignUpPage","PlaceDetailPage","showDestination","place","currentDestination","area","object","match","params","backgroundImage","description","NotFoundpage","Search","receiveInfoSearch","infoSearch","input","Product","onChoose","product","tempQuantity","tempProduct","flag","onAddItemIntoCart","amountPurchase","status","PagesNumber","showPagesNumber","pages","currentPage","page","number","onChangePage","ProductPage","getProductsWhenConnectMongo","totalPages","pageNumber","showProductList","ProductList","Place","PlacePage","getPlacesWhenConnectMongo","textAlign","About","AboutPage","ListPurchase","onCancelOrder","backgroundColor","orderdate","paddingLeft","onConfirmOrder","EvaluationProduct","onSaveRating","onSubmitRating","onRecevieRatingValue","tabIndex","aria-labelledby","data-dismiss","aria-label","onToggleEvaluation","ItemPurchase","onpenModal","itemEvaluation","bill_id","data-toggle","PurchasedPage","showListBills","bills","showDetailBill","billDetail","billsOfAccount","nowdate","des","place_id","Schedule","onChangeStartDate","date","startDate","endDate","onChangeFinishDate","onChangeBtn","statusBtn","setStateEmpty","checkedBOX","from","checkedItems","dateItems","start","Date","end","loop","newDate","toString","substr","desName","setDate","getDate","convert","listDate","handleChange","isChecked","checked","limit","temp","set","listPlaceSelected","padding","listDestination","onAddShownDestinations","marginBottom","slice","radio","onClickDelete","listDes","k","selectDes","hashtag","schedule","scheduleList","onChangeRadio","onAddDate","d","aria-multiselectable","background","data-parent","listPlace","float","Map","titleStatusBtn","iconStatusBtn","htmlFor","selected","minDate","showDisabledMonthNavigation","dateFormat","textTransform","border","SchedulePage","NewFeed","fontWeight","News","onSetSate","interactions","liked","checkInteraction","like","loadAgainPostById","post_id","actionsLike","path","getIdInteract","styleCSS","lg","xl","paddingRight","img","md","waves","overlay","NewFeedPage","showPostPopular","postsPopular","displayListNews","ContentPost","displayListImages","checkIdInteraction","onActionsLike","sumComment","ListComments","displayListComments","commentDate","FormComment","onSubmitComment","cols","rows","socket","io","PostDetailPage","onSetState","comment","emit","on","EvaluationDestination","avg_rating","voted","evaluations","toFixedRating","toFixed","DestinationDetail","ListSchedule","countDate","displayDate","dateItem","displayDesName","desNameItem","displayHashTag","hashTagItem","ListSchedulePage","getSchedulesOfAccount","displaySchedule","currentSchedule","ProductDetail","ProductDetailPage","ScheduleDetailPage","displayScheduleDetail","contentArrowStyle","borderRight","iconStyle","listDesName","currentDesName","Checkout","displayCartItem","onOrderProducts","phone","defaultValue","CheckoutPage","HeaderAdmin","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","measurementId","storage","uploadImages","file","cbURL","uploadTask","ref","put","snapshot","process","bytesTransferred","totalBytes","allowEscapeKey","allowOutsideClick","showConfirmButton","onOpen","showLoading","timer","timerProgressBar","error","child","getDownloadURL","ModalActionsProduct","pow","onChangeImage","files","reader","FileReader","onloadend","readAsDataURL","uploadImageToFirebase","updateInfoProduct","prevProps","titleModal","DataTable","onSetStateData","columns","label","field","sort","row","update","onOpenToggleModal","delete","deleteProduct","tempData","messSuccess","unshift","statusBtnAdd","striped","bordered","entriesLabel","infoLabel","pagesAmount","paginationLabel","searchLabel","noBottomColumns","AdminPage","ProductsDataTable","ListPostUser","PostUser","showStatusOfPost","strStatus","iconOnline","iconGray","iconWaiting","onHandlingPost","acctions","onHandlingPostOfUser","addLike","AdminMangerPostPage","getListPostsOfUser","displayListPostByUser","StatisticalProductBestSeller","handlingStatical","onSetStatisticalDays","onSetStatisticalMonths","onSetStatisticalYears","labels","backgroundColorChart","dataChart","sumPurchase","days","datasets","fill","lineTension","borderColor","borderWidth","months","years","maxDate","popperPlacement","popperModifiers","flip","behavior","preventOverflow","enabled","hide","options","legend","display","StatisticalProductBestSellerPage","RevenueStatistics","lables","getFullYear","StatisticalRevenueSalePage","borderRadius","PostPersonal","onDeletePost","countPost","arrFiles","FormPost","f","displayListImagePost","currentPath","uploadMultipleImagePost","onSavePost","multiple","ImagesPost","displayImagesPost","ImageUpload","onUploadImage","UpdateInfo","rexEmail","onOpenFormUpdateInfo","adress","class","BlogPage","getPostsOfAccount","isOpen","info","isOpenForm","reverse","cascade","lineHeight","FormAddPlace","Gallery","onOpenFormAddPlace","GalleryPage","ROUTERS","exact","main","DestinationDetailPage","AdminStatisticalProductBestSellerPage","App","showContentMenus","routers","router","component","Boolean","hostname","render","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ea1894df.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAIiSURBVDhPlVPdThNBFP5mpmwrtAWTBb3ACs8gtlqjJD6CFyb+RI0/Md7opc/gnRcmXOiFJCT+RH0EE/wJUJRXgJQbWReBAF3a7s54zkwr24Ybz8nsmfnmnG++mZ0RhgwpW2/WsbJVw6JeQBgHEIT5mTGUM1VMDZ/FeLbkEjt2SEDfT+F7vNmdRcNEyAoPUiiLa/KmOcCgHMK1wi1c8a/aEjZHQElP60+w0vqJgipAGQUjHK8wrIF4aMypO2YbZ7wynpWeW1zy50P4Fj9aNRRVkSQLaKGJ0zn3u2Pez7AcwXJzCR/Dd5ZA1KM183j9oU3KkLNcSc7RJthT4J2Yf7gVTYpejL+ErG0uYg+7EEIgIeeJbuTGBbYohTPnvtnH8vYS5Hf9BZ7OQhtK0lSQit1+P87RwwC+techg9aGXd2dJXk6dqTa1jcvaDtBK4A0xMjSmLk/2r6hEbWj5g3h0pejlBA79v/wmGp8NQpZVZcQ6QPLSGfVE+0qqTPo4jyOkgYuDExDVvwqcvqYZWSpvMdu5Ob+Acs9xDk3ZwZROX4ecmJoEncK97EV/3EFvBJf36MUdHDOvVt8gNNUa2/ijVO3UcY5hMlvxOSJoJU6nr6JbdHGZhxiSlVwnWrYel7j3NprvNqZQSQa8FQWih4TvwU+90YSIW/yuDfyCDdLVOwuaC8B2+reKhaCr5hvfsZG+5fFTmROYjp3GdWxi5jIT1rMGfAXDt7A+6yRyLAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAALFSURBVDhPZVNNSNNhGP+9775MR85YeFBR62KNWXQo0nmQChboKetQFgRBQXYOxYMHm3ROIxHyYh1EI2ZhEVRiMukQlll2KMUp2ZzNzTln2/5vv3d+YPSw397n6/f8n+f9EIqCXTI5PYOxNy/x8fUjREPBrC+/sASVtRfhqfXCXVGe9W3LPwVafZ2YGbiF8ycLUVV/DfuLDgKMLv38jjF/DwYDIZQ13EN7S9MWg6ILaKn3nlb3G2jO9igVnVQq9F5lFgNZaD3rY0zn6NxtyXbQ2tGF4okm3Gj1wbC7YKTXIAQ/vfljn7pV/pnzYIpP4cGdFswf6UR7802IT19/qLtXD6Gv8xLSOUeB1BqU1K0RetViEOTrVVpYJDmBxqY+3O6dhsntdrWdEE9RcdyL9HqESSygkpBchUpAGUkgs561VYb6nxWYrAWQC2/xJemCqcSx0dboSWHPXie/zgKIkbjKIoSxCmFoO0ada2aVOTEgncA+WwT9IyHI6PICnA4zVDrMpAi/skLoTghFW0PrW35lrHCPwnAWmKG5krvFwRJMWGRymB2EiDBHXmJoibMv016mHeK20FaMZ35BmMghVzqcxQgnUmzzNxPZoohzE+MsugklOYqgX64xxn1gXOeG4ylorqysOofxbzGYcjI8po0trENZklDmJAR1YaVNHRbqcgNm5gbI0VxZXXMKg+N5gENBWMQmzDw/K1cbx7NRt3BS+mE2sRht5g4GcqG50n24HKXVPnQ/DMJakAvYD0Da2VpuMcQ27EUQefTZy2BhTnfvHEo9HdDcnbdQX3cWdZUvcL3Zy6PSbyDNe7N5g6S+UVJ3MItu3zCef/bCPzSsaTt3DUPPhhG0deHK5VH4n/QhHOERWQwiQ30e/oHHjI0gmNO1Q9by/3OemsG70VeY/NCPaHSOHoH8/BK4j12Ap+YM3K7dzxn4C0xBbCETX4QVAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAIkSURBVDhPbVO7ampREF0e3zYSRBQLYyOYgHaWPgobsbKw9QcMWEWwSrQRYiX4BekCARvFysZSLGOI2hgb0UgSG1ET81iTnNyTe+/AnL33zKw1s+fs0b1/CjQyHo/R6XTQbDYxm82g0+ngdruRSqWQSCTg9/u/I7/kF0G1WkW9XkcoFEImk4HX6xWC6XSKq6sr3NzcIJfL4fT09BuhIUgmk3h6ekKtVoPP58N2u8Xr66sE6fV6WCwWTCYT5PN5HBwcoN1ui0/hh5lXqxXK5TKsVqtknM/neHx8FF0sFmKjjzGMJYaiGw6H7+l0GqVSCU6nUzIzozg/y6eot9zv9zCbzXh4eMDZ2RkajQb0wWDwnNkikQjW67UEUVm+ump1s9lIJaPRSK6lt9ls58fHx3A4HNjtdnh7e/tRlUxLpPaG1fX7fSjL5RJ2u10cLy8vv0D/I6IyETG8ijRRURQBq8FcNX9X9loyErACquJyuX5Kp6gOcX4SU9WzKowlhlglHo/j/v5eumswGESNRqOcuf69p59nYohVotEobm9v5U4MMJlMEsAOs9tcqVoSxg4GAxArL7FSqeDu7g7ZbFYIWDYBatnsAZusln55eYlAIIBisfjnKXNYPB4PCoWCPCSatQTcs4EXFxcyZBw2ivwFSqvVwuHhIU5OTnB9fS1zwSqo3NNGH2NUMOWfcWY/ut0uer0enp+fxcbhCYfDiMViODo6EtuXAB/5R2cMjxBfWwAAAABJRU5ErkJggg==\"","export const API_URL_NODEJS_SERVER = 'https://kltn-group28.herokuapp.com';\r\n\r\nexport const ENDPOINT_SOKET = 'https://kltn-group28.herokuapp.com';\r\n\r\nexport const API_GOOGLE_ID = \"26774653711-2443l7jnseg7vfpvhiscad0r3te4ti8a.apps.googleusercontent.com\";\r\n\r\nexport const API_FACEBOOK_ID = \"1089146518102635\";\r\n\r\nexport const PAYPAL_CONFIG = {\r\n    env: 'sandbox',\r\n    client: {\r\n        sandbox: 'ASya3kU6j93AmZ3EBhJZVonnvf4XyezV-LTuTpPdW7-SlxDOvDVkN-V9cHz1FmvYI1qbZwkBBidufbnr',\r\n        production: '-- id --',\r\n    }\r\n}","import axios from 'axios';\r\n\r\n// call constant\r\nimport * as Config from '../constants/parameterConfig';\r\n\r\nconst callAPI = async (endpoint, method, body) => {\r\n    return axios({\r\n        method: method,\r\n        url: `${Config.API_URL_NODEJS_SERVER}/${endpoint}`,\r\n        data: body\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n}\r\n\r\nexport default callAPI;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Login extends Component {\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            username: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    onChange = (event) => {\r\n        var target = event.target;\r\n        var name = target.name;\r\n        var value = target.value;\r\n\r\n        this.setState({\r\n            [name] : value\r\n        });\r\n    };\r\n\r\n    onSave = (event) => {\r\n        event.preventDefault();\r\n        var { username, password } = this.state;\r\n\r\n        let checkUsername = false, checkPass = false;\r\n\r\n        if (username !== '') {\r\n            checkUsername = true;\r\n            document.getElementById('errUsername').innerHTML = '';\r\n        }\r\n        else {\r\n            document.getElementById('errUsername').style.color = 'red';\r\n            document.getElementById('errUsername').innerHTML = 'Tài khoản không được rỗng.';\r\n        }\r\n\r\n        if (password !== '') {\r\n            checkPass = true;\r\n            document.getElementById('errPass').innerHTML = '';\r\n        }\r\n        else {\r\n            document.getElementById('errPass').style.color = 'red';\r\n            document.getElementById('errPass').innerHTML = 'Mật khẩu không được rỗng.';\r\n        }\r\n\r\n        if (checkUsername && checkPass)\r\n            this.props.onLogin(username, password);\r\n    }\r\n\r\n    render() {\r\n        var { username, password } = this.state;\r\n        return (\r\n            <form onSubmit={this.onSave} >\r\n                <span className=\"login100-form-title\">\r\n                    Đăng nhập\r\n                </span>\r\n                <div className=\"wrap-input100 validate-input\">\r\n                    <input className=\"input100\" type=\"text\" name=\"username\" placeholder=\"Tài khoản\"\r\n                        onChange={this.onChange} value={username}\r\n                    />\r\n                    <span className=\"focus-input100\" />\r\n                    <span className=\"symbol-input100\">\r\n                        <i className=\"fa fa-user\" aria-hidden=\"true\" />\r\n                    </span>\r\n                </div>\r\n                <span id=\"errUsername\"></span>\r\n\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\r\n                    <input className=\"input100\" type=\"password\" name=\"password\" placeholder=\"Mật khẩu\"\r\n                        onChange={this.onChange} value={password}\r\n                    />\r\n                    <span className=\"focus-input100\" />\r\n                    <span className=\"symbol-input100\">\r\n                        <i className=\"fa fa-lock\" aria-hidden=\"true\" />\r\n                    </span>\r\n                </div>\r\n                <span id=\"errPass\"></span>\r\n\r\n                <div className=\"container-login100-form-btn\">\r\n                    <button type=\"submit\" className=\"login100-form-btn\"> Đăng nhập </button>\r\n                </div>\r\n                <div className=\"text-center p-t-8\">\r\n                    <Link className=\"txt\" to='/'>\r\n                        Quên mật khẩu?\r\n                    </Link>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\n\r\n// import login facebook\r\nimport FacebookLogin from 'react-facebook-login';\r\n\r\n// call constant\r\nimport * as Config from '../../../constants/parameterConfig';\r\n\r\nexport default class Facebook extends Component {\r\n    responseFacebook = (res) => {\r\n        let account = {\r\n            username: res.id,\r\n            roles: 2,\r\n            avatar: res.picture.data.url,\r\n            person: {\r\n                name: res.name,\r\n                gender: false,\r\n            }\r\n        }\r\n        this.props.onLink(account);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <FacebookLogin\r\n                    appId={ Config.API_FACEBOOK_ID }\r\n                    //autoLoad={true}\r\n                    fields=\"name, email, picture\"\r\n                    callback={this.responseFacebook}\r\n                    cssClass=\"btn btn-facebook btn-user btn-block\"\r\n                    textButton =\"&nbsp;&nbsp;Đăng nhập bằng Facebook\"\r\n                    icon={<i className=\"fa fa-facebook\" />}></FacebookLogin>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\n// import login google\r\nimport GoogleLogin from 'react-google-login';\r\n\r\n// call constant\r\nimport * as Config from '../../../constants/parameterConfig';\r\n\r\nexport default class Google extends Component {\r\n\r\n    responseGoogle = (res) => {\r\n        let profile = res.profileObj;\r\n        let account = {\r\n            username: profile.googleId,\r\n            roles: 2,\r\n            avatar: profile.imageUrl,\r\n            person: {\r\n                name: profile.name,\r\n                gender: false,\r\n                email: profile.email\r\n            }\r\n        }\r\n        this.props.onLink(account);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <GoogleLogin\r\n                    clientId={ Config.API_GOOGLE_ID }\r\n                    onSuccess={this.responseGoogle}\r\n                    className=\"btn btn-google btn-user btn-block\"\r\n                >\r\n                    <span >&nbsp;&nbsp;Đăng nhập bằng Google</span>\r\n                </GoogleLogin>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport Facebook from './SocialNetworks/Facebook';\r\nimport Google from './SocialNetworks/Google';\r\n\r\nclass LinkSocialNetworks extends Component {\r\n    constructor(props) {\r\n        super (props);\r\n\r\n        this.state = {\r\n            isLoggedIn: false,\r\n            account: {}\r\n        }\r\n    }\r\n\r\n    onLink = (data) => {\r\n        if (data) {\r\n            this.setState({\r\n                isLoggedIn: true,\r\n                account: data\r\n            });\r\n            this.props.onLinkSocialNetWorks(this.state.account);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <hr />\r\n                {/* <button className=\"btn btn-google btn-user btn-block\" onClick={() => this.linkGoogle()}>\r\n                    <i className=\"fa fa-google\" /> Đăng nhập bằng Google\r\n                </button> */}\r\n                {/* <button className=\"btn btn-facebook btn-user btn-block\" onClick={() => this.linkFacebook()}>\r\n                    <i className=\"fa fa-facebook\" /> Đăng nhập bằng Facebook\r\n                </button> */}\r\n                {/* <button className=\"btn btn-twitter btn-user btn-block\" onClick={() => this.linkTwitter()}>\r\n                    <i className=\"fa fa-twitter\" /> Đăng nhập bằng Twitter\r\n                </button> */}\r\n                <Google onLink={this.onLink} />\r\n                <br />\r\n                <Facebook onLink={this.onLink} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LinkSocialNetworks;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport callAPI from './../utils/connectAPI';\r\n\r\n// import components Login\r\nimport Login from '../components/Login/Login';\r\nimport LinkSocialNetworks from '../components/Login/LinkSocialNetworks';\r\n\r\nexport default class LoginPage extends Component {\r\n\r\n    componentDidMount() {\r\n        let user = JSON.parse(sessionStorage.getItem(\"user\"))\r\n        if (user)\r\n            this.redirectHome(user);\r\n    }\r\n\r\n    redirectHome = (user) => {\r\n        let { history } = this.props;\r\n        // console.log(user)\r\n        if (user.roles === 2)\r\n            return history.push('/');\r\n        else if (user.roles === 1)\r\n            return history.push('/admin/product-management');\r\n    }\r\n\r\n    onLogin = async (username, password) => {\r\n        await callAPI('account/login-local', 'POST', {username, password})\r\n            .then(res => {\r\n                // check if there's a message or not?\r\n                if (res.data.message){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Đăng nhập không thành công',\r\n                        text: res.data.message,\r\n                    })\r\n                }\r\n                else {\r\n                    let user = res.data.user;\r\n                    sessionStorage.setItem(\"user\", JSON.stringify(user));\r\n                    this.redirectHome(user);\r\n                }   \r\n            })\r\n    }\r\n\r\n    onLinkSocialNetWorks = async (data) => {\r\n        await callAPI('account/login-social', 'POST', data)\r\n            .then(res => {\r\n                sessionStorage.setItem(\"user\", JSON.stringify(res.data.user));\r\n                this.redirectHome();\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"limiter\">\r\n                <div className=\"container-login100\">\r\n                    <div className=\"wrap-login100\">\r\n                        <div className=\"login100-pic\">\r\n                            <img src=\"images/logo_login.jpg\" alt=\"IMG\" />\r\n                        </div>\r\n\r\n                        <div className=\"login100-form validate-form\" style={{marginTop:'10px'}}>\r\n                            {/* component Login */}\r\n                            <Login onLogin={this.onLogin} />\r\n\r\n                            {/* component link to social networks */}\r\n                            <LinkSocialNetworks onLinkSocialNetWorks={this.onLinkSocialNetWorks} />\r\n\r\n                            <div className=\"text-center p-t-20\">\r\n                                <Link to='/sign-up' className=\"txt2\">\r\n                                    Đăng ký\r\n                                    <i className=\"fa fa-long-arrow-right m-l-5\" aria-hidden=\"true\" />\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nimport './Cart.css';\r\n\r\nexport default class Cart extends Component {\r\n    render() {\r\n        return (\r\n            <ScrollToBottom className=\"scroll-cart\">\r\n                { this.props.children }\r\n            </ScrollToBottom>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default class CartItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            quantity: -1\r\n        }\r\n    }\r\n\r\n    onDelete = (id) => {\r\n        Swal.fire({\r\n            title: 'Bạn có chắc?',\r\n            text: \"Bạn muốn xóa sản phẩm này!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes',\r\n            cancelButtonText: 'No'\r\n        }).then((result) => {\r\n            if (result.value) this.props.onDeleteItemCart(id);\r\n        })\r\n    }\r\n\r\n    onChange = (event) => {\r\n        let target = event.target;\r\n        let name = target.name;\r\n        this.setState({[name]: Number(target.value)});\r\n    }\r\n    onKeyPress = (event, _id, countCart, currentQuantity) => {\r\n        if (event.key === 'Enter') {\r\n            let quantity = this.state.quantity;\r\n            if (quantity - currentQuantity + countCart > 10) {\r\n                Swal.fire({\r\n                    icon: 'warning',\r\n                    title: \"Cảnh báo\",\r\n                    text: \"Số lượng sản phẩm trong giỏ hàng không được vượt quá 10\",\r\n                })\r\n                this.setState({quantity: Number(currentQuantity)});\r\n            }\r\n            else if (quantity > 0)\r\n                this.props.onChangQuantity(_id, quantity);\r\n            else if (quantity === 0)\r\n                this.onDelete(_id);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var { element, countCart } = this.props;\r\n        var { quantity } = this.state;\r\n        return (\r\n            <li>\r\n                <div className=\"cart-item\">\r\n                    <div className=\"image\">\r\n                        <img src={element.images} alt=\"anh\" />\r\n                    </div>\r\n                    <div className=\"item-description\">\r\n                        <p className=\"name\">{element.name}</p>\r\n                        <p>Loại: <span className=\"light-red\">{element.productType}</span><br />\r\n                            Số lượng: <span className=\"light-red\">\r\n                                {\r\n                                    quantity < 0 && quantity !== element.quantity\r\n                                    ?   <input className=\"style-input\" type=\"Number\" name=\"quantity\"\r\n                                            onChange={this.onChange} value={element.quantity}\r\n                                            onKeyPress={(event) => this.onKeyPress(event, element._id, countCart, element.quantity)} />\r\n                                    :   <input className=\"style-input\" type=\"Number\" name=\"quantity\"\r\n                                            onChange={this.onChange} value={quantity}\r\n                                            onKeyPress={(event) => this.onKeyPress(event, element._id, countCart, element.quantity)}  />\r\n                                }\r\n                            </span>\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"right\">\r\n                        <p className=\"price\">${element.price}</p>\r\n                        <button className=\"remove\">\r\n                            <i className=\"fa fa-remove\" onClick={() => this.onDelete(element._id)} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport scriptLoader from 'react-async-script-loader';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass PaypalButton extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        window.React = React;\r\n        window.ReactDOM = ReactDOM;\r\n        this.state = {\r\n            showButton: false\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps ({ isScriptLoaded, isScriptLoadSucceed }) {\r\n        if (!this.state.showButton) {\r\n            if (isScriptLoaded && !this.props.isScriptLoaded) {\r\n                if (isScriptLoadSucceed) {\r\n                    this.setState({ showButton: true });\r\n                } else {\r\n                    console.log('Cannot load Paypal script!');\r\n                    this.props.onError();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        const { isScriptLoaded, isScriptLoadSucceed } = this.props;\r\n        if (isScriptLoaded && isScriptLoadSucceed) {\r\n            this.setState({ showButton: true });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const paypal = window.PAYPAL;\r\n        let { total, products, currency, env, client } = this.props;\r\n        let payment = () => {\r\n            return paypal.rest.payment.create(env, client, Object.assign({\r\n                transactions: [{\r\n                    amount: { total, currency },\r\n                    item_list: {\r\n                        items: products\r\n                    }\r\n                }]\r\n            }, this.props.paymentOptions), {\r\n                input_fields: {\r\n                    // any values other than null, and the address is not returned after payment execution.\r\n                    no_shipping: this.props.shipping\r\n                }\r\n            });\r\n        }\r\n\r\n        const onAuthorize = (data, actions) => {\r\n            return actions.payment.execute().then((payment_data) => {\r\n                // console.log(`payment_data: ${JSON.stringify(payment_data, null, 1)}`)\r\n                const payment = Object.assign({}, this.props.payment);\r\n                payment.paid = true;\r\n                payment.cancelled = false;\r\n                payment.payerID = data.payerID;\r\n                payment.paymentID = data.paymentID;\r\n                payment.paymentToken = data.paymentToken;\r\n                payment.returnUrl = data.returnUrl;\r\n                // getting buyer's shipping address and email\r\n                payment.address = payment_data.payer.payer_info.shipping_address;\r\n                payment.email = payment_data.payer.payer_info.email;\r\n                this.props.onSuccess(payment);\r\n            })\r\n        }\r\n\r\n        let ppbtn = '';\r\n        if (this.state.showButton) {\r\n            ppbtn = <paypal.Button.react\r\n                env={env}\r\n                client={client}\r\n                style={this.props.style}\r\n                payment={payment}\r\n                commit={true}\r\n                onAuthorize={onAuthorize}\r\n                onCancel={this.props.onCancel}\r\n\r\n                // \"Error: Unrecognized prop: shipping\" was caused by the next line\r\n                // shipping={this.props.shipping}\r\n            />\r\n        }\r\n        return <div>{ppbtn}</div>;\r\n    }\r\n}\r\nPaypalButton.propTypes = {\r\n    currency: PropTypes.string.isRequired,\r\n    total: PropTypes.number.isRequired,\r\n    client: PropTypes.object.isRequired,\r\n    style: PropTypes.object\r\n}\r\n\r\nPaypalButton.defaultProps = {\r\n    paymentOptions: {},\r\n    env: 'sandbox',\r\n    // null means buyer address is returned in the payment execution response\r\n    shipping: null,\r\n    onSuccess: (payment) => {\r\n        console.log('The payment was succeeded!', payment);\r\n    },\r\n    onCancel: (data) => {\r\n        console.log('The payment was cancelled!', data)\r\n    },\r\n    onError: (err) => {\r\n        console.log('Error loading Paypal script!', err)\r\n    }\r\n};\r\n\r\nexport default scriptLoader('https://www.paypalobjects.com/api/checkout.js')(PaypalButton);","import React, { Component } from 'react';\r\n\r\nimport * as Config from '../../../constants/parameterConfig';\r\n\r\nimport PaypalCheckoutBtn from '../../../utils/paypaConfig';\r\n\r\nexport default class PaypalButton extends Component {\r\n    render() {\t\t\r\n        const onSuccess = (payment) => {\r\n            console.log(\"Your payment was succeeded!\", payment);\r\n            let success = true;\r\n            this.props.resultsPaypalPayment(success, null, null);\r\n        }\t        \r\n        const onCancel = (data) => {\r\n            // User pressed \"cancel\" or close Paypal's popup! \r\n            // console.log('You have cancelled the payment!', data);\r\n            let cancel = \"Bạn đã hủy thanh toán!\";\r\n            this.props.resultsPaypalPayment(null, cancel, null);\r\n        }\t        \r\n        const onError = (err) => {\r\n            // The main Paypal's script cannot be loaded or somethings block the loading of that script! \r\n            console.log(\"Error!\", err);\r\n            // Since the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\" \r\n            // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\r\n            this.props.resultsPaypalPayment(null, null, err);\t\t \r\n        }\t\t            \r\n\r\n        // ]this is the cart amount (based on currency) to be paid by using Paypal express checkout \r\n        let order = this.props.order;\r\n        let products = order.products.map(item => {\r\n            return {\r\n                \"name\": item.name,\r\n                \"price\": item.price,\r\n                \"currency\": \"USD\",\r\n                \"quantity\": item.quantity\r\n            }\r\n        })\r\n        return (\r\n            <PaypalCheckoutBtn\r\n                env={Config.PAYPAL_CONFIG.env}\r\n                client={Config.PAYPAL_CONFIG.client}\r\n                // style={{label: 'Thanh toán',size: 'medium',shape: 'react',color: 'gold'}}\r\n                currency='USD'\r\n                total={order.total}\r\n                products={products}\r\n                onError={onError}\r\n                onSuccess={onSuccess}\r\n                onCancel={onCancel}\r\n            />\r\n        );\r\n    }  \r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport Cart from '../Modal/Cart/Cart';\r\nimport CartItem from '../Modal/Cart/CartItem';\r\n\r\n// import button checkout paypal\r\nimport PaypalButton from '../Modal/PaypalCheckout/PaypalButton';\r\nimport callAPI from '../../utils/connectAPI';\r\n\r\nclass Header extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: null,\r\n            cart: {\r\n                products: [],\r\n                total: 0\r\n            },\r\n            countCart: 0\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n        let cart = JSON.parse(sessionStorage.getItem(\"cart\"));\r\n        let countCart = Number(sessionStorage.getItem(\"countCart\"));\r\n        this.setState({ user, cart, countCart });\r\n    }\r\n    componentDidUpdate(prevState) {\r\n        let preAmount = prevState.amountCurrentItemCart, currAmount = this.props.amountCurrentItemCart;\r\n\r\n        if (preAmount != null  && currAmount != null && preAmount < currAmount) {\r\n            let user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n            let cart = JSON.parse(sessionStorage.getItem(\"cart\"));\r\n            let countCart = Number(sessionStorage.getItem(\"countCart\"));\r\n            this.setState({ user, cart, countCart });\r\n        }\r\n    }\r\n\r\n    isLogout = () => {\r\n        if (sessionStorage.getItem(\"user\")) {\r\n            sessionStorage.removeItem(\"user\");\r\n            window.location.href = '/login';\r\n        }\r\n    }\r\n\r\n    onDeleteItemCart = (id) => {\r\n        let { cart } = this.state;\r\n        cart.products = cart.products.filter(el => el._id !== id);\r\n\r\n        let countCart = 0, total = 0;\r\n        if (cart.products.length > 0) {\r\n            cart.products.forEach(el => {\r\n                total += el.price * el.quantity;\r\n                countCart += el.quantity;\r\n            });\r\n        }\r\n        cart.total = total;\r\n        this.setState({cart, countCart});\r\n\r\n        sessionStorage.setItem(\"cart\", JSON.stringify(cart));\r\n        sessionStorage.setItem(\"countCart\", Number(countCart));\r\n\r\n        if (this.props.isUpdateCheckout !== undefined)\r\n            this.props.updateCartInCheckout(cart, countCart);\r\n\r\n    }\r\n    onChangQuantity = (_id, newQuantity) => {\r\n        let { cart } = this.state;\r\n        let countCart = 0, total = 0;\r\n        if (cart.products.length > 0) {\r\n            cart.products.forEach(el => {\r\n                if (el._id === _id)\r\n                    el.quantity = newQuantity;\r\n\r\n                total += el.price * el.quantity;\r\n                countCart += el.quantity;\r\n            });\r\n        }\r\n        cart.total = total;\r\n        this.setState({cart, countCart});\r\n\r\n        sessionStorage.setItem(\"cart\", JSON.stringify(cart));\r\n        sessionStorage.setItem(\"countCart\", Number(countCart));\r\n    }\r\n    showModalCartItem = (products) => {\r\n        let result = null;\r\n        if (products.length > 0) {\r\n            result = products.map((element, index) => {\r\n                return (\r\n                    <CartItem\r\n                        key={index} element={element} countCart={this.state.countCart}\r\n                        onDeleteItemCart={this.onDeleteItemCart}\r\n                        onChangQuantity={this.onChangQuantity}    \r\n                    />\r\n                );\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    resultsPaypalPayment = (success, cancel, err) => {\r\n        if (success) {\r\n            this.onSaveBill(\"Thanh toán paypal\");            \r\n        }\r\n        else if (cancel) {\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: cancel,\r\n            });\r\n        }\r\n        else if (err) console.log(err);\r\n    }\r\n\r\n    onSaveBill = (checkout) => {\r\n        let {user, cart} = this.state;\r\n        sessionStorage.removeItem(\"cart\");\r\n        sessionStorage.removeItem(\"countCart\");\r\n        this.setState({\r\n            cart: {\r\n                products: [],\r\n                total: 0\r\n            },\r\n            countCart: 0\r\n        });\r\n        let bill = {user, cart, isCheckout: true, checkout, shipAddress: user.person.address};\r\n        // use to api connect server to save Bill\r\n        callAPI('bill/add', 'POST', {bill})\r\n            .then(res => {\r\n                let icon = 'success', title = \"\", text = \"\", outOfStock = res.data.outOfStock;\r\n                if (res.data.success)\r\n                    title = res.data.success;\r\n                else if (res.data.fail) {\r\n                    icon = \"error\";\r\n                    title = res.data.fail;\r\n                }\r\n                else if(outOfStock) {\r\n                    let length = outOfStock.length;\r\n                    title = \"Bạn đã mua hàng thành công!\";\r\n                    text = `Xin lỗi! Chúng tôi đã bỏ qua sản phẩm (`;\r\n                    for (let i = 0; i < length; i++) {\r\n                        if (i === length - 1)\r\n                            text += `${outOfStock[i].name}) do không đủ`;\r\n                        else\r\n                            text += `${outOfStock[i].name} - `;\r\n                    }\r\n                }\r\n                Swal.fire({\r\n                    icon,\r\n                    title,\r\n                    text\r\n                });\r\n            })\r\n            .catch((err) => { console.log(err) });\r\n    }\r\n\r\n    render() {\r\n        let { user, cart, countCart } = this.state;\r\n        return (\r\n            <header>\r\n                <div className=\"header-area\">\r\n                    <div id=\"sticky-header\" className=\"main-header-area\">\r\n                        <div className=\"container-fluid\">\r\n                            <div className=\"header_bottom_border\">\r\n                                <div className=\"row align-items-center\">\r\n                                    <div className=\"col-xl-2 col-lg-2\">\r\n                                        <div className=\"logo\">\r\n                                            <Link to=\"/\">\r\n                                                <img src=\"../../images/ddtravel.png\" width=\"170px\" height=\"100px\" alt=\"logo\" />\r\n                                            </Link>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-xl-7 col-lg-7\">\r\n                                        <div className=\"main-menu  d-none d-lg-block\">\r\n                                            <nav>\r\n                                                <ul id=\"navigation\">\r\n                                                    <li><Link className=\"active\" to=\"/\">trang chủ</Link></li>\r\n                                                    <li><Link to=\"\">diễn đàn <i className=\"fa fa-angle-down\" /></Link>\r\n                                                        <ul className=\"submenu\">\r\n                                                            <li><Link to=\"/blog\">trang cá nhân</Link></li>\r\n                                                            <li><Link to=\"/newfeed\">cộng đồng</Link></li>\r\n                                                        </ul>\r\n                                                    </li>\r\n                                                    <li>\r\n                                                        <Link to=\"/place\">địa điểm</Link>\r\n                                                    </li>\r\n                                                    <li><Link to=\"\">mua sắm <i className=\"fa fa-angle-down\" /></Link>\r\n                                                        <ul className=\"submenu\">\r\n                                                            <li><Link to=\"/product\">sản phẩm</Link></li>\r\n                                                            <li><Link to=\"/payment-history\">lịch sử đặt/mua hàng</Link></li>\r\n                                                        </ul>\r\n                                                    </li>\r\n                                                    <li><Link to=\"\">hành trình <i className=\"fa fa-angle-down\" /></Link>\r\n                                                        <ul className=\"submenu\">\r\n                                                            <li><Link to=\"/schedule\">Tạo lịch trình</Link></li>\r\n                                                            <li><Link to=\"/list-schedule\">Xem lịch trình</Link></li>\r\n                                                        </ul>\r\n                                                    </li>\r\n                                                    <li><Link to=\"/about\">về chúng tôi</Link></li>\r\n                                                </ul>\r\n                                            </nav>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-xl-3 col-lg-3 d-none d-lg-block\">\r\n                                        <div className=\"social_wrap d-flex align-items-center justify-content-end\">\r\n                                        {\r\n                                            user ? (\r\n                                                <div className=\"avatar\">\r\n                                                    {\r\n                                                        this.state.filePath ?\r\n                                                            <img src={this.state.filePath} className=\"avatar\" alt=\"ava\"/>\r\n                                                        :\r\n                                                           <img src={user.avatar} className=\"avatar\" alt=\"ava\" />\r\n                                                    }\r\n                                                </div>\r\n                                            ) : ''\r\n                                        }\r\n                                            &nbsp;&nbsp;\r\n                                            <div className=\"number\">\r\n                                                <p>\r\n                                                    {user ?\r\n                                                        (\r\n                                                            <span>\r\n                                                                {user.person.name}\r\n                                                            </span>\r\n                                                        )\r\n                                                        : ''\r\n                                                    }\r\n                                                </p>\r\n                                            </div>\r\n                                            \r\n                                            <div className=\"option-cart\">\r\n                                                <Link to='' className=\"cart-icon\">\r\n                                                    <i className=\"fa fa-shopping-cart color-icon\" />\r\n                                                    { countCart > 0 ? <span className=\"cart-no\"> {countCart < 10 ? `0${countCart}` : countCart} </span> : null }\r\n                                                </Link>\r\n                                                \r\n                                                {/* import modal cart */}\r\n                                                {\r\n                                                    countCart > 0 ? (\r\n\r\n                                                        <ul className=\"option-cart-item\">\r\n                                                            <Cart>\r\n                                                                { this.showModalCartItem(cart.products) }\r\n                                                            </Cart>\r\n\r\n                                                            <li className=\"total\">\r\n                                                                <span className=\"pt-total\">Tổng: <strong style={{fontSize: '20px'}}>${cart.total}</strong></span>\r\n                                                                {\r\n                                                                    user ? (\r\n                                                                        <div>\r\n                                                                            <PaypalButton\r\n                                                                                resultsPaypalPayment={this.resultsPaypalPayment}\r\n                                                                                order={cart}\r\n                                                                            />\r\n                                                                            <Link to=\"/checkout\"> <button className=\"checkout\">Đặt hàng</button> </Link>\r\n                                                                            {/* <button className=\"checkout\" onClick={() => this.onSaveBill(\"thanh toán trực tiếp\")}>Thanh toán</button> */}\r\n                                                                        </div>\r\n                                                                    ) : <div>\r\n                                                                            <br />\r\n                                                                            <p className=\"css-hasnot-login\">Bạn cần phải đăng nhập để thực hiện thanh toán</p>\r\n                                                                        </div>\r\n                                                                }\r\n                                                            </li>\r\n                                                        </ul>\r\n                                                    ) : null\r\n                                                }\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    \r\n                                    <div className=\"seach_icon\">\r\n                                        {user ?\r\n                                            (<Link to=''>\r\n                                                <i className=\"fa fa-sign-out\" style={{fontSize: '1.5rem'}} onClick={() => this.isLogout()}></i>\r\n                                            </Link>)\r\n                                            :\r\n                                            (<Link to='/login'>\r\n                                                <i className=\"fa fa-sign-in\" style={{fontSize: '1.5rem'}} />\r\n                                            </Link>)\r\n                                        }\r\n                                    </div>\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Footer extends Component {\r\n    render() {\r\n        return (\r\n            <footer className=\"footer\">\r\n                <div className=\"footer_top\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-xl-4 col-md-6 col-lg-4 \">\r\n                                <div className=\"footer_widget\" >\r\n                                    <div className=\"footer_logo\">\r\n                                        <Link to=\"\"><img src=\"../../images/ddtravel.png\" width=\"250px\" height=\"100px\" alt=\"footer_logo\" /></Link>\r\n                                    </div>\r\n                                    <p><i className=\"fa fa-map-marker\"></i>  328 Phạm Văn Đồng, phường 1, <br />quận Gò Vấp, Tp. Hồ Chí Minh</p><br />\r\n                                    <p><i className=\"fa fa-phone\"></i>  (+84) 585868587</p><br />\r\n                                    <p><i className=\"fa fa-envelope\"></i>  thanhduySofEng@gmail.com</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-xl-2 col-md-6 col-lg-2\">\r\n                                <div className=\"footer_widget\">\r\n                                    <h3 className=\"footer_title\" style={{marginLeft:'8px'}}>\r\n                                        Mạng xã hội\r\n                                    </h3>\r\n                                    <div className=\"socail_links\">\r\n                                    <ul>\r\n                                        <li>\r\n                                            <a href=\"http://facebook.com\">\r\n                                                <i className=\"fa fa-facebook\" />\r\n                                            </a>\r\n                                        </li>\r\n                                        <li>\r\n                                            <a href=\"http://accounts.google.com\">\r\n                                                <i className=\"fa fa-google\" />\r\n                                            </a>\r\n                                        </li>\r\n                                        <li>\r\n                                            <a href=\"http://instagram.com\">\r\n                                                <i className=\"fa fa-instagram\" />\r\n                                            </a>\r\n                                        </li>\r\n                                        <li>\r\n                                            <a href=\"http://youtube.com\">\r\n                                                <i className=\"fa fa-youtube-play\" />\r\n                                            </a>\r\n                                        </li>\r\n                                    </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-xl-3 col-md-6 col-lg-3\">\r\n                                <div className=\"footer_widget\">\r\n                                    <h3 className=\"footer_title\"> Địa điểm </h3>\r\n                                    <ul className=\"links double_links\">\r\n                                        <li><Link to=''>Lâm Đồng</Link></li>\r\n                                        <li><Link to=''>Vũng Tàu</Link></li>\r\n                                        <li><Link to=''>Cà Mau</Link></li>\r\n                                        <li><Link to=''>Tp. Hồ Chí Minh</Link></li>\r\n                                        <li><Link to=''>Cần Thơ</Link></li>\r\n                                        <li><Link to=''>Bến Tre</Link></li>\r\n                                        <li><Link to=''>Khánh Hòa</Link></li>\r\n                                        <li><Link to=''>Đà Nẵng</Link></li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-xl-3 col-md-6 col-lg-3\">\r\n                                <div className=\"footer_widget\">\r\n                                    <h3 className=\"footer_title\"> Hình ảnh nổi bật </h3>\r\n                                    <div className=\"instagram_feed\">\r\n                                        <div className=\"single_insta\">\r\n                                            <Link to=\"\">\r\n                                                <img src=\"../../images/instagram/1.png\" alt=\"\" />\r\n                                            </Link>\r\n                                        </div>\r\n                                        <div className=\"single_insta\">\r\n                                            <Link to=\"\">\r\n                                                <img src=\"../../images/instagram/2.png\" alt=\"\" />\r\n                                            </Link>\r\n                                        </div>\r\n                                        <div className=\"single_insta\">\r\n                                            <Link to=\"\">\r\n                                                <img src=\"../../images/instagram/3.png\" alt=\"\" />\r\n                                            </Link>\r\n                                        </div>\r\n                                        <div className=\"single_insta\">\r\n                                            <Link to=\"\">\r\n                                                <img src=\"../../images/instagram/4.png\" alt=\"\" />\r\n                                            </Link>\r\n                                        </div>\r\n                                        <div className=\"single_insta\">\r\n                                            <Link to=\"\">\r\n                                                <img src=\"../../images/instagram/5.png\" alt=\"\" />\r\n                                            </Link>\r\n                                        </div>\r\n                                        <div className=\"single_insta\">\r\n                                            <Link to=\"\">\r\n                                                <img src=\"../../images/instagram/6.png\" alt=\"\" />\r\n                                            </Link>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"copy-right_text\">\r\n                    <div className=\"container\">\r\n                        <div className=\"footer_border\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-xl-12\">\r\n                                    <p className=\"copy_right text-center\">\r\n                                        Website du lịch và dịch vụ bán sản phẩm du lịch <br />\r\n                                        Bản quyền thuộc về Nhóm 28 - Khóa luận tốt nghiệp ® 2020\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </footer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Banner extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"bd-example\">\r\n                <div id=\"carouselExampleCaptions\" className=\"carousel slide\" data-ride=\"carousel\">\r\n                    <ol className=\"carousel-indicators\">\r\n                        <li data-target=\"#carouselExampleCaptions\" data-slide-to={0} className=\"active\" />\r\n                        <li data-target=\"#carouselExampleCaptions\" data-slide-to={1} />\r\n                        <li data-target=\"#carouselExampleCaptions\" data-slide-to={2} />\r\n                    </ol>\r\n                    <div className=\"carousel-inner\">\r\n                        <div className=\"carousel-item active\">\r\n                            <img src=\"/images/banner.png\" className=\"d-block w-100\" alt=\"...\" />\r\n                            <div className=\"carousel-caption d-md-block\">\r\n                                <h3>Dat Mui</h3>\r\n                                <p>xã Đất Mũi, huyện Ngọc Hiển, tỉnh Cà Mau</p>\r\n                                <Link to=\"\" className=\"boxed-btn3\">Khám phá ngay</Link>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img src=\"/images/banner2.png\" className=\"d-block w-100\" alt=\"...\" />\r\n                            <div className=\"carousel-caption d-md-block\">\r\n                                <h3>Dam Sen</h3>\r\n                                <p>3 Hòa Bình, phường 3, quận 11, Tp. Hồ Chí Minh</p>\r\n                                <Link to=\"\" className=\"boxed-btn3\">Khám phá ngay</Link>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carousel-item\">\r\n                            <img src=\"/images/banner3.png\" className=\"d-block w-100\" alt=\"...\" />\r\n                            <div className=\"carousel-caption d-md-block\">\r\n                                <h3>Da Lat</h3>\r\n                                <p>Tp. Đà Lạt, tỉnh Lâm Đồng</p>\r\n                                <Link to=\"\" className=\"boxed-btn3\">Khám phá ngay</Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <a className=\"carousel-control-prev\" href=\"#carouselExampleCaptions\" role=\"button\" data-slide=\"prev\">\r\n                        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\" />\r\n                        <span className=\"sr-only\">Previous</span>\r\n                    </a>\r\n                    <a className=\"carousel-control-next\" href=\"#carouselExampleCaptions\" role=\"button\" data-slide=\"next\">\r\n                        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\" />\r\n                        <span className=\"sr-only\">Next</span>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Banner;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nclass Utilities extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"travel_variation_area\">\r\n                <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-3 col-md-6\">\r\n                    <div className=\"single_travel text-center\">\r\n                        <div className=\"icon\">\r\n                        <Link to=\"/schedule\"><img src=\"images/map.svg\" alt=\"\" style={{width:'100px', height:'100px'}}/></Link>\r\n                        </div>\r\n                        <h3>Lập hành trình</h3>\r\n                        <p>Giúp người dùng dễ dàng và tiết kiệm thời gian với tiện ích lập hành trình cho chuyến đi.</p>\r\n                    </div>\r\n                    </div>\r\n                    <div className=\"col-lg-3 col-md-6\">\r\n                    <div className=\"single_travel text-center\">\r\n                        <div className=\"icon\">\r\n                        <Link to=\"/post\"><img src=\"images/share.svg\" alt=\"\" style={{width:'100px', height:'100px'}}/></Link>\r\n                        </div>\r\n                        <h3>Chia sẻ khoảnh khắc</h3>\r\n                        <p>Cùng giữ lại những kỉ niệm, khoảnh khắc và trải nghiệm du lịch tuyệt vời nhất với chúng tôi.</p>\r\n                    </div>\r\n                    </div>\r\n                    <div className=\"col-lg-3 col-md-6\">\r\n                    <div className=\"single_travel text-center\">\r\n                        <div className=\"icon\">\r\n                        <Link to=\"/place\"><img src=\"images/global.svg\" alt=\"\" style={{width:'100px', height:'100px'}}/></Link>\r\n                        </div>\r\n                        <h3>Điểm đến</h3>\r\n                        <p>Khám phá, nắm bắt các thông tin cơ bản từ các điểm đến và đánh giá chi tiết từ thành viên. </p>\r\n                    </div>\r\n                    </div>\r\n                    <div className=\"col-lg-3 col-md-6\">\r\n                    <div className=\"single_travel text-center\">\r\n                        <div className=\"icon\">\r\n                        <Link to=\"/product\"><img src=\"images/product.svg\" alt=\"\" style={{width:'100px', height:'100px'}}/></Link>\r\n                        </div>\r\n                        <h3>Dịch vụ bán sản phẩm</h3>\r\n                        <p>Hỗ trợ các bạn việc chuẩn bị đồ dùng cần thiết cho chuyến đi tốt nhất trên khắp các điểm đến. </p>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Utilities;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Moment from 'react-moment';\r\n\r\nclass RecentTrip extends Component {\r\n    render() {\r\n        let { post } = this.props;\r\n        return (\r\n            <div className=\"col-lg-4 col-md-6 mb-5\">\r\n                <div className=\"post_populartrip\">\r\n                    <label className=\"mask-lable\">\r\n                        <img src={post.images} alt=\"err\" style={{ width: '349.98px', height: '261.04px' }} />\r\n                        <span className=\"hide-posticon\">\r\n                            <i className=\"fa fa-heart\" > {post.sumLike} </i>\r\n                            &nbsp;&nbsp;\r\n                            <i className=\"fa fa-comment\" > {post.comments.length} </i>\r\n                        </span>\r\n                    </label>\r\n                    <div className=\"info\">\r\n                        <div className=\"social_wrap d-flex align-items-center justify-content\">\r\n                            <div className=\"avatar\">\r\n                                <img src={post.account.avatar} className=\"avatar\" alt=\"ava\" />\r\n                            </div>\r\n                                &nbsp;&nbsp;\r\n                            <div className=\"number\">\r\n                                <span>\r\n                                    <b>{post.account.person.name}</b> <br />\r\n                                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">\r\n                                        {post.postDate}\r\n                                    </Moment>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <Link to={'/post-detail/' + post._id}>\r\n                            <span className=\"css-content\"> {post.content} </span>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default RecentTrip;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass PopularPlaces extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"popular_places_area\">\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-lg-6\">\r\n                            <div className=\"section_title text-center mb_70\">\r\n                                <h3>ĐỊA ĐIỂM NỔI BẬT</h3>\r\n                                <p>Những địa điểm nổi bật được người trải nghiệm đánh giá từ 4 đến 5 sao</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        {/* show list places */}\r\n                        { this.props.children }\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-12\">\r\n                            <div className=\"more_place_btn text-center\">\r\n                                <Link to='/place' className=\"boxed-btn4\" >Xem thêm</Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PopularPlaces;","import React, { Component } from 'react';\r\n\r\nexport default class StarRating extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n        this.state = {\r\n            rating: 0,\r\n            hover: 0\r\n        };\r\n    }\r\n\r\n    onStarClick = (ratingValue) => {\r\n        this.setState({rating: ratingValue});\r\n\r\n        this.props.saveRating(ratingValue);\r\n    }\r\n    onSetHover = (ratingValue) => {\r\n        this.setState({hover: ratingValue});\r\n    }\r\n\r\n    render() {\r\n        let { numberOfStars, size, editing, value } = this.props, margin_right = size < 20 ? \"1px\" : \"5px\";\r\n        let { rating, hover } = this.state;\r\n        return (\r\n            <div className=\"star-rating\">\r\n                {[...Array(numberOfStars)].map((star, i) => {\r\n                    let ratingValue = i + 1;\r\n                    let styleColor = ratingValue <= (hover || rating) ? \"#ffc107\" : \"gray\";\r\n                    return (\r\n                        editing ? (\r\n                            <label key={i}>\r\n                                <input type=\"radio\" name=\"rating\"\r\n                                    value={ratingValue} onClick={() => this.onStarClick(ratingValue)}\r\n                                />\r\n                                <i className=\"star fa fa-star\"\r\n                                    style={{fontSize: `${size}px`, color: styleColor, marginRight: margin_right}}\r\n                                    onMouseLeave={() => this.onSetHover(0)}\r\n                                    onMouseEnter={() => this.onSetHover(ratingValue)}\r\n                                />\r\n                            </label>\r\n                        ) : (\r\n                            <label key={i}>\r\n                                <input type=\"radio\" name=\"rating\" value={ratingValue} />\r\n                                <i className=\"star fa fa-star\"\r\n                                    style={{fontSize: `${size}px`, color: ratingValue <= value ? \"#ffc107\" : \"e4e5e9\", marginRight: margin_right}}\r\n                                />\r\n                            </label>\r\n                        )\r\n                    )\r\n                })\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport StarRating from '../Evaluation/StarRating';\r\n\r\nexport default class Destination extends Component {\r\n\r\n    render() {\r\n        var { destination } = this.props;\r\n        return (\r\n            <div className=\"col-lg-4 col-md-6\">\r\n                <div className=\"single_place\">\r\n                    <div className=\"thumb\">\r\n                        <img src={destination.images} alt=\"err\" title={destination.name} />\r\n                        {/* <Link to=\"\" className=\"prise\">$500</Link> */}\r\n                    </div>\r\n                    <div className=\"place_info\">\r\n                        <Link to={\"/place/destination/\" + destination._id} key={destination._id}><h3> {destination.name}</h3></Link>\r\n                        \r\n                        <div className=\"rating_days d-flex justify-content-between\">\r\n                            <StarRating\r\n                                numberOfStars={5}\r\n                                value={Math.round(destination.rating)}\r\n                                size={10}\r\n                                editing={false}\r\n                            />\r\n                            <span className=\"d-flex justify-content-end align-items-center\">\r\n                                <Link to=\"\">{destination.review} đánh giá</Link>\r\n                            </span>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\n\r\nimport Banner from '../components/Banner';\r\nimport Utilities from '../components/Utilities';\r\nimport RecentTrip from '../components/RecentTrip';\r\n\r\nimport PopularPlaces from '../components/Places/PopularPlaces';\r\n\r\nimport callAPI from '../utils/connectAPI';\r\nimport Destination from '../components/Destination/Destination';\r\n\r\nclass HomePage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            places: [],\r\n            posts: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        callAPI('place/popular-place', 'GET', null)\r\n            .then(res => {\r\n                this.setState({\r\n                    places: res.data\r\n                })\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n\r\n        callAPI('post/post-recent', 'GET', null)\r\n            .then(res => {\r\n                this.setState({\r\n                    posts: res.data\r\n                })\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    render() {\r\n        var { places, posts } = this.state;\r\n        return (\r\n            <div className=\"HomePage\">\r\n                <Header />\r\n                <Banner />\r\n                {/* <Search receiveInfoSearch={this.receiveInfoSearch} title=\"Bạn muốn đi đâu?\" input=\"Nhập tên địa điểm\" /> */}\r\n                <PopularPlaces>\r\n                    {this.showPlaces(places)}\r\n                </PopularPlaces>\r\n                <Utilities />\r\n                <div className=\"recent_trip_area\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-lg-6\">\r\n                                <div className=\"section_title text-center mb_50\" style={{marginTop:'-90px'}}>\r\n                                    <h3>CHUYẾN ĐI GẦN ĐÂY</h3>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            {this.showPostRecent(posts)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div >\r\n        );\r\n    }\r\n\r\n    showPlaces = (places) => {\r\n        let result = null;\r\n        if (places.length > 0) {\r\n            result = places.map((currentPlace, index) => {\r\n                return (\r\n                    <Destination\r\n                        key={index}\r\n                        destination={currentPlace}\r\n                    />\r\n                );\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    showPostRecent = (posts) => {\r\n        let result = null;\r\n        if (posts.length > 0) {\r\n            result = posts.map((currentPost, index) => {\r\n                return (\r\n                    <RecentTrip\r\n                        key={index}\r\n                        post={currentPost}\r\n                    />\r\n                );\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\nexport default HomePage;","import React, { Component } from 'react';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport callAPI from '../utils/connectAPI';\r\n\r\nclass SignUp extends Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            name: '',\r\n            email: '',\r\n            username: '',\r\n            password: '',\r\n            confirmPassword: ''\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    onChange = (event) => {\r\n        var name = event.target.name;\r\n        var value = event.target.value;\r\n\r\n        this.setState({\r\n            [name] : value\r\n        });\r\n    };\r\n\r\n    onSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        var { name, email, username, password, confirmPassword } = this.state;\r\n\r\n        let checkName = false, checkEmail = false, checkUsername = false, checkPass = false, checkConPass = false;\r\n        if (name !== '') {\r\n            checkName = true;\r\n            document.getElementById('errName').innerHTML = '';\r\n        }\r\n        else {\r\n            document.getElementById('errName').style.color = 'red';\r\n            document.getElementById('errName').innerHTML = 'Tên không được rỗng.';\r\n        }\r\n\r\n        let rexEmail = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/;\r\n        if (email === '') {\r\n            document.getElementById('errEmail').style.color = 'red';\r\n            document.getElementById('errEmail').innerHTML = 'Email không được rỗng.';\r\n        }\r\n        else if (!rexEmail.test(email)) {\r\n            document.getElementById('errEmail').style.color = 'red';\r\n            document.getElementById('errEmail').innerHTML = 'Email không hợp lệ. Hãy thử lại!';\r\n        }\r\n        else {\r\n            checkEmail = true;\r\n            document.getElementById('errEmail').innerHTML = '';\r\n        }\r\n\r\n        if (username !== '') {\r\n            checkUsername = true;\r\n            document.getElementById('errUsername').innerHTML = '';\r\n        }\r\n        else {\r\n            document.getElementById('errUsername').style.color = 'red';\r\n            document.getElementById('errUsername').innerHTML = 'Tài khoản không được rỗng.';\r\n        }\r\n\r\n        if (password !== '') {\r\n            checkPass = true;\r\n            document.getElementById('errPass').innerHTML = '';\r\n        }\r\n        else {\r\n            document.getElementById('errPass').style.color = 'red';\r\n            document.getElementById('errPass').innerHTML = 'Mật khẩu không được rỗng.';\r\n        }\r\n\r\n        if (password === confirmPassword) {\r\n            checkConPass = true;\r\n            document.getElementById('errConPass').innerHTML = '';\r\n        } else {\r\n            document.getElementById('errConPass').style.color = 'red';\r\n            document.getElementById('errConPass').innerHTML = 'Mật khẩu không khớp.';\r\n        }\r\n\r\n        if (checkName && checkEmail && checkUsername && checkPass && checkConPass) {\r\n            callAPI('account/add', 'POST', { name, email, username, password })\r\n                .then(res =>{\r\n                    if (res.data.message){\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: res.data.message\r\n                        })\r\n                    } else {\r\n                        Swal.fire({\r\n                            icon: 'success',\r\n                            title: 'Đăng ký tài khoản thành công',\r\n                        })\r\n                        this.setState({\r\n                            name: '',\r\n                            email: '',\r\n                            username: '',\r\n                            password: '',\r\n                            confirmPassword: ''\r\n                        });\r\n                    }\r\n                }).catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={(event) => this.onSubmit(event)}>\r\n                <span className=\"login100-form-title\">\r\n                    Đăng ký tài khoản\r\n                </span>\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Họ tên là bắt buộc\">\r\n                    <input className=\"input100\" type=\"text\" name=\"name\" placeholder=\"Họ tên\" required\r\n                        value={this.state.name}\r\n                        onChange={(event) => this.onChange(event)}\r\n                    />\r\n                    <span className=\"focus-input100\" />\r\n                    <span className=\"symbol-input100\">\r\n                        <i className=\"fa fa-user-circle-o\" aria-hidden=\"true\" />\r\n                    </span>\r\n                </div>\r\n                <span id=\"errName\"></span>\r\n\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Email là bắt buộc\">\r\n                    <input className=\"input100\" type=\"email\" name=\"email\" placeholder=\"Email\" required\r\n                        value={this.state.email}\r\n                        onChange={(event) => this.onChange(event)}\r\n                    />\r\n                    <span className=\"focus-input100\" />\r\n                    <span className=\"symbol-input100\">\r\n                        <i className=\"fa fa-envelope\" aria-hidden=\"true\" />\r\n                    </span>\r\n                </div>\r\n                <span id=\"errEmail\"></span>\r\n\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Tài khoản là bắt buộc\">\r\n                    <input className=\"input100\" type=\"text\" name=\"username\" placeholder=\"Tài khoản\" required\r\n                        value={this.state.username}\r\n                        onChange={(event) => this.onChange(event)}\r\n                    />\r\n                    <span className=\"focus-input100\" />\r\n                    <span className=\"symbol-input100\">\r\n                        <i className=\"fa fa-user\" aria-hidden=\"true\" />\r\n                    </span>\r\n                </div>\r\n                <span id=\"errUsername\"></span>\r\n\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Mật khẩu là bắt buộc\" > \r\n                    <input className=\"input100\" type=\"password\" name=\"password\" placeholder=\"Mật khẩu\" required\r\n                        value={this.state.password}\r\n                        onChange={(event) => this.onChange(event)}\r\n                    />\r\n                    <span className=\"focus-input100\" />\r\n                    <span className=\"symbol-input100\">\r\n                        <i className=\"fa fa-lock\" aria-hidden=\"true\" />\r\n                    </span>\r\n                </div>\r\n                <span id=\"errPass\"></span>\r\n\r\n                <div className=\"wrap-input100 validate-input\" data-validate=\"Xác nhận mật khẩu là bắt buộc\">\r\n                    <input className=\"input100\" type=\"password\" name=\"confirmPassword\" placeholder=\"Xác nhận mật khẩu\" required\r\n                        value={this.state.confirmPassword}\r\n                        onChange={(event) => this.onChange(event)}\r\n                    />\r\n                    <span className=\"focus-input100\" />\r\n                    <span className=\"symbol-input100\">\r\n                        <i className=\"fa fa-check-circle\" aria-hidden=\"true\" />\r\n                    </span>\r\n                </div>\r\n                <span id=\"errConPass\"></span>\r\n\r\n                <div className=\"container-login100-form-btn\">\r\n                    <button type=\"submit\" className=\"login100-form-btn\"> Đăng ký </button>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SignUp;","import React, { Component } from 'react';\r\nimport SignUp from '../components/SignUp';\r\n\r\nclass SignUpPage extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"limiter\">\r\n                <div className=\"container-login100\">\r\n                    <div className=\"wrap-login100\">\r\n                        <div className=\"login100-pic\">\r\n                            <img src=\"images/logo_login.jpg\" alt=\"IMG\" />\r\n                        </div>\r\n\r\n                        <div className=\"login100-form validate-form\" style={{marginTop:'30px'}}>\r\n                            <SignUp />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SignUpPage;","import React, { Component } from 'react';\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport callAPI from './../utils/connectAPI';\r\nimport StarRating from '../components/Evaluation/StarRating';\r\n\r\nclass PlaceDetailPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            place: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        callAPI(`place/${this.props.object.match.params.id}`, 'GET', null)\r\n            .then(res => {\r\n                this.setState({\r\n                    place: res.data\r\n                })\r\n            })\r\n            .catch((err) => console.log(err))\r\n    }\r\n\r\n    showDestination = (place) => {\r\n        return place.destination.map((currentDestination, index) => {\r\n            return (\r\n                <div key={index} className=\"col-lg-4 col-md-6\">\r\n                <div  className=\"single_place\">\r\n                    <div className=\"thumb\">\r\n                        <img src={currentDestination.images} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"place_info\">\r\n                    <Link to={\"/place/destination/\" + currentDestination._id} key={currentDestination._id}><h3> {currentDestination.name}</h3></Link>\r\n                        <p>{currentDestination.area}</p>\r\n                        <div className=\"rating_days d-flex justify-content-between\">\r\n                            <StarRating\r\n                                numberOfStars={5}\r\n                                value={Math.round(currentDestination.rating)}\r\n                                size={10}\r\n                                editing={false}\r\n                            />\r\n                            <span className=\"d-flex justify-content-end align-items-center\">\r\n                                <Link to=\"\">{currentDestination.review} đánh giá</Link>\r\n                            </span>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let { place } = this.state;\r\n        if (place === null)\r\n            return null;\r\n        return (\r\n            <div>\r\n\r\n                <Header />\r\n\r\n                <div>\r\n                    <div className=\"destination_banner_wrap overlay\" style={{ backgroundImage: `url(${place.images})` }}>\r\n                        <div className=\"destination_text text-center\">\r\n                            <h3>{place.name}</h3>\r\n                            <p>{place.area}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"destination_details_info\">\r\n                        <div className=\"container\">\r\n                            <div className=\"row justify-content-center\">\r\n                                <div className=\"col-lg-8 col-md-9\">\r\n                                    <div className=\"destination_info\">\r\n                                        <h3>Chào mừng bạn đến với {place.name}</h3>\r\n                                        <p>{place.description}</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"popular_places_area\">\r\n                        <div className=\"container\">\r\n                            <h3>Các điểm du lịch tại {place.name}</h3>\r\n                            <div className=\"row\">\r\n                                {this.showDestination(place)}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PlaceDetailPage;","import React, { Component } from 'react';\r\n\r\nexport default class NotFoundpage extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-warning\">\r\n                    <h1>Không tìm thấy đường dẫn trang</h1>\r\n                </div>\r\n            </div>\r\n          );\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nclass Search extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            infoSearch: '',\r\n        }\r\n    }\r\n\r\n    onChange = (event) => {\r\n        var name = event.target.name;\r\n        var value = event.target.value;\r\n        this.setState({\r\n            [name] : value\r\n        });\r\n    }\r\n\r\n    onSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.props.receiveInfoSearch(this.state.infoSearch);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"where_togo_area\">\r\n                <div className=\"container\">\r\n                    <div className=\"row align-items-center\">    \r\n                        <div className=\"col-lg-3\">\r\n                            <div className=\"form_area\">\r\n                                <h3>{this.props.title}</h3>\r\n                            </div>\r\n                        </div>\r\n                    <div className=\"col-lg-9\">\r\n                        <div className=\"search_wrap\">\r\n                            <form className=\"search_form\" onSubmit={this.onSubmit}>\r\n                                <div className=\"input_field\" style={{width: '650px'}}>\r\n                                    <input type=\"text\" name=\"infoSearch\" value={this.state.infoSearch}\r\n                                        placeholder={this.props.input} onChange={this.onChange}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"search_btn\">\r\n                                    <button className=\"boxed-btn4\" type=\"submit\">Tìm kiếm</button>\r\n                                </div>\r\n                        </form>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Search;","import React, { Component } from 'react';\r\n\r\nclass Product extends Component {\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-lg-6\">\r\n                        <div className=\"section_title text-center mb_70\">\r\n                            <h3>SẢN PHẨM</h3>\r\n                            <p>Các sản phẩm, đồ dùng cần thiết cho những chuyến đi du lịch</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    \r\n                    {this.props.children}\r\n                    \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Product;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport StarRating from '../Evaluation/StarRating';\r\nimport './Product.css'\r\n\r\nexport default class Product extends Component {\r\n    onChoose = (product, quantity) => {\r\n        let tempQuantity = product.quantity;\r\n        let cart = JSON.parse(sessionStorage.getItem(\"cart\"));\r\n        if (cart == null)\r\n            cart = {\r\n                products: [],\r\n                total: 0\r\n            };\r\n        let countCart = 0;\r\n        countCart = Number(sessionStorage.getItem(\"countCart\"));\r\n        if (countCart >= 10)\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: \"Cảnh báo\",\r\n                text: \"Số lượng sản phẩm trong giỏ hàng không được vượt quá 10\",\r\n            })\r\n        else {\r\n            let { products } = cart;\r\n            let tempProduct = product;\r\n            if (products.length > 0) {\r\n                let flag = false;   // this product hasn't in cart\r\n                cart.total = 0;     // reset total = 0 in cart\r\n                products.forEach(el => {\r\n                    if (el._id === product._id) {\r\n                        flag = true;\r\n                        el.quantity += quantity;\r\n\r\n                        // kiểm tra số lượng sản phẩm này trong kho có còn cung cấp đủ hay ko?\r\n                        if (el.quantity > product.quantity) {\r\n                            el.quantity -= quantity;    // trả lại y củ số lượng sản phẩm này trong giỏ hàng\r\n                            countCart -= quantity;\r\n                            Swal.fire({\r\n                                icon: 'warning',\r\n                                title: \"Cảnh báo\",\r\n                                text: \"Số lượng sản phẩm trong kho không đủ để thêm vào giỏ hàng nữa\",\r\n                            })\r\n                        }\r\n                    }\r\n                    cart.total += el.quantity * el.price;\r\n                });\r\n                if (!flag) {\r\n                    tempProduct.quantity = quantity;\r\n                    cart.total += tempProduct.price * quantity;\r\n                    products.push(tempProduct);\r\n                }\r\n            }\r\n            else {\r\n                tempProduct.quantity = quantity;\r\n                cart.total = tempProduct.price * quantity;\r\n                products.push(tempProduct);\r\n            }\r\n            countCart += quantity;\r\n            // cart.products = products;\r\n\r\n            sessionStorage.setItem(\"cart\", JSON.stringify(cart));\r\n            sessionStorage.setItem(\"countCart\", Number(countCart));\r\n\r\n            // refresh\r\n            let amount = this.props.amountCurrentItemCart;\r\n            this.props.onAddItemIntoCart(++amount, product, tempQuantity);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var { product } = this.props;\r\n        return (\r\n            <div className=\"col-lg-4 col-md-6\">\r\n                <div className=\"single_product\">\r\n                    <div className=\"thumb\">\r\n                        <img src={product.images} alt=\"product-img\" title={product.name}/>\r\n                        <Link to='' className=\"prise\">${product.price}</Link>\r\n                        {product.amountPurchase > 0 ? <span className=\"product-hot\">Hot</span> : null}\r\n                    </div>\r\n                    <div className=\"product_info\">\r\n                        <Link to={\"/product-detail/\" + product._id}> <h3> {product.name} </h3> </Link>\r\n                        <p>{product.description}</p>\r\n\r\n                        <StarRating\r\n                            numberOfStars={5}\r\n                            value={Math.round(product.rating)}\r\n                            size={10}\r\n                            editing={false}\r\n                        />\r\n\r\n                        <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fa fa-info-circle\" /><Link to={\"/product-detail/\" + product._id}> Chi tiết</Link></button>&nbsp;\r\n                        {product.status === true ?\r\n                            <button className=\"btn btn-warning\" onClick={() => this.onChoose(product, 1)} ><i className=\"fa fa-shopping-cart\" /> Chọn mua</button>\r\n                            : null\r\n                        }\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport './PagesNumber.css';\r\n\r\n// const PageButton = ({currentPage, page}) => {\r\n//     console.log(page);\r\n//     return (\r\n//         page.number === currentPage ? (\r\n//             <span className=\"currentPage\" > {page.number} </span>\r\n//         ) : (\r\n//             <button className=\"pages\"> {page.number} </button>\r\n//         )\r\n//     );\r\n// };\r\n\r\nexport default class PagesNumber extends Component {\r\n\r\n    showPagesNumber = (pages, currentPage) => {\r\n        let result = null;\r\n        if (pages.length > 0) {\r\n            result = pages.map((page, index) => {\r\n                return (\r\n                    page.number === currentPage ? (\r\n                        <span className=\"currentPage\" key={index} > {page.number} </span>\r\n                    ) : (\r\n                        <button key={index} className=\"pages\" onClick={() => this.onClick(page.number)}> {page.number} </button>\r\n                    )\r\n                    // <PageButton key={index} currentPage={currentPage} page={page} />\r\n                );\r\n            });\r\n        }\r\n        return result;\r\n    };\r\n\r\n    onClick = (number) => {\r\n        this.props.onChangePage(number);\r\n    }\r\n\r\n    render() {\r\n        var { pages, currentPage } = this.props;\r\n        return (\r\n            <div className=\"paginator\">\r\n                { this.showPagesNumber(pages, currentPage) }\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\nimport Search from '../components/Home/Search/Search';\r\n\r\n// import components Products\r\nimport ProductList from '../components/Products/ProductList';\r\nimport Product from '../components/Products/Product';\r\n\r\n// import components PagesNumber in Menu\r\nimport PagesNumber from '../components/Menu/PagesNumber/PagesNumber';\r\n\r\nimport callAPI from '../utils/connectAPI';\r\n\r\nclass ProductPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            products: [],\r\n            pages: [\r\n              {\r\n                number: 1\r\n              }  \r\n            ],\r\n            currentPage: 1,\r\n            amountCurrentItemCart: 0\r\n        }\r\n    }\r\n\r\n    getProductsWhenConnectMongo = () => {\r\n        callAPI('product', 'GET', null)\r\n            .then(res => {\r\n                let { products, totalPages } = res.data;\r\n                let pages = [];\r\n                for (let i = 1; i <= totalPages; i++)\r\n                    pages.push({number: i});\r\n                this.setState({\r\n                    products, pages\r\n                });\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getProductsWhenConnectMongo();\r\n    }\r\n\r\n    onChangePage = (pageNumber) => {\r\n        this.setState({currentPage: pageNumber});\r\n        \r\n        callAPI(`product/page=${pageNumber}`, 'GET', null)\r\n            .then(res => {\r\n                let { products } = res.data;\r\n                this.setState({\r\n                    products\r\n                });\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    onAddItemIntoCart = (amountCurrentItemCart, product, tempQuantity) => {\r\n        this.setState({\r\n            products: this.state.products.map(el => {\r\n                if (el._id === product._id)\r\n                    el.quantity = tempQuantity;\r\n                return el;\r\n            }),\r\n            amountCurrentItemCart\r\n        });\r\n        // callAPI(`product/page=${this.state.currentPage}`, 'GET', null)\r\n        //     .then(res => {\r\n        //         // let { products } = res.data;\r\n\r\n        //     })\r\n        //     .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    receiveInfoSearch = (infoSearch) => {\r\n        if (infoSearch)\r\n            callAPI(`product/search=${infoSearch}`, 'GET', null)\r\n                .then(res => {\r\n                    if (res.data.message)\r\n                        Swal.fire({\r\n                            icon: 'warning',\r\n                            title: res.data.message,\r\n                        });\r\n                    \r\n                    else {\r\n                        let { products } = res.data;\r\n                        this.setState({\r\n                            products\r\n                        });\r\n                    }\r\n                })\r\n                .catch((err) => { console.log(err) });\r\n        else\r\n            this.getProductsWhenConnectMongo();\r\n    }\r\n\r\n    showProductList = (products, amountCurrentItemCart) => {\r\n        let result = null;\r\n        if (products.length > 0) {\r\n            result = products.map((product, index) => {\r\n                return (\r\n                    <Product\r\n                        key={index}\r\n                        product={product}\r\n                        amountCurrentItemCart = {amountCurrentItemCart}\r\n                        onAddItemIntoCart = {this.onAddItemIntoCart}\r\n                    />\r\n                );\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    render() {\r\n        \r\n        var { products, pages, currentPage, amountCurrentItemCart } = this.state;\r\n        // console.log(products);\r\n        return (\r\n            <div>\r\n                <Header amountCurrentItemCart={amountCurrentItemCart}  />\r\n                \r\n                <Search receiveInfoSearch={this.receiveInfoSearch} title=\"Bạn muốn tìm sản phẩm gì?\" input=\"Nhập tên sản phẩm\"/>\r\n\r\n                <div className=\"product_list\">\r\n                    <ProductList>\r\n                        { this.showProductList(products, amountCurrentItemCart) }\r\n                    </ProductList>\r\n\r\n                    {\r\n                        (pages.length > 1) ? (\r\n                            /* Phân trang */\r\n                            <PagesNumber pages={pages} currentPage={currentPage} onChangePage={this.onChangePage} />\r\n                        ) : null\r\n                    }\r\n                </div>\r\n\r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductPage;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class Place extends Component {\r\n\r\n    render() {\r\n        var { place } = this.props;\r\n        return (\r\n            <div className=\"col-lg-4 col-md-6\">\r\n                <div className=\"single_place\">\r\n                    <div className=\"thumb\">\r\n                        <img src={place.images} alt=\"err\" title={place.name} />\r\n                    </div>\r\n                    <div className=\"place_info\">\r\n                        <Link to={\"/place/\" + place._id} key={place._id}><h3> {place.name}</h3></Link>\r\n                        <p>{place.area}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\nimport Search from '../components/Home/Search/Search';\r\nimport Place from '../components/Places/Place';\r\n\r\n// import components PagesNumber in Menu\r\nimport PagesNumber from '../components/Menu/PagesNumber/PagesNumber';\r\n\r\nimport callAPI from '../utils/connectAPI';\r\n\r\nclass PlacePage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            places: [],\r\n            pages: [\r\n                {\r\n                  number: 1\r\n                }  \r\n              ],\r\n            currentPage: 1\r\n        }\r\n    }\r\n\r\n    getPlacesWhenConnectMongo = () =>{\r\n        callAPI('place/list-place', 'GET', null)\r\n            .then(res => {\r\n                let { places, totalPages } = res.data;\r\n                let pages = [];\r\n                for (let i = 1; i <= totalPages; i++)\r\n                    pages.push({number: i});\r\n                this.setState({ places, pages });\r\n                // console.log(res.data);\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getPlacesWhenConnectMongo();\r\n    }\r\n\r\n    onChangePage = (pageNumber) => {\r\n        this.setState({currentPage: pageNumber});\r\n        \r\n        callAPI(`place/list-place/page=${pageNumber}`, 'GET', null)\r\n            .then(res => {\r\n                let { places } = res.data;\r\n                this.setState({ places });\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    showPlaces = (places) => {\r\n        let result = null;\r\n        if (places.length > 0) {\r\n            result = places.map((currentPlace, index) => {\r\n                return (\r\n                    <Place\r\n                        key={index}\r\n                        place={currentPlace}\r\n                    />\r\n                );\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    receiveInfoSearch = (infoSearch) => {\r\n        if (infoSearch)\r\n            callAPI(`place/search=${infoSearch}`, 'GET', null)\r\n                .then(res => {\r\n                    if (res.data.message)\r\n                        Swal.fire({\r\n                            icon: 'warning',\r\n                            title: res.data.message,\r\n                        });\r\n                    \r\n                    else {\r\n                        let { places } = res.data;\r\n                        this.setState({ places });\r\n                    }\r\n                })\r\n                .catch((err) => { console.log(err) });\r\n        else\r\n            this.getPlacesWhenConnectMongo();\r\n    }\r\n\r\n    render() {\r\n        var { places, pages, currentPage } = this.state;\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <Search receiveInfoSearch={this.receiveInfoSearch} title=\"Bạn muốn tìm địa điểm gì?\" input=\"Nhập tên địa điểm\"/>\r\n                <div className=\"popular_places_area\" style={{textAlign:'center'}}>\r\n                    <div className=\"container\">\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-lg-6\">\r\n                                <div className=\"section_title text-center mb_70\">\r\n                                    <h3>ĐỊA ĐIỂM</h3>\r\n                                    <p>Các tỉnh thành, địa điểm du lịch ở đất nước Việt Nam</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            {this.showPlaces(places)}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {\r\n                        (pages.length > 1) ? (\r\n                            /* Phân trang */\r\n                            <PagesNumber pages={pages} currentPage={currentPage} onChangePage={this.onChangePage} />\r\n                        ) : null\r\n                    }\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PlacePage;","import React, { Component } from 'react';\r\n\r\nclass About extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n            <div className=\"where_togo_area\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"container\">\r\n                                <h2 style={{color:'white', textAlign:'center'}}>VỀ CHÚNG TÔI</h2>\r\n                        </div>\r\n                    </div>\r\n            </div> \r\n            <section>\r\n                <div className=\"container\">\r\n                    <div className=\"row align-items-center\">\r\n                        <div className=\"col-lg-6\">\r\n                            <div className=\"p-5\">\r\n                                <img className=\"img-fluid rounded-circle\" style={{width:'400px',height:'300px'}} src=\"images/ducduy.jpg\" alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-6\">\r\n                            <div className=\"p-5\">\r\n                                <h2 className=\"display-4\">TRINH DUC DUY</h2>\r\n                                <p style={{fontSize:'25px'}}>Fullstack Web Developer</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section>\r\n                <div className=\"container\">\r\n                    <div className=\"row align-items-center\">\r\n                        <div className=\"col-lg-6 order-lg-2\">\r\n                            <div className=\"p-4\">\r\n                                <img className=\"img-fluid rounded-circle\" style={{width:'400px',height:'300px'}} src=\"images/thanhduy.jpeg\" alt=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-6 order-lg-1\">\r\n                            <div className=\"p-4\">\r\n                                <h2 className=\"display-4\">PHAM THANH DUY</h2>\r\n                                <p style={{fontSize:'25px'}}>Software Developer</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default About;","import React, { Component } from 'react';\r\nimport Header from '../components/Home/Header';\r\nimport About from '../components/About';\r\nimport Footer from '../components/Home/Footer';\r\n\r\nclass AboutPage extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header/>\r\n                <About/>\r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AboutPage;","import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport './purchase.css';\r\n\r\nexport default class ListPurchase extends Component {\r\n\r\n    onCancelOrder = (bill) => {\r\n        Swal.fire({\r\n            title: 'Bạn có chắc?',\r\n            text: \"Bạn muốn hủy đơn đặt hàng này!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes',\r\n            cancelButtonText: 'No'\r\n        }).then((result) => {\r\n            if (result.value) this.props.onCancelOrder(bill);\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { bill } = this.props\r\n        return (\r\n            <div className=\"purchase-content\" style={{ backgroundColor: '#f7fafd' }}>\r\n                <div className=\"header-purchase\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-4 col-md-4\">\r\n                            <p>\r\n                                <span className=\"style-font\">Ngày mua: &nbsp;&nbsp; </span>\r\n                                <Moment format=\"YYYY-MM-DD HH:mm:ss\">\r\n                                    {bill.orderdate}\r\n                                </Moment>\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"col-lg-4 col-md-4\">\r\n                            <p> <span className=\"style-font\">Hình thức: &nbsp;&nbsp; </span> {bill.checkout} </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                { this.props.children }\r\n\r\n                <div className=\"footer-purchase\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-5 col-md-5\">\r\n\r\n                        </div>\r\n                        <div className=\"col-lg-4 col-md-4\" style={{paddingLeft: \"120px\"}}>\r\n                            <p className=\"style-font\">Tổng tiền: &nbsp; ${bill.total} </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {\r\n                        bill.isCheckout === false ? (\r\n                            <div className=\"row\">\r\n                                <div className=\"col-lg-8 col-md-8\"> </div>\r\n\r\n                                <div className=\"col-lg-4 col-md-4\" style={{textAlign: \"center\"}}>\r\n                                    <button type='button' className=\"btn btn-danger\" style={{marginRight: \"25px\"}}\r\n                                        onClick={() => this.onCancelOrder(bill)}\r\n                                    > Hủy đơn hàng </button>\r\n                                    <button type='button' className=\"btn btn-success\"\r\n                                        onClick={() => this.props.onConfirmOrder(bill._id)}\r\n                                    > Đã nhận hàng </button>\r\n                                </div>\r\n                            </div>\r\n                        ) : null\r\n                    }\r\n                    \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport StartRating from './StarRating';\r\n\r\nexport default class EvaluationProduct extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            rating: 0\r\n        };\r\n    }\r\n\r\n    onSaveRating = (ratingValue) => {\r\n        this.setState({rating: ratingValue});\r\n    }\r\n    onSubmitRating = () => {\r\n        this.props.onRecevieRatingValue(this.state.rating);\r\n    }\r\n\r\n    render() {\r\n        let rating = this.state.rating, product = this.props.product, titleModal = 'Đánh giá của bạn';\r\n        return (\r\n            <div className=\"modal fade\" id=\"toggleEvalutionProduct\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title\" id=\"exampleModalCenterTitle\">{titleModal}</h5>                          \r\n                            <button className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={this.props.onToggleEvaluation}>\r\n                                <span aria-hidden=\"true\">x</span>\r\n                            </button>\r\n                            \r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            <div className=\"form-group row\">\r\n                                <div className=\"col-sm-12\">\r\n                                    Sản phẩm: &nbsp; <strong>{product.name}</strong>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\" style={{textAlign: \"center\"}}>\r\n                                <div className=\"col-sm-12\">\r\n                                    <StartRating\r\n                                        numberOfStars={5}\r\n                                        value={rating}\r\n                                        size={40}\r\n                                        editing={true}\r\n                                        saveRating={this.onSaveRating}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <button type=\"button\" className=\"btn btn-info\" style={{width: '90px'}} data-dismiss=\"modal\" onClick={this.onSubmitRating} >Lưu</button>\r\n                            <button type=\"button\" className=\"btn btn-secondary\" style={{width: '90px'}} data-dismiss=\"modal\" onClick={this.props.onToggleEvaluation} >Đóng</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport EvaluationProduct from '../Evaluation/EvalutionProduct';\r\nimport StartRating from '../Evaluation/StarRating';\r\n\r\nimport callAPI from '../../utils/connectAPI';\r\n\r\nexport default class ItemPurchase extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            bill_id: '',\r\n            product: {},\r\n            onpenModal: false\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        let { bill_id, product } = this.props;\r\n        this.setState({bill_id, product})\r\n    }\r\n\r\n    onToggleEvaluation = () => {\r\n        this.setState({onpenModal: !this.state.onpenModal})\r\n    }\r\n    onRecevieRatingValue = (ratingValue) => {\r\n        this.setState({\r\n            onpenModal: !this.state.onpenModal\r\n        });\r\n        let product = this.state.product;\r\n        // console.log(product);\r\n        product.itemEvaluation = ratingValue;\r\n\r\n        callAPI(`bill/update/${this.state.bill_id}`, 'POST', product)\r\n            .then(res => {\r\n                this.setState({product});\r\n            })\r\n            .catch((err) => { console.log(err) });\r\n    }\r\n\r\n    render() {\r\n        var { product } = this.state;\r\n        return (\r\n            <div className=\"row item-purchase\">\r\n                <div className=\"col-lg-6 col-md-6\">\r\n                    <div className=\"item-image\">\r\n                        <img src={product.images} alt=\"error\" />\r\n                    </div>\r\n                    <div className=\"item-info\">\r\n                        <p> {product.name} </p>\r\n                        <p>Loại: {product.productType} </p>\r\n                        <p>x {product.quantity} </p>\r\n                        <p>Giá: ${product.price} </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-lg-3 col-md-3 style-review\">\r\n                    <p> ${product.quantity * product.price} </p>\r\n                </div>\r\n                <div className=\"col-lg-3 col-md-3 style-review\">\r\n                    {\r\n                        this.props.isCheckout === false ? null : (\r\n                            // if product.itemEvaluation === null\r\n                            product.itemEvaluation && product.itemEvaluation > 0 ? (\r\n                                <StartRating\r\n                                    numberOfStars={5}\r\n                                    value={product.itemEvaluation}\r\n                                    size={40}\r\n                                    editing={false}\r\n                                />\r\n                            ) : // else show rating\r\n                                <button type=\"button\" className=\"btn btn-primary\" onClick={this.onToggleEvaluation}\r\n                                    data-toggle=\"modal\" data-target=\"#toggleEvalutionProduct\" >Đánh giá</button>\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n                {\r\n                    this.state.onpenModal ? <EvaluationProduct product={product}\r\n                                                onToggleEvaluation={this.onToggleEvaluation} onRecevieRatingValue={this.onRecevieRatingValue}\r\n                                            /> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\nimport ListPurchase from '../components/Purchased/ListPurchased';\r\nimport ItemPurchase from '../components/Purchased/ItemPurchase'\r\n\r\nimport callAPI from '../utils/connectAPI';\r\n\r\nexport default class PurchasedPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            billsOfAccount: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n\r\n        if (user)\r\n            callAPI(`bill/account/${user._id}`, 'GET', null)\r\n                .then(res => {\r\n                    this.setState({ billsOfAccount: res.data });\r\n                })\r\n                .catch((err) => { console.log(err) })\r\n        else {\r\n            let history = this.props.history;\r\n            history.push('/login');\r\n        }\r\n\r\n    }\r\n\r\n    showListBills = (bills) => {\r\n        let result = null;\r\n        if (bills.length > 0) {\r\n            result = bills.map((bill, index) => {\r\n                return (\r\n                    <ListPurchase\r\n                        key={index}\r\n                        bill={bill}\r\n                        onCancelOrder={this.onCancelOrder}\r\n                        onConfirmOrder={this.onConfirmOrder}\r\n                    >\r\n                        {this.showDetailBill(bill)}\r\n                    </ListPurchase>\r\n                );\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n    showDetailBill = (bill) => {\r\n        let result = null, billDetail = bill.billDetail;\r\n        if (billDetail.length > 0) {\r\n            result = billDetail.map((product, index) => {\r\n                return (\r\n                    <ItemPurchase\r\n                        key={index}\r\n                        product={product}\r\n                        bill_id={bill._id}\r\n                        isCheckout={bill.isCheckout}\r\n                    />\r\n                );\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    onCancelOrder = (bill) => {\r\n        callAPI(`bill/${bill._id}`, 'DELETE', bill)\r\n            .then(res => {\r\n                if (res.data.result) {\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                        title: 'Hủy đơn hàng thành công!'\r\n                    });\r\n                    let billsOfAccount = this.state.billsOfAccount;\r\n                    billsOfAccount = billsOfAccount.filter(el => el._id !== bill._id);\r\n                    this.setState({ billsOfAccount });\r\n                }\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    onConfirmOrder = (bill_id) => {\r\n        callAPI(`bill/confirm/${bill_id}`, 'POST', null)\r\n            .then(res => {\r\n                if (res.data.result) {\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                        title: 'Xác nhận thành công!'\r\n                    });\r\n                    let billsOfAccount = this.state.billsOfAccount;\r\n                    billsOfAccount = billsOfAccount.map(el => {\r\n                        if (el._id === bill_id) {\r\n                            el.orderdate = res.data.nowdate;\r\n                            el.isCheckout = true;\r\n                        }\r\n                        return el;\r\n                    });\r\n                    this.setState({ billsOfAccount });\r\n                }\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    render() {\r\n        let { billsOfAccount } = this.state;\r\n        return (\r\n            <div>\r\n                <Header />\r\n\r\n                <div className=\"where_togo_area\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"container\">\r\n                            <h2 style={{ color: 'white', textAlign: 'center' }}>LỊCH SỬ ĐẶT MUA HÀNG</h2>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {this.showListBills(billsOfAccount)}\r\n\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport StarRating from '../Evaluation/StarRating';\r\n\r\nclass Destination extends Component {\r\n    render() {\r\n        let { des, place_id } = this.props;\r\n        return (\r\n            <div className=\"col-6 recommend-pois\" >\r\n                <div className=\"list-item\">\r\n                    <button className=\"mask-gb-btn\" type=\"button\" onClick={() => this.props.onChoose(des, place_id)} >\r\n                        <img src={des.images} alt=\"err\" className=\"image_lmimg\" />\r\n                        <i className=\"fa fa-plus-circle hide\" aria-hidden=\"true\" />\r\n                    </button>\r\n                    <div className=\"title\">\r\n                        <div className=\"rating_days d-flex justify-content-between\">\r\n                            <StarRating\r\n                                numberOfStars={5}\r\n                                value={Math.round(des.rating)}\r\n                                size={10}\r\n                                editing={false}\r\n                            />\r\n                            <span className=\"d-flex justify-content-center align-items-center\">\r\n                                {des.review} đánh giá\r\n                            </span>\r\n                            {/* <div className=\"days\">\r\n                                <i className=\"fa fa-clock-o\" />\r\n                                <Link to=\"\">5 Days</Link>\r\n                            </div> */}\r\n                        </div>\r\n                        <h2>{des.name}</h2>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Destination;","import React, { Component } from 'react';\r\nimport Swal from 'sweetalert2';\r\nimport DatePicker from 'react-datepicker';\r\nimport Moment from 'react-moment';\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport Destination from './Destination';\r\nimport './Schedule.css';\r\n\r\nimport callAPI from '../../utils/connectAPI';\r\n\r\nclass Schedule extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            startDate: new Date(),\r\n            endDate: new Date(),\r\n            places: [],\r\n            checkedItems: new Map(),\r\n            statusBtn: false,\r\n            listDate: [],\r\n            hashtag: [],\r\n            radio: 0,\r\n            hover: -1\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        callAPI('place', 'GET', null)\r\n            .then(res => {\r\n                for (var i = 0; i < res.data.length; i++) {\r\n                    this.setState({ checkedItems: this.state.checkedItems.set(res.data[i].name, { status: false, index: i }) });\r\n                }\r\n                this.setState({ places: res.data });\r\n                //console.log(res.data)\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    onChangeStartDate = date => {\r\n        this.setState({\r\n            startDate: date,\r\n            endDate: date\r\n        });\r\n    };\r\n\r\n    onChangeFinishDate = date => {\r\n        this.setState({\r\n            endDate: date\r\n        });\r\n    };\r\n\r\n    // addDays = (days) => {\r\n    //     let date = new Date(this.state.startDate);\r\n    //     date.setDate(date.getDate() + days);\r\n    //     return date.toString().substr(4, 12);\r\n    // }\r\n\r\n    onChangeBtn = (statusBtn) => {\r\n        if (statusBtn)\r\n            this.setStateEmpty();\r\n        else {\r\n            if (this.state.title === \"\") {\r\n                Swal.fire({\r\n                    icon: 'warning',\r\n                    title: 'Tên hành trình không rỗng'\r\n                })\r\n            }\r\n            else {\r\n                let checkedBOX = false, checkedItems = Array.from(this.state.checkedItems);\r\n                checkedItems.forEach(el => {\r\n                    if (el[1].status === true)\r\n                        return checkedBOX = true;\r\n                })\r\n\r\n                if (checkedBOX) {\r\n                    var dateItems = [];\r\n                    var start = new Date(this.state.startDate);\r\n                    var end = new Date(this.state.endDate);\r\n                    var loop = new Date(start);\r\n                    var newDate = new Date();\r\n                    dateItems.push({ date: new Date(start).toString().substr(4, 20), desName: [] });\r\n                    while (loop < end) {\r\n                        newDate = loop.setDate(loop.getDate() + 1);\r\n                        let convert = new Date(newDate);\r\n                        loop = new Date(newDate);\r\n                        dateItems.push({\r\n                            date: new Date(convert).toString().substr(4, 20),\r\n                            desName: []\r\n                        });\r\n                    }\r\n                    // console.log(dateItems);\r\n\r\n                    this.setState({\r\n                        listDate: dateItems,\r\n                        statusBtn: !this.state.statusBtn\r\n                    });\r\n                }\r\n                else\r\n                    Swal.fire({\r\n                        icon: 'warning',\r\n                        title: 'Bạn chưa chọn địa điểm'\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = async (event, index) => {\r\n        let item = event.target.value;\r\n        let isChecked = event.target.checked;\r\n\r\n        let places = this.state.places;\r\n        if (isChecked === true) {\r\n            await callAPI(`place/${places[index]._id}`, 'GET', null)\r\n                .then(res => {\r\n                    places[index].limit = 6;\r\n                    places[index].destination = res.data.destination;\r\n\r\n                    this.setState({ places });\r\n                })\r\n                .catch((err) => console.log(err));\r\n        }\r\n        else {\r\n            var temp = this.state.listDate.map(item => {\r\n                item.desName = item.desName.filter(el => {\r\n                    return el.place_id !== places[index]._id\r\n                });\r\n                return item;\r\n            })\r\n            this.setState({\r\n                listDate: temp\r\n            });\r\n        }\r\n\r\n        this.setState({ checkedItems: this.state.checkedItems.set(item, { status: isChecked, index: index }) });\r\n    }\r\n\r\n    listPlaceSelected = () => {\r\n        if (this.state.statusBtn === true) {\r\n            if (this.state.checkedItems.size > 0) {\r\n                let keys = Array.from(this.state.checkedItems);\r\n\r\n                return keys.map((item, index) => {\r\n                    let result = null;\r\n                    if (item[1].status === true) {\r\n                        let place = this.state.places[item[1].index];\r\n                        result = (\r\n                            <div key={index}>\r\n                                <div style={{ textAlign: 'center', padding: '20px 0px 20px 0px' }}>\r\n                                    <b>Điểm đến du lịch ở {place.name}</b>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    {this.listDestination(place, index)}\r\n                                </div>\r\n                                {\r\n                                    place.limit >= place.destination.length ? null\r\n                                        :\r\n                                        <button type=\"button\" className=\"btn btn-info\" onClick={() => this.onAddShownDestinations(index, place.limit + 6)} style={{ marginLeft: '270px', marginBottom: '0px', width: '200px' }} >\r\n                                            Xem thêm\r\n                                    </button>\r\n                                }\r\n                                <hr className=\"my-2\" />\r\n                            </div>\r\n                        )\r\n                    }\r\n                    return result;\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    listDestination = (place) => {\r\n        let destination = place.destination.slice(0, place.limit);\r\n        return destination.map((des, index) => {\r\n            return (\r\n                <Destination key={index} des={des} place_id={place._id} onChoose={this.onChoose} />\r\n            )\r\n        })\r\n    }\r\n\r\n    onAddShownDestinations = (index, limit) => {\r\n        let places = this.state.places;\r\n\r\n        if (limit > places[index].destination.length)\r\n            limit = places[index].destination.length;\r\n        places[index].limit = limit;\r\n        this.setState(places);\r\n    }\r\n\r\n    onChoose = (des, place_id) => {\r\n        var temp = this.state.listDate.map((item, index) => {\r\n            if (this.state.radio === -1)\r\n                Swal.fire({\r\n                    icon: 'warning',\r\n                    title: 'Bạn chưa chọn ngày đến địa điểm này'\r\n                })\r\n            else if (index === this.state.radio) {\r\n                let flag = false;\r\n                if (item.desName.length > 0)\r\n                    item.desName.forEach(el => {\r\n                        // console.log(el._id)\r\n                        if (el._id === des._id)\r\n                            return flag = true;\r\n                    });\r\n\r\n                if (flag)\r\n                    Swal.fire({\r\n                        icon: 'warning',\r\n                        title: 'Bạn đã chọn điểm này'\r\n                    })\r\n                else {\r\n                    des.place_id = place_id;\r\n                    item.desName.push(des);\r\n                }\r\n            }\r\n            return item;\r\n        })\r\n        this.setState({\r\n            listDate: temp\r\n        });\r\n    }\r\n\r\n    onClickDelete = (des, index) => {\r\n        var temp = this.state.listDate.map((item, i) => {\r\n            if (index === i) {\r\n                item.desName = item.desName.filter(el => {\r\n                    return el._id !== des._id\r\n                });\r\n            }\r\n            return item;\r\n        })\r\n        this.setState({\r\n            listDate: temp\r\n        });\r\n    }\r\n\r\n    listDes = (des, index) => {\r\n        return des.map((item, k) => {\r\n            return (\r\n                <tr key={k}>\r\n                    <td>{item.name}</td>\r\n                    <td>\r\n                        <button type=\"button\"><i className=\"fa fa-trash\" onClick={() => this.onClickDelete(item, index)} /></button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n\r\n    setStateEmpty = () => {\r\n        let checkedItems = this.state.checkedItems;\r\n        for (var el of checkedItems)\r\n            this.setState({ checkedItems: checkedItems.set(el[0], { status: false, index: el[1].index }) });\r\n\r\n        this.setState({\r\n            title: '',\r\n            startDate: new Date(),\r\n            endDate: new Date(),\r\n            statusBtn: false,\r\n            listDate: [],\r\n            selectDes: [],\r\n            hashtag: [],\r\n            radio: 0,\r\n            hover: -1\r\n        })\r\n    }\r\n\r\n    onSubmit = (event) => {\r\n        event.preventDefault();\r\n        let { checkedItems, hashtag, title, startDate, endDate, listDate } = this.state;\r\n        let flag = true;\r\n        for (let i = 0; i < listDate.length; i++) {\r\n            if (listDate[i].desName.length === 0) {\r\n                Swal.fire({\r\n                    icon: 'warning',\r\n                    title: 'Bạn chưa chọn địa điểm cho ngày ' + listDate[i].date.toString().substr(0, 11)\r\n                })\r\n\r\n                return flag = false;\r\n            }\r\n        }\r\n\r\n        if (flag) {\r\n            for (var el of checkedItems) {\r\n                if (el[1].status === true)\r\n                    this.setState({\r\n                        hashtag: hashtag.push(el[0])\r\n                    });\r\n            }\r\n            var schedule = {\r\n                account: this.props.account,\r\n                title: title,\r\n                startDate: startDate,\r\n                endDate: endDate,\r\n                scheduleList: listDate,\r\n                hashtag: hashtag\r\n            }\r\n            // console.log(schedule);\r\n            callAPI('schedule/add', 'POST', schedule)\r\n                .then(res => {\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                        title: 'Tạo lịch trình thành công',\r\n                    });\r\n\r\n                    this.setStateEmpty();\r\n                })\r\n                .catch(err => console.log(err))\r\n\r\n            // checking email of user\r\n            if (schedule.account.person.email)\r\n                callAPI('schedule/sendMail', 'POST', '')\r\n                    .then(res => console.log(res))\r\n                    .catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    onChangeRadio = (event) => {\r\n        var name = event.target.name;\r\n        var value = event.target.value;\r\n\r\n        this.setState({\r\n            [name]: Number(value)\r\n        });\r\n    }\r\n    onSetHover = (value) => {\r\n        this.setState({ hover: value });\r\n    }\r\n    onAddDate = () => {\r\n        let end = new Date(this.state.endDate);\r\n        let convert = new Date(end.setDate(end.getDate() + 1));\r\n        let dateItems = this.state.listDate;\r\n        dateItems.push({ date: new Date(convert).toString().substr(4, 20), desName: [] });\r\n        this.setState({\r\n            endDate: convert,\r\n            listDate: dateItems\r\n        })\r\n    }\r\n    date = () => {\r\n        let { radio, hover } = this.state;\r\n        return this.state.listDate.map((d, index) => {\r\n            let styleColor = (hover === index || radio === index) ? \"#ffc107\" : \"gray\";\r\n            return (\r\n                <div key={index} className=\"accordion md-accordion accordion-blocks\" id=\"accordionEx78\" role=\"tablist\" aria-multiselectable=\"true\">\r\n                    <div className=\"card\">\r\n                        <label>\r\n                            <input type=\"radio\" name=\"radio\" value={index} onChange={(event) => this.onChangeRadio(event)} />\r\n                            <div className=\"card-header choose-date\" style={{ background: styleColor }} role=\"tab\" id=\"heading79\"\r\n                                onMouseLeave={() => this.onSetHover(-1)}\r\n                                onMouseEnter={() => this.onSetHover(index)}\r\n                            >\r\n                                <h5 className=\"mt-1 mb-0\">\r\n                                    <span>\r\n                                        &nbsp;\r\n                                        <Moment format=\"DD/MM/YYYY\">\r\n                                            {d.date}\r\n                                        </Moment>\r\n                                    </span>\r\n                                </h5>\r\n                            </div>\r\n                        </label>\r\n                        <div id={d} className=\"collapse show\" role=\"tabpanel\" aria-labelledby=\"heading79\" data-parent={'#' + { index }}>\r\n                            <div className=\"card-body\">\r\n                                <div className=\"table-responsive mx-3\">\r\n                                    <table className=\"table table-hover mb-0\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th className=\"th-lg\">Tên điểm đến</th>\r\n                                                <th />\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {this.listDes(d.desName, index)}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n\r\n    listPlace = () => {\r\n        if (this.state.checkedItems.size > 0) {\r\n            let temp = Array.from(this.state.checkedItems);\r\n            return temp.map((item, index) => {\r\n                return (\r\n                    <div key={index} className=\"form-check\" style={{ float: 'left', width: '25%' }}>\r\n                        <label>\r\n                            <input type=\"checkbox\" name=\"checkedItems\" value={item[0]} checked={item[1].status} onChange={(event) => this.handleChange(event, index)} /><span className=\"label-text\"> {item[0]}</span>\r\n                        </label>\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n    }\r\n\r\n    onChange = (event) => {\r\n        var name = event.target.name;\r\n        var value = event.target.value;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    render() {\r\n        let { startDate, endDate, statusBtn } = this.state\r\n        let titleStatusBtn = statusBtn ? 'hủy tạo' : 'tạo lịch', iconStatusBtn = statusBtn ? 'fa-times-circle-o' : 'fa-plus-circle';\r\n        // console.log(this.state.checkedItems)\r\n        return (\r\n            <div>\r\n                <div className=\"where_togo_area\">\r\n                    <h2 style={{ color: 'white', textAlign: 'center' }}>TẠO LỊCH CHO CHUYẾN ĐI</h2>\r\n                </div>\r\n\r\n                <div className=\"container-fluid bg-image\">\r\n                    <div className=\"container booking\">\r\n                        <h3>Chọn tỉnh thành bạn muốn khám phá nè</h3>\r\n                        <form className=\"form-booking\">\r\n                            <div className=\"form-row\">\r\n                                <div className=\"form-group col-md-12\">\r\n                                    <label htmlFor=\"title\">Tên chuyến đi: </label>\r\n                                    <input type=\"text\" className=\"form-control\"\r\n                                        value={this.state.title}\r\n                                        name=\"title\"\r\n                                        placeholder=\"Nhập tên chuyến đi của bạn\"\r\n                                        onChange={(event) => this.onChange(event)}\r\n                                    ></input>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-row\">\r\n                                <div className=\"form-group col-md-12\">\r\n                                    <label>Chọn điểm đến muốn khám phá: </label>\r\n                                    <div className=\"input-group mb-2\">\r\n                                    </div>\r\n                                    {this.listPlace()}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-row\">\r\n                                <div className=\"form-group col-md-6\">\r\n                                    <label htmlFor=\"startDate\">Chọn ngày đi: </label>\r\n                                    <div className=\"input-group mb-2\">\r\n                                        <DatePicker\r\n                                            selected={startDate}\r\n                                            onChange={date => this.onChangeStartDate(date)}\r\n                                            minDate={new Date()}\r\n                                            showDisabledMonthNavigation\r\n                                            dateFormat=\"dd/MM/yyyy\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group col-md-6\">\r\n                                    <label htmlFor=\"startDate\">Chọn ngày về: </label>\r\n                                    <div className=\"input-group mb-2\">\r\n                                        <DatePicker\r\n                                            selected={endDate}\r\n                                            onChange={date => this.onChangeFinishDate(date)}\r\n                                            minDate={this.state.startDate}\r\n                                            showDisabledMonthNavigation\r\n                                            dateFormat=\"dd/MM/yyyy\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-row\">\r\n                                <div className=\"form-group col text-center\" style={{ marginBottom: '-80px' }}>\r\n                                    <button type=\"button\" className=\"btn btn-warning\" onClick={() => this.onChangeBtn(statusBtn)} style={{ textTransform: 'uppercase' }} >\r\n                                        <i className={`fa ${iconStatusBtn}`} /> {titleStatusBtn}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            {\r\n                                this.state.statusBtn ? (\r\n                                    <div style={{ marginBottom: '35px' }}>\r\n                                        <div className=\"form-row\">\r\n                                            <div className=\"form-group col d-flex justify-content-end\" style={{ marginBottom: '-80px' }}>\r\n                                                <button type=\"submit\" className=\"btn btn-info\" onClick={this.onSubmit} style={{ textTransform: 'uppercase' }} >\r\n                                                    <i className=\"fa fa-save\"></i> hoàn thành</button>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"form-row\">\r\n                                            <div className=\"col-4 style-choose-date\">\r\n                                                {this.date()}\r\n                                                <button type=\"button\" className=\"btn btn-warning\" onClick={() => this.onAddDate()} style={{ float: 'right', width: '200px' }} >\r\n                                                    <i className='fa fa-plus-circle' /> Thêm ngày\r\n                                                </button>\r\n                                            </div>\r\n                                            <div className=\"col-8\" style={{ border: '0.5px solid black' }}>\r\n                                                {this.listPlaceSelected()}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ) : null\r\n                            }\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Schedule;","import React, { Component } from 'react';\r\nimport Header from '../components/Home/Header';\r\nimport Schedule from '../components/Schedule/Schedule';\r\nimport Footer from '../components/Home/Footer';\r\n\r\nclass SchedulePage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            account: null,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let account = JSON.parse(sessionStorage.getItem(\"user\"));\r\n        if (account !== null)\r\n            this.setState({ account });\r\n        else {\r\n            let history = this.props.history;\r\n            history.push('/login');\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        let { account } = this.state\r\n        return (\r\n            <div>\r\n                <Header/>\r\n                <Schedule account={account}/>\r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SchedulePage;","import React, { Component } from 'react';\r\n\r\nimport { MDBRow, MDBCard, MDBCardBody } from \"mdbreact\";\r\n\r\nexport default class NewFeed extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"popular_places_area\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <MDBCard className=\"my-5 px-5 pb-5 w-100\">\r\n\r\n                            <MDBCardBody className=\"text-center\">\r\n                                <h2 className=\"text-center\" style={{ fontWeight: 'bold', fontSize:'30px', color:'black' }}>\r\n                                    Cộng đồng\r\n                                </h2>\r\n                                <hr/>\r\n                                <MDBRow>\r\n\r\n                                    {this.props.children}\r\n                                    \r\n                                </MDBRow>\r\n                            </MDBCardBody>\r\n                        </MDBCard>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\nimport Swal from 'sweetalert2';\r\nimport { Link } from 'react-router-dom';\r\nimport { MDBCol, MDBRow, MDBCardBody, MDBMask, MDBIcon, MDBView } from \"mdbreact\";\r\n\r\nimport callAPI from '../../../utils/connectAPI';\r\n\r\nexport default class News extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            account: null,\r\n            checkInteraction: null,\r\n            sumLike: 0,\r\n            liked: false\r\n        }\r\n    }\r\n\r\n    onSetSate = (currentPost, account) => {\r\n        let interactions = currentPost.interactions, liked = false, checkInteraction = null;\r\n        if (interactions.length > 0 && account)\r\n            interactions.forEach(item => {\r\n                if (item.account._id === account._id) {\r\n                    checkInteraction = item._id;\r\n                    liked = item.like;\r\n                }\r\n            });\r\n\r\n        this.setState({ account, checkInteraction, sumLike: currentPost.sumLike, liked });\r\n    }\r\n\r\n    componentDidMount() {\r\n        let { currentPost, account } = this.props;\r\n        this.onSetSate(currentPost, account);\r\n    }\r\n\r\n    loadAgainPostById = (post_id) => {\r\n        callAPI('post/' + post_id, 'GET', null)\r\n            .then(res => {\r\n                let post = res.data.post;\r\n                this.onSetSate(post, this.state.account);\r\n            })\r\n    }\r\n\r\n    actionsLike = (currentPost) => {\r\n        let { account, checkInteraction, sumLike, liked } = this.state;\r\n        if (account) {\r\n            let actions = 0;    // if 1 -> new like; 2 -> like again; 3 -> dislike\r\n            if (!liked && checkInteraction === null)  // liked === false && checkInteraction == null -> user new like\r\n                actions = 1;\r\n            else                    // liked === true && checkInteraction !== null -> dislike\r\n                if (!liked && checkInteraction)\r\n                    actions = 2;\r\n                else if (liked && checkInteraction)\r\n                    actions = 3;\r\n\r\n            let data = {}, path = '', getIdInteract = checkInteraction;\r\n            if (actions === 1) {\r\n                // console.log('new like')\r\n                path = 'post/newlike/';\r\n                let interactions = { account, like: true };\r\n                data = { interactions, sumLike: sumLike + 1 };\r\n            }\r\n            else if (actions === 2) {\r\n                // console.log('like again')\r\n                path = 'post/likeagain/';\r\n                let interactions = { getIdInteract, like: true };\r\n                data = { interactions, sumLike: sumLike + 1 };\r\n            }\r\n            else if (actions === 3) {\r\n                console.log('dislike')\r\n                path = 'post/dislike/';\r\n                let interactions = { getIdInteract, like: false };\r\n                data = { interactions, sumLike: sumLike - 1 };\r\n            }\r\n\r\n            callAPI(path + currentPost._id, 'POST', data)\r\n                .then(res => {\r\n                    if (res.data.result) {\r\n                        if (actions === 3) {\r\n                            sumLike--;\r\n                            liked = false;\r\n                        }\r\n                        else {\r\n                            sumLike++;\r\n                            liked = true;\r\n                        }\r\n\r\n                        if (getIdInteract === null)\r\n                            this.loadAgainPostById(currentPost._id);\r\n                        else\r\n                            this.setState({ sumLike, liked });\r\n                    }\r\n                })\r\n                .catch((err) => { console.log(err) })\r\n        }\r\n        else\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Bạn chưa thực hiện đăng nhập',\r\n            })\r\n    }\r\n\r\n    render() {\r\n        let { currentPost } = this.props;\r\n        let styleCSS = this.state.liked ? \"red\" : null;\r\n        return (\r\n            <MDBCol lg=\"12\" xl=\"12\">\r\n                <div className=\"d-flex\">\r\n                    <div className=\"info\">\r\n                        <div className=\"social_wrap d-flex align-items-center justify-content\">\r\n                            <div className=\"avatar\">\r\n                                <img src={currentPost.account.avatar} className=\"avatar\" alt=\"ava\" />\r\n                            </div>\r\n                                &nbsp;&nbsp;\r\n                            <div className=\"number\">\r\n                                <span>\r\n                                    <span style={{fontWeight:'bold', paddingRight:'130px', fontSize:'20px'}}>{currentPost.account.person.name}</span>\r\n\r\n                                    <br />\r\n                                    <Moment format=\"DD-MM-YYYY\" style={{fontSize:'20px'}}>\r\n                                        {currentPost.postDate} \r\n                                    </Moment>\r\n                                    <span style={{fontSize:'20px'}}>&nbsp;lúc&nbsp;</span>\r\n                                    <Moment format=\"HH:mm:ss\" style={{fontSize:'20px'}}>\r\n                                        {currentPost.postDate}\r\n                                    </Moment>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <p className=\"mt-3 mb-2 d-flex justify-content\" style={{fontSize:'20px'}}>\r\n                    {currentPost.content}\r\n                </p>\r\n                <MDBRow>\r\n                    {currentPost.images.map((img, index) => {\r\n                        if (currentPost.images.length === 1) {\r\n                            return (\r\n                                <MDBCol key={index} lg=\"12\" md=\"12\" className=\"mb-lg-0 mb-4\">\r\n                                    <MDBView hover className=\"rounded z-depth-2 mb-4\" waves>\r\n\r\n                                        <img\r\n                                            className=\"img-fluid\"\r\n                                            src={img}\r\n                                            alt=\"\"\r\n                                            width=\"100%\" />\r\n\r\n                                        <MDBMask overlay=\"white-slight\" />\r\n                                    </MDBView>\r\n                                </MDBCol>\r\n                            )\r\n                        } else if (currentPost.images.length === 2) {\r\n                            return (\r\n                                <MDBCol key={index} lg=\"6\" md=\"12\" className=\"mb-lg-0 mb-4\">\r\n                                    <MDBView hover className=\"rounded z-depth-2 mb-4\" waves>\r\n\r\n                                        <img\r\n                                            className=\"img-fluid\"\r\n                                            src={img}\r\n                                            alt=\"\"\r\n                                            width=\"100%\" />\r\n\r\n                                        <MDBMask overlay=\"white-slight\" />\r\n                                    </MDBView>\r\n                                </MDBCol>\r\n                            )\r\n                        } else {\r\n                            return (\r\n                                <MDBCol key={index} lg=\"4\" md=\"12\" className=\"mb-lg-0 mb-4\">\r\n                                    <MDBView hover className=\"rounded z-depth-2 mb-4\" waves>\r\n\r\n                                        <img\r\n                                            className=\"img-fluid\"\r\n                                            src={img}\r\n                                            alt=\"\"\r\n                                            width=\"100%\" />\r\n\r\n                                        <MDBMask overlay=\"white-slight\" />\r\n                                    </MDBView>\r\n                                </MDBCol>\r\n                            )\r\n                        }\r\n                    })}\r\n                </MDBRow>\r\n                <MDBCardBody>\r\n                    <span className=\"mr-2\">\r\n                        <button onClick={() => this.actionsLike(currentPost)} style={{ color: styleCSS }} ><MDBIcon icon=\"heart\" /></button> {this.state.sumLike} thích\r\n                    </span>\r\n\r\n                    <span>\r\n                        <MDBIcon icon=\"comment\" /> {currentPost.comments.length} bình luận\r\n                    </span>\r\n                    \r\n                </MDBCardBody>\r\n                <Link to={'/post-detail/'+ currentPost._id} className=\"btn btn-info\" style={{ marginRight: \"15px\" }}><i className=\"fa fa-info-circle\" aria-hidden=\"true\"></i> Xem thêm </Link>\r\n                <hr className=\"my-5\" />\r\n            </MDBCol>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\n\r\nimport NewFeed from '../components/Post/NewFeeds/NewFeed';\r\nimport News from '../components/Post/NewFeeds/News';\r\n\r\nimport RecentTrip from '../components/RecentTrip';\r\n\r\nimport callAPI from '../utils/connectAPI';\r\n\r\nclass NewFeedPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            posts: [],\r\n            postsPopular: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        callAPI('post', 'GET', null)\r\n            .then(res => {\r\n                this.setState({\r\n                    posts: res.data\r\n                });\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n\r\n        callAPI('post/post-popular', 'GET', null)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                this.setState({\r\n                    postsPopular: res.data\r\n                });\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    showPostPopular = (postsPopular) => {\r\n        let result = null;\r\n        if (postsPopular.length > 0) {\r\n            result = postsPopular.map((currentPost, index) => {\r\n                return (\r\n                    <RecentTrip\r\n                        key={index}\r\n                        post={currentPost}\r\n                    />\r\n                );\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    displayListNews = (posts) => {\r\n        if (posts.length > 0)\r\n            return posts.map((currentPost, index) => {\r\n                return (\r\n                    <News key={index} currentPost={currentPost} />\r\n                )\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header/>\r\n\r\n                {\r\n                    this.state.postsPopular.length > 0 ? (\r\n                        <div className=\"recent_trip_area\">\r\n                            <div className=\"container\">\r\n                                <div className=\"row justify-content-center\">\r\n                                    <div className=\"col-lg-6\">\r\n                                        <div className=\"section_title text-center mb_70\">\r\n                                            <h2 style={{ fontWeight: 'bold', fontSize:'30px', color:'black' }} > Bài đăng nổi bật </h2>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    {this.showPostPopular(this.state.postsPopular)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ) : null\r\n                }\r\n\r\n                <NewFeed>\r\n                    { this.displayListNews(this.state.posts) }\r\n                </NewFeed>\r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NewFeedPage;","import React, { Component } from 'react';\r\nimport { MDBCol, MDBMask, MDBView, MDBRow } from \"mdbreact\";\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default class ContentPost extends Component {\r\n\r\n    displayListImages = (images) => {\r\n        return images.map((img, index) => {\r\n            if (images.length === 1) {\r\n                return (\r\n                    <MDBCol key={index} lg=\"12\" md=\"12\" className=\"mb-lg-0 mb-4\">\r\n                        <MDBView hover className=\"rounded z-depth-2 mb-4\" waves>\r\n\r\n                            <img\r\n                                className=\"img-fluid\"\r\n                                src={img}\r\n                                alt=\"\"\r\n                                width=\"100%\" />\r\n\r\n                            <MDBMask overlay=\"white-slight\" />\r\n                        </MDBView>\r\n                    </MDBCol>\r\n                )\r\n            } else if (images.length === 2) {\r\n                return (\r\n                    <MDBCol key={index} lg=\"6\" md=\"12\" className=\"mb-lg-0 mb-4\">\r\n                        <MDBView hover className=\"rounded z-depth-2 mb-4\" waves>\r\n\r\n                            <img\r\n                                className=\"img-fluid\"\r\n                                src={img}\r\n                                alt=\"\"\r\n                                width=\"100%\" />\r\n\r\n                            <MDBMask overlay=\"white-slight\" />\r\n                        </MDBView>\r\n                    </MDBCol>\r\n                )\r\n            } else {\r\n                return (\r\n                    <MDBCol key={index} lg=\"4\" md=\"12\" className=\"mb-lg-0 mb-4\">\r\n                        <MDBView hover className=\"rounded z-depth-2 mb-4\" waves>\r\n\r\n                            <img\r\n                                className=\"img-fluid\"\r\n                                src={img}\r\n                                alt=\"\"\r\n                                width=\"100%\" />\r\n\r\n                            <MDBMask overlay=\"white-slight\" />\r\n                        </MDBView>\r\n                    </MDBCol>\r\n                )\r\n            }\r\n        })\r\n    }\r\n\r\n    actionsLike = (currentPost) => {\r\n        let { account, checkIdInteraction, liked } = this.props;\r\n        if (account) {\r\n            let actions = 0;    // if 1 -> new like; 2 -> like again; 3 -> dislike\r\n            if (!liked && checkIdInteraction === null)  // liked === false && checkIdInteraction == null -> user new like\r\n                actions = 1;\r\n            else                    // liked === true && checkIdInteraction !== null -> dislike\r\n                if (!liked && checkIdInteraction)\r\n                    actions = 2;\r\n                else if (liked && checkIdInteraction)\r\n                    actions = 3;\r\n\r\n            let data = {}, path = '', getIdInteract = checkIdInteraction;\r\n            if (actions === 1) {\r\n                // console.log('new like')\r\n                path = 'post/newlike/';\r\n                let interactions = { account, like: true };\r\n                data = { interactions, sumLike: currentPost.sumLike + 1 };\r\n            }\r\n            else if (actions === 2) {\r\n                // console.log('like again')\r\n                path = 'post/likeagain/';\r\n                let interactions = { getIdInteract, like: true };\r\n                data = { interactions, sumLike: currentPost.sumLike + 1 };\r\n            }\r\n            else if (actions === 3) {\r\n                console.log('dislike')\r\n                path = 'post/dislike/';\r\n                let interactions = { getIdInteract, like: false };\r\n                data = { interactions, sumLike: currentPost.sumLike - 1 };\r\n            }\r\n\r\n            this.props.onActionsLike(currentPost, path, data);\r\n        }\r\n        else\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Bạn chưa thực hiện đăng nhập',\r\n            })\r\n    }\r\n    render() {\r\n        let { post, liked, sumComment } = this.props;\r\n        console.log(post)\r\n        let styleCSS = liked ? \"red\" : null;\r\n        return (\r\n            <div className=\"single-post\">\r\n                <div className=\"feature-img\">\r\n                    <MDBCol lg=\"12\" xl=\"12\">\r\n                        <MDBRow>\r\n                            {this.displayListImages(post.images)}\r\n                        </MDBRow>\r\n                    </MDBCol>\r\n                </div>\r\n                <div className=\"blog_details\">\r\n                    <h2>\r\n                        <ul className=\"blog-info-link mt-3 mb-4\">\r\n                            <li><i className=\"fa fa-user\" /> {post.account.person.name} </li>\r\n                            <li><i className=\"fa fa-comments\" /> {sumComment} bình luận</li>\r\n                            <li>\r\n                                <button onClick={() => this.actionsLike(post)} style={{ color: styleCSS }} >\r\n                                    <i className=\"fa fa-heart\" /> {post.sumLike} thích\r\n                                </button>\r\n                            </li>\r\n                        </ul>\r\n                    </h2>\r\n                    <p className=\"quote-wrapper\">\r\n                        {post.content}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\n\r\nexport default class ListComments extends Component {\r\n\r\n    displayListComments = (comments) => {\r\n        let result = null;\r\n\r\n        if (comments.length > 0) {\r\n            result = comments.map((el, index) => {\r\n                return (\r\n                    <div key={index} className=\"comment-list\">\r\n                        <div className=\"single-comment justify-content-between d-flex\">\r\n                            <div className=\"user justify-content-between d-flex\">\r\n                                <div className=\"thumb\">\r\n                                    <img src={el.account.avatar} alt=\"error\" />\r\n                                </div>\r\n                                <div className=\"desc\">\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <div className=\"d-flex align-items-center\">\r\n                                            <h5>\r\n                                                {el.account.person.name}\r\n                                            </h5>\r\n                                            <p className=\"date\" style={{marginTop: '3px'}}>\r\n                                                <Moment format=\"YYYY-MM-DD HH:mm:ss\">\r\n                                                    {el.commentDate}\r\n                                                </Moment>\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <p className=\"quotes\">\r\n                                        {el.content}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n        return result;\r\n    }\r\n\r\n    render() {\r\n        let { sumComment, comments } = this.props;\r\n        return (\r\n            <div className=\"comments-area\">\r\n                <h4>{sumComment} bình luận </h4>\r\n\r\n                {/* List comments of user */}\r\n                {this.displayListComments(comments)}\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default class FormComment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            content: ''\r\n        };\r\n    }\r\n\r\n    onChange = (event) => {\r\n        let target = event.target;\r\n        let name = target.name;\r\n        let value = target.value;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    onSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        if (this.props.account) {\r\n            this.props.onSubmitComment(this.state.content);\r\n            this.setState({content: ''});\r\n        }\r\n        else\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Bạn chưa thực hiện đăng nhập',\r\n            })\r\n    }\r\n\r\n    render() {\r\n        let { content } = this.state;\r\n        return (\r\n            <div className=\"comment-form\">\r\n                <h4>Viết bình luận tại đây</h4>\r\n                <form className=\"form-contact comment_form\" id=\"commentForm\" onSubmit={this.onSubmit} >\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                            <div className=\"form-group\">\r\n                                <textarea className=\"form-control w-100\" name=\"content\" cols={30} rows={9}\r\n                                    placeholder=\"Viết bình luận...\" style={{fontSize:'24px'}} value={content}\r\n                                    onChange={this.onChange} required title=\"Nhập nội dung bình luận\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <button type=\"submit\" className=\"button button-contactForm btn_1 boxed-btn\">Gửi bình luận</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\n\r\nimport ContentPost from '../components/Post/PostDetails/ContentPost';\r\nimport ListComments from '../components/Post/PostDetails/ListComments';\r\nimport FormComment from '../components/Post/PostDetails/FormComment';\r\n\r\nimport * as Config from '../constants/parameterConfig';\r\nimport callAPI from './../utils/connectAPI';\r\n\r\nimport io from 'socket.io-client';\r\nconst socket = io(Config.ENDPOINT_SOKET);\r\n\r\nexport default class PostDetailPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            post: null,\r\n            account: null,\r\n            checkIdInteraction: null,\r\n            liked: false,\r\n            comments: []\r\n        }\r\n    }\r\n\r\n    onSetState = (currentPost, account) => {\r\n        // chạy for để kiểm tra có có like chưa\r\n        let interactions = currentPost.interactions, liked = false, checkIdInteraction = null;\r\n        if (interactions.length > 0 && account)\r\n            interactions.forEach(item => {\r\n                if (item.account)\r\n                    if (item.account._id === account._id) {\r\n                        checkIdInteraction = item._id;\r\n                        liked = item.like;\r\n                    }\r\n            });\r\n        this.setState({post: currentPost, account, checkIdInteraction, liked, comments: currentPost.comments });\r\n    }\r\n\r\n    loadAgainPostById = (post_id) => {\r\n        callAPI('post/' + post_id, 'GET', null)\r\n            .then(res => {\r\n                let post = res.data.post;\r\n                this.onSetState(post, this.state.account)\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n        let account = JSON.parse(sessionStorage.getItem(\"user\")), post_id = this.props.match.params.id;\r\n        if (account)\r\n            this.setState({ account });\r\n        this.loadAgainPostById(post_id);\r\n\r\n        socket.emit('joinDetailPost', { account, post_id }, () => {});\r\n\r\n        socket.on('comment', comment => {\r\n            this.setState({ comments: [...this.state.comments, comment.result]});\r\n        });\r\n    }\r\n\r\n    onActionsLike = (currentPost, path, data) => {\r\n        callAPI(path + currentPost._id, 'POST', data)\r\n            .then(res => {\r\n                if (res.data.result) {\r\n                    this.loadAgainPostById(currentPost._id);\r\n                }\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    onSubmitComment = (content) => {\r\n        let {post, account} = this.state;\r\n        let comment = {account, content};\r\n\r\n        callAPI('post/comments/' + post._id, 'POST', comment)\r\n            .then(res => {\r\n                if (res.data.result) {\r\n                    socket.emit('sendComment', comment, () => {});\r\n                }\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    render() {\r\n        let { post, account, checkIdInteraction, liked, comments } = this.state;\r\n        if (post) {\r\n            let sumComment = (comments.length > 10 || comments.length === 0) ? comments.length : '0'+comments.length;\r\n            return (\r\n                <div>\r\n                    <Header />\r\n                    \r\n                    <div className=\"blog_area single-post-area section-padding\">\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-lg-12 posts-list\">\r\n                                    {/* content post */}\r\n                                    <ContentPost post={post} account={account} liked={liked} sumComment={sumComment}\r\n                                        checkIdInteraction={checkIdInteraction} onActionsLike={this.onActionsLike} />\r\n\r\n                                    {/* List comments of user */}\r\n                                    <ListComments sumComment={sumComment} comments={comments} />\r\n\r\n                                    {/* Form bình luận */}\r\n                                    <FormComment account={account} onSubmitComment={this.onSubmitComment} />\r\n                                \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <Footer />\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport './evaluation.css';\r\n\r\nimport StarRating from './StarRating';\r\n\r\nimport callAPI from '../../utils/connectAPI';\r\n\r\nexport default class EvaluationDestination extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            destination: {},\r\n            user: null,\r\n            rating: 0\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let destination = this.props.destination;\r\n        let rating = 0, user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n        // console.log(destination);\r\n        if (destination.evaluations && user)\r\n            destination.evaluations.forEach(item => {\r\n                if (item.account._id === user._id)\r\n                    rating += item.voted;\r\n            });\r\n        this.setState({user, destination, rating});        \r\n    }\r\n\r\n    onSaveRating = (ratingValue) => {\r\n        let destination = this.state.destination, avg_rating = (destination.rating + ratingValue) / 2;\r\n        let data = {rating: avg_rating, review: destination.review + 1, account: this.state.user, voted: ratingValue};\r\n        callAPI(`place/evaluate-destination/${destination._id}`, 'POST', data)\r\n            .then(res => {\r\n                if (res.data.result) {\r\n                    destination.rating = avg_rating;\r\n                    destination.review += 1;\r\n                    this.setState({destination, rating: ratingValue});\r\n                }\r\n            }).catch(err => console.log(err));\r\n    }\r\n\r\n    render() {\r\n        let {destination, user, rating} = this.state;\r\n        let toFixedRating = Number(destination.rating).toFixed(1);\r\n        return (\r\n            <div className=\"containt-review\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-4 col-md-4\">\r\n                        <h3>Đánh giá</h3>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-6 col-md-6 style-css\">\r\n                        <div className=\"ava-rating\"> <p>{toFixedRating}</p> </div>\r\n                        <StarRating\r\n                            numberOfStars={5}\r\n                            value={toFixedRating}\r\n                            size={40}\r\n                            editing={false}\r\n                        />\r\n                        <div className=\"total-rating\"> <p>{destination.review} người đánh giá</p> </div>\r\n                    </div>\r\n                    {\r\n                        user ? (\r\n                            <div className=\"col-lg-4 col-md-4 style-css\">\r\n                                <div className=\"your-rating\"> <p>Đánh giá của bạn</p> </div>\r\n                                <StarRating\r\n                                    numberOfStars={5}\r\n                                    value={rating}\r\n                                    size={40}\r\n                                    // If rating > 0 then you have evaluated so you can't edit\r\n                                    editing={rating > 0 ? false : true}\r\n                                    saveRating={this.onSaveRating}\r\n                                />\r\n                            </div>\r\n                        ) : null \r\n                    }\r\n                    \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\n\r\nimport callAPI from '../utils/connectAPI';\r\nimport EvaluationDestination from '../components/Evaluation/EvaluationDestination';\r\nclass DestinationDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            destination: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        callAPI(`place/destination/${this.props.object.match.params.id}`, 'GET', null)\r\n            .then(res => {\r\n                if(res.data.length >0){\r\n                    this.setState({\r\n                        destination: res.data[0]\r\n                    })\r\n                }\r\n            })\r\n            .catch((err) => console.log(err))\r\n    }\r\n\r\n    render() {\r\n        let { destination } = this.state;\r\n        if (destination === null)\r\n            return null;\r\n        return (\r\n            <div>\r\n                <Header/>\r\n                <div>\r\n                    <div className=\"destination_banner_wrap overlay\" style={{ backgroundImage: `url(${destination.images})` }}>\r\n                        <div className=\"destination_text text-center\">\r\n                            <h3>{destination.name}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"destination_details_info\">\r\n                        <div className=\"container\">\r\n                            <div className=\"row justify-content-center\">\r\n                                <div className=\"col-lg-8 col-md-9\">\r\n                                    <div className=\"destination_info\">\r\n                                        <h3>Chào mừng bạn đến với {destination.name}</h3>\r\n                                        <p>{destination.description}</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            {destination._id ? <EvaluationDestination destination={destination} /> : null}\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DestinationDetail;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass ListSchedule extends Component {\r\n    countDate = (schedule) => {\r\n        return schedule.length\r\n    }\r\n\r\n    displayDate = (schedule) => {\r\n        return schedule.map((dateItem,index) => {\r\n            return (<p key={index}><i className=\"fa fa-calendar\" aria-hidden=\"true\"></i> {dateItem.date.toString().substr(0,10)}: {this.displayDesName(dateItem.desName)}</p>)\r\n        })\r\n    }\r\n\r\n    displayDesName = (desName) => {\r\n        return desName.map((desNameItem,index) => {\r\n            \r\n            if(index === desName.length-1)\r\n                return desNameItem.name\r\n            return desNameItem.name + \" -> \"\r\n        })\r\n    }\r\n\r\n    displayHashTag = (hashtag) => {\r\n        return hashtag.map((hashTagItem, index) => {\r\n            return ( \r\n                <b key={index} style={{color:'blue'}}> #{hashTagItem}</b>\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { schedule, account } = this.props\r\n        return (\r\n            <div className=\"col-lg-4 col-md-6\">\r\n                <div className=\"single_place\">\r\n                    <div className=\"thumb\">\r\n                        <img src={account.avatar} alt=\"\" />\r\n                        <p className=\"prise\">{this.countDate(schedule.scheduleList)} ngày</p>\r\n                    </div>\r\n                    <div className=\"place_info\" style={{textAlign:'left'}}>\r\n                    <div className=\"social_wrap d-flex align-items-center justify-content\">\r\n                        <div className=\"avatar\">\r\n                            <img src={account.avatar} className=\"avatar\" alt=\"ava\" /> \r\n                        </div>\r\n                        &nbsp;&nbsp;\r\n                        <div className=\"number\">\r\n                            <span><b>{account.person.name}</b></span>\r\n                        </div>\r\n                    </div>\r\n                        <br/>\r\n                        <Link to={\"/schedule-detail/\" + schedule._id}><h3> {schedule.title}</h3></Link>\r\n                        <i className=\"fa fa-tag\" aria-hidden=\"true\"></i>\r\n                        {this.displayHashTag(schedule.hashtag)}\r\n                        {this.displayDate(schedule.scheduleList)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ListSchedule;","import React, { Component } from 'react';\r\nimport Header from '../components/Home/Header';\r\nimport ListSchedule from '../components/Schedule/ListSchedule';\r\nimport Footer from '../components/Home/Footer';\r\nimport callAPI from '../utils/connectAPI';\r\n\r\nclass ListSchedulePage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            account: null,\r\n            schedule: []\r\n        }\r\n    }\r\n\r\n    getSchedulesOfAccount = (account) => {\r\n        callAPI('schedule/account/' + account._id, 'GET', null)\r\n            .then(res => {\r\n                this.setState({\r\n                    schedule: res.data\r\n                });\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    componentDidMount() {\r\n        let account = JSON.parse(sessionStorage.getItem(\"user\"));\r\n        if (account !== null) {\r\n            this.setState({ account });\r\n            this.getSchedulesOfAccount(account);\r\n        }\r\n        else {\r\n            let history = this.props.history;\r\n            history.push('/login');\r\n        }\r\n    }\r\n\r\n    displaySchedule = (schedule, account) => {\r\n        let result = null;\r\n        if (schedule.length > 0) {\r\n            result = schedule.map((currentSchedule, index) => {\r\n                return (\r\n                    <ListSchedule\r\n                        key={index}\r\n                        schedule={currentSchedule}\r\n                        account={account}\r\n                    />\r\n                );\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let { schedule, account } = this.state;\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <div className=\"where_togo_area\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"container\">\r\n                            <h2 style={{ color: 'white', textAlign: 'center' }}>LỊCH TRÌNH CÁC CHUYẾN ĐI</h2>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"popular_places_area\" style={{ textAlign: 'center' }}>\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            {this.displaySchedule(schedule, account)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ListSchedulePage;","import React, { Component } from 'react';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport StarRating from '../../components/Evaluation/StarRating';\r\n\r\nimport './Product.css'\r\n\r\nclass ProductDetail extends Component {\r\n    onChoose = (product, quantity) => {\r\n        let tempQuantity = product.quantity;\r\n        let cart = JSON.parse(sessionStorage.getItem(\"cart\"));\r\n        if (cart == null)\r\n            cart = {\r\n                products: [],\r\n                total: 0\r\n            };\r\n        let countCart = 0;\r\n        countCart = Number(sessionStorage.getItem(\"countCart\"));\r\n        if (countCart >= 10)\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: \"Cảnh báo\",\r\n                text: \"Số lượng sản phẩm trong giỏ hàng không được vượt quá 10\",\r\n            })\r\n        else {\r\n            let { products } = cart;\r\n            let tempProduct = product;\r\n            if (products.length > 0) {\r\n                let flag = false;   // this product hasn't in cart\r\n                cart.total = 0;     // reset total = 0 in cart\r\n                products.forEach(el => {\r\n                    if (el._id === product._id) {\r\n                        flag = true;\r\n                        el.quantity += quantity;\r\n\r\n                        // kiểm tra số lượng sản phẩm này trong kho có còn cung cấp đủ hay ko?\r\n                        if (el.quantity > product.quantity) {\r\n                            el.quantity -= quantity;    // trả lại y củ số lượng sản phẩm này trong giỏ hàng\r\n                            countCart -= quantity;\r\n                            Swal.fire({\r\n                                icon: 'warning',\r\n                                title: \"Cảnh báo\",\r\n                                text: \"Số lượng sản phẩm trong kho không đủ để thêm vào giỏ hàng nữa\",\r\n                            })\r\n                        }\r\n                    }\r\n                    cart.total += el.quantity * el.price;\r\n                });\r\n                if (!flag) {\r\n                    tempProduct.quantity = quantity;\r\n                    cart.total += tempProduct.price * quantity;\r\n                    products.push(tempProduct);\r\n                }\r\n            }\r\n            else {\r\n                tempProduct.quantity = quantity;\r\n                cart.total = tempProduct.price * quantity;\r\n                products.push(tempProduct);\r\n            }\r\n            countCart += quantity;\r\n            // cart.products = products;\r\n\r\n            sessionStorage.setItem(\"cart\", JSON.stringify(cart));\r\n            sessionStorage.setItem(\"countCart\", Number(countCart));\r\n\r\n            // refresh\r\n            let amount = this.props.amountCurrentItemCart;\r\n            this.props.onAddItemIntoCart(++amount, product, tempQuantity);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { product } = this.props;\r\n        return (\r\n            <div className=\"blog_area single-post-area section-padding\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-6 col-md-12 col-sm-12\" >\r\n                            <img src={product.images} alt=\"image_product\" style={{ width: '500px', height: '500px' }}/>\r\n                        </div>\r\n                        <div className=\"col-lg-6 col-md-12 col-sm-12\">\r\n                            <h1 className=\"display-5 text-left\">{product.name}</h1>\r\n                            {\r\n                                product.status === true ?\r\n                                    <p className=\"text-bold\">Trạng thái: <span className=\"text-green\">Còn hàng</span></p>\r\n                                    :\r\n                                    <p className=\"text-bold\">Trạng thái: <span className=\"text-red\">Hết hàng</span></p>\r\n                            }\r\n                            <hr />\r\n                            <p className=\"text-bold\">Loại sản phẩm: {product.productType}</p>\r\n                            <p className=\"text-bold\">Giá: ${product.price}</p>\r\n                            <div className=\"rating_days d-flex justify-content\">\r\n                                <StarRating\r\n                                    numberOfStars={5}\r\n                                    value={Math.round(product.rating)}\r\n                                    size={15}\r\n                                    editing={false}\r\n                                /> &nbsp;<span>({product.review} lượt đánh giá)</span>\r\n                            </div>\r\n                            { product.status === true ?\r\n                                    <button className=\"btn btn-warning\" onClick={() => this.onChoose(product, 1)}><i className=\"fa fa-shopping-cart\" /> Chọn mua</button>\r\n                                    : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\" >\r\n                            <h1>MÔ TẢ SẢN PHẨM</h1>\r\n                            <p>{product.description}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductDetail; ","import React, { Component } from 'react';\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\nimport ProductDetail from '../components/Products/ProductDetail';\r\nimport callAPI from './../utils/connectAPI';\r\n\r\nclass ProductDetailPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            product: [],\r\n            amountCurrentItemCart: 0\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        callAPI(`product/${this.props.object.match.params.id}`, 'GET', null)\r\n            .then(res => {\r\n                this.setState({\r\n                    product: res.data\r\n                })\r\n            })\r\n            .catch((err) => console.log(err))\r\n    }\r\n\r\n    onAddItemIntoCart = (amountCurrentItemCart, product, tempQuantity) => {\r\n        product.quantity = tempQuantity;\r\n        this.setState({\r\n            product,\r\n            amountCurrentItemCart\r\n        });\r\n        // callAPI(`product/page=${this.state.currentPage}`, 'GET', null)\r\n        //     .then(res => {\r\n        //         // let { products } = res.data;\r\n\r\n        //     })\r\n        //     .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    render() {\r\n        let { product, amountCurrentItemCart } = this.state;\r\n        return (\r\n            <div>\r\n                <Header amountCurrentItemCart={amountCurrentItemCart} />\r\n                <ProductDetail product={product}\r\n                    amountCurrentItemCart={amountCurrentItemCart}\r\n                    onAddItemIntoCart = {this.onAddItemIntoCart}\r\n                />\r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductDetailPage; ","import React, { Component } from 'react';\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\nimport StarRating from '../components/Evaluation/StarRating';\r\nimport callAPI from './../utils/connectAPI';\r\nimport { VerticalTimeline, VerticalTimelineElement } from 'react-vertical-timeline-component';\r\nimport 'react-vertical-timeline-component/style.min.css';\r\nimport Moment from 'react-moment';\r\n\r\nclass ScheduleDetailPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            scheduleList: [],\r\n            schedule: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        callAPI(`schedule/${this.props.object.match.params.id}`, 'GET', null)\r\n            .then(res => {\r\n                this.setState({\r\n                    scheduleList: res.data.scheduleList,\r\n                    schedule: res.data\r\n                })\r\n            })\r\n            .catch((err) => console.log(err))\r\n    }\r\n\r\n    displayScheduleDetail = (scheduleList) => {\r\n        let result = null;\r\n        if (scheduleList.length > 0) {\r\n            result = scheduleList.map((currentSchedule, index) => {\r\n                return (\r\n                    <VerticalTimelineElement\r\n                        key={index}\r\n                        contentArrowStyle={{ borderRight: '7px solid  rgb(33, 150, 243)' }}\r\n                        date={<Moment format=\"DD-MM-YYYY\">\r\n                            {currentSchedule.date}\r\n                        </Moment>}\r\n                        iconStyle={{ background: 'rgb(33, 150, 243)', color: '#fff' }}\r\n                    >\r\n                        {this.listDesName(currentSchedule.desName)}\r\n                    </VerticalTimelineElement>\r\n                );\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    listDesName = (desName) => {\r\n        return desName.map((currentDesName, index) => {\r\n            return (\r\n                <div key={index}>\r\n                    <h3 className=\"vertical-timeline-element-title\"><i className=\"fa fa-map-marker\"> {currentDesName.name}</i></h3>\r\n                    <div className=\"rating_days d-flex justify-content\">\r\n                        <StarRating\r\n                            numberOfStars={5}\r\n                            value={Math.round(currentDesName.rating)}\r\n                            size={15}\r\n                            editing={false}\r\n                        /> &nbsp;<span><b>({currentDesName.rating})</b></span>\r\n                    </div>\r\n                    <img src={currentDesName.images} alt=\"\" style={{ width: '425px', height: '235px' }}></img>\r\n                    <hr />\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { scheduleList, schedule } = this.state;\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <div className=\"where_togo_area\">\r\n                    <h2 style={{ color: 'white', textAlign: 'center' }}>{schedule.title}</h2>\r\n                </div>\r\n                <div style={{ backgroundColor: '#f7fafd' }}>\r\n                    <VerticalTimeline>\r\n                        {this.displayScheduleDetail(scheduleList)}\r\n                        <VerticalTimelineElement\r\n                            iconStyle={{ background: 'rgb(255, 165, 0)', color: '#fff' }}\r\n                            date='Kết thúc chuyến đi'\r\n                        />\r\n                    </VerticalTimeline>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ScheduleDetailPage; ","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nclass Checkout extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            shipAddress: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let user = this.props.user;\r\n\r\n        let shipAddress = user.person.address;\r\n        this.setState({ shipAddress });\r\n    }\r\n\r\n    displayCartItem = (products) => {\r\n        let result = null;\r\n        if (products.length > 0) {\r\n            result = products.map((element, index) => {\r\n                return (\r\n                    <div key={index} >\r\n                        <h5><img src={element.images} alt=\"anh\" style={{height:'75px', width:'60px', border: '1px solid #cfcfcf'}} />\r\n                            &nbsp;{element.quantity} x {element.name} x {element.price}.000₫</h5>\r\n                        <div className=\"hr-line-dashed\" />\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    onChange = (event) => {\r\n        var name = event.target.name;\r\n        var value = event.target.value;\r\n\r\n        this.setState({\r\n            [name] : value\r\n        });\r\n    };\r\n\r\n    onSaveBill = (checkout) => {\r\n        if (this.state.shipAddress !== '')\r\n            this.props.onOrderProducts(checkout, this.state.shipAddress);\r\n        else\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Chưa nhập địa chỉ nhận hàng',\r\n            });\r\n    }\r\n\r\n    render() {\r\n        let { user, cart, countCart } = this.props;\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"container check-out d-flex\">\r\n                    <div className=\"panel-left\">\r\n                        <div className=\"panel-title\">Thông tin cá nhân</div>\r\n                        <div className=\"panel-body\">\r\n                            <h5>Tên:</h5>\r\n                            <p>{user.person.name}</p>\r\n                            <h5>Số điện thoại :</h5>\r\n                            <p>{user.person.phone}</p>\r\n                            <h5>Email: </h5>\r\n                            <p>{user.person.email}</p>\r\n                        </div>\r\n                        <div className=\"panel-title\">Địa chỉ nhận hàng</div>\r\n                        <div className=\"panel-body\">\r\n                            \r\n                            <input className=\"form-control\" type=\"text\" defaultValue={this.state.shipAddress} name=\"shipAddress\" onChange={(event) => this.onChange(event)}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"panel-right\">\r\n                        <div className=\"panel-title\">Thông tin đơn hàng ({countCart} sản phẩm)</div>\r\n                        <div className=\"panel-body\">\r\n                            <h5>Sản phẩm: </h5>\r\n                            {this.displayCartItem(cart.products)}\r\n                            <h5>Thành tiền:</h5>\r\n                            <b style={{color:'red'}}>{cart.total}.000₫</b>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"button-redirect\">\r\n                    <Link to=\"/product\" className=\"btn btn-success\">Tiếp tục mua hàng</Link>\r\n                    <button type='button' className=\"btn btn-warning\" onClick={() => this.onSaveBill(\"Thanh toán khi nhận hàng (COD)\")}>Xác nhận đặt hàng</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Checkout;","import React, { Component } from 'react';\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\nimport Checkout from '../components/Checkout/Checkout';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport '../components/Checkout/Checkout.css';\r\n\r\nimport callAPI from '../utils/connectAPI';\r\n\r\nclass CheckoutPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: null,\r\n            cart: {\r\n                products: [],\r\n                total: 0\r\n            },\r\n            countCart: 0,\r\n            isUpdateCheckout: 0,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n        if (user === null)\r\n            this.props.history.push('/login');\r\n        \r\n        else {\r\n            let cart = JSON.parse(sessionStorage.getItem(\"cart\"));\r\n            let countCart = Number(sessionStorage.getItem(\"countCart\"));\r\n            this.setState({ user, cart, countCart });\r\n        }\r\n    }\r\n\r\n    onOrderProducts = (checkout, shipAddress) => {\r\n        let {user, cart} = this.state;\r\n\r\n        sessionStorage.removeItem(\"cart\");\r\n        sessionStorage.removeItem(\"countCart\");\r\n        this.setState({\r\n            cart: {\r\n                products: [],\r\n                total: 0\r\n            },\r\n            countCart: 0\r\n        });\r\n        let bill = {user, cart, isCheckout: false, checkout, shipAddress};\r\n        // use to api connect server to save Bill\r\n        callAPI('bill/add', 'POST', {bill})\r\n            .then(res => {\r\n                let icon = 'success', title = \"\", text = \"\", outOfStock = res.data.outOfStock;\r\n                if (res.data.success)\r\n                    title = res.data.success;\r\n                else if (res.data.fail) {\r\n                    icon = \"error\";\r\n                    title = res.data.fail;\r\n                }\r\n                else if(outOfStock) {\r\n                    let length = outOfStock.length;\r\n                    title = \"Bạn đã đặt hàng thành công!\";\r\n                    text = `Xin lỗi! Chúng tôi đã bỏ qua sản phẩm (`;\r\n                    for (let i = 0; i < length; i++) {\r\n                        if (i === length - 1)\r\n                            text += `${outOfStock[i].name}) do không đủ`;\r\n                        else\r\n                            text += `${outOfStock[i].name} - `;\r\n                    }\r\n                }\r\n                Swal.fire({\r\n                    icon,\r\n                    title,\r\n                    text\r\n                });\r\n                \r\n                this.props.history.push('/payment-history');\r\n            })\r\n            .catch((err) => { console.log(err) });\r\n        }\r\n\r\n    updateCartInCheckout = (cart, countCart) => {\r\n        this.setState({cart, countCart});\r\n    }\r\n\r\n    render() {\r\n        let { user, cart, countCart, isUpdateCheckout } = this.state;\r\n        if (user)\r\n            return (\r\n                <div>\r\n                    <Header isUpdateCheckout={isUpdateCheckout} updateCartInCheckout={this.updateCartInCheckout} />\r\n                    <div className=\"where_togo_area\">\r\n                        <h2 style={{ color: 'white', textAlign: 'center' }}>XÁC NHẬN ĐẶT HÀNG</h2>\r\n                    </div>\r\n                    \r\n                    <Checkout user={user} cart={cart} countCart={countCart} onOrderProducts={this.onOrderProducts} />\r\n\r\n                    <Footer/>\r\n                </div>\r\n            );\r\n            \r\n        else return null;\r\n    }\r\n}\r\n\r\nexport default CheckoutPage;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass HeaderAdmin extends Component {\r\n\r\n    componentDidMount() {\r\n        let account = JSON.parse(sessionStorage.getItem(\"user\"));\r\n        if (account === null) {\r\n            let history = this.props.history;\r\n            history.push('/login');\r\n        }\r\n        else if (account.roles !== 1) {\r\n            let history = this.props.history;\r\n            history.push('/notfound');\r\n        }\r\n    }\r\n\r\n    isLogout = () => {\r\n        if (sessionStorage.getItem(\"user\")) {\r\n            sessionStorage.removeItem(\"user\");\r\n            window.location.href = '/login';\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <header>\r\n                <div className=\"header-area\">\r\n                    <div id=\"sticky-header\" className=\"main-header-area\">\r\n                        <div className=\"container-fluid\">\r\n                            <div className=\"header_bottom_border\">\r\n                                <div className=\"row align-items-center\">\r\n                                    <div className=\"col-xl-2 col-lg-2\">\r\n                                        <div className=\"logo\">\r\n                                            <Link to=\"/\">\r\n                                                <img src=\"../images/logo.png\" alt=\"logo\" />\r\n                                            </Link>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-xl-6 col-lg-6\">\r\n                                        <div className=\"main-menu  d-none d-lg-block\">\r\n                                            <nav>\r\n                                                <ul id=\"navigation\">\r\n                                                    <li><Link className=\"active\" to=\"/\">Trang chủ</Link></li>\r\n                                                    <li><Link to=\"\">quản lý <i className=\"fa fa-angle-down\" /></Link>\r\n                                                        <ul className=\"submenu\">\r\n                                                            <li><Link to=\"/admin/product-management\">sản phẩm dịch vụ</Link></li>\r\n                                                            <li><Link to=\"/admin/post-management\">bài đăng</Link></li>\r\n                                                        </ul>\r\n                                                    </li>\r\n                                                    <li><Link to=\"\">thống kê <i className=\"fa fa-angle-down\" /></Link>\r\n                                                        <ul className=\"submenu\">\r\n                                                            <li><Link to=\"/admin/statistical-product-best-seller\">sản phẩm bán chạy</Link></li>\r\n                                                            <li><Link to=\"/admin/statistical-renvenue-sale\">doanh thu sản phẩm</Link></li>\r\n                                                        </ul>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </nav>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-xl-4 col-lg-4 d-none d-lg-block\">\r\n                                        <div className=\"social_wrap d-flex align-items-center justify-content-end\">\r\n                                        {/* {\r\n                                            user ? (\r\n                                                <div className=\"avatar\">\r\n                                                    {\r\n                                                        this.state.filePath ?\r\n                                                            <img src={this.state.filePath} className=\"avatar\" alt=\"ava\"/>\r\n                                                        :\r\n                                                           <img src={user.avatar} className=\"avatar\" alt=\"ava\" />\r\n                                                    }\r\n                                                </div>\r\n                                            ) : ''\r\n                                        } */}\r\n                                            {/* &nbsp;&nbsp;\r\n                                            <div className=\"number\">\r\n                                                <p>\r\n                                                    {user ?\r\n                                                        (\r\n                                                            <span>\r\n                                                                <button data-toggle=\"modal\" data-target=\"#updateInfoModal\"> {user.person.name} </button>\r\n                                                            </span>\r\n                                                        )\r\n                                                        : ''\r\n                                                    }\r\n                                                </p>\r\n                                            </div> */}\r\n                                            \r\n                                        </div>\r\n                                    </div>\r\n                                    \r\n                                    <div className=\"seach_icon\">\r\n                                        \r\n                                            <Link to=''>\r\n                                                <i className=\"fa fa-sign-out\" style={{fontSize: '1.5rem'}} onClick={() => this.isLogout()}></i>\r\n                                            </Link>\r\n\r\n                                    </div>\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/* { user ? <Modal user={user} /> : null } */}\r\n\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HeaderAdmin;","import firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyDf9Vdn-REIYbGdH7KdqLFMZ95-Oyd5Z2g\",\r\n    authDomain: \"testapi-272015.firebaseapp.com\",\r\n    databaseURL: \"https://testapi-272015.firebaseio.com\",\r\n    projectId: \"testapi-272015\",\r\n    storageBucket: \"testapi-272015.appspot.com\",\r\n    messagingSenderId: \"26774653711\",\r\n    appId: \"1:26774653711:web:64a1f6b2683477c91f8c7a\",\r\n    measurementId: \"G-YG5PFNXVBF\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst storage = firebase.storage();\r\n\r\nexport default storage;","import storage from './firebaseStorage';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst uploadImages = async (file, cbURL) => {\r\n    let uploadTask = storage.ref(`images/${file.name}`).put(file);\r\n    await uploadTask.on('state_changed',\r\n        (snapshot) => {\r\n            // progress function\r\n            let process = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n                Swal.fire({\r\n                    title: 'Đang tải ảnh',\r\n                    allowEscapeKey: false,\r\n                    allowOutsideClick: false,\r\n                    background: '#19191a',\r\n                    showConfirmButton: false,\r\n                    onOpen: () => {\r\n                        Swal.showLoading();\r\n                    },\r\n                    timer: process,\r\n                    timerProgressBar: true\r\n                });\r\n        },\r\n        (error) => {\r\n            console.log('Error: ' + error);\r\n        },\r\n        () => {\r\n            // complete function\r\n            storage.ref('images').child(file.name).getDownloadURL().then(url => {\r\n                cbURL(url);\r\n            });\r\n        }\r\n    );\r\n}\r\n\r\nexport default uploadImages;","import React, { Component } from 'react';\r\nimport Swal from 'sweetalert2';\r\n// import Utils upload images to firebase\r\nimport uploadImageToFirebase from '../../../utils/uploadImageToFirebase';\r\n\r\nexport default class ModalActionsProduct extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            _id: null,\r\n            name: '',\r\n            productType: '',\r\n            description: '',\r\n            images: '',\r\n            price: 0,\r\n            quantity: 0,\r\n            file: null,\r\n            filePath: null\r\n        };\r\n    }\r\n\r\n    onSetSate = (product) => {\r\n        if (product._id) {\r\n            this.setState({\r\n                _id: product._id,\r\n                name: product.name,\r\n                productType: product.productType,\r\n                description: product.description,\r\n                images: product.images,\r\n                price: product.price,\r\n                quantity: product.quantity,\r\n                file: null,\r\n                filePath: null\r\n            });\r\n\r\n        }\r\n        else\r\n            this.setState({\r\n                _id: null,\r\n                name: '',\r\n                productType: '',\r\n                description: '',\r\n                images: '',\r\n                price: 0,\r\n                quantity: 0,\r\n                file: null,\r\n                filePath: null\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onSetSate(this.props.product)\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.product._id !== prevProps.product._id)\r\n            this.onSetSate(this.props.product)\r\n    }\r\n\r\n    onChange = (event) => {\r\n        var name = event.target.name;\r\n        var value = event.target.value;\r\n\r\n        if (name === 'price' && value > Math.pow(9, 10))\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Giá bạn nhập quá cao',\r\n            });\r\n        if (name === 'quantity' && value > Math.pow(9, 10))\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Số lượng bạn nhập quá lớn',\r\n            });\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n    onChangeImage = (event) => {\r\n        let file = event.target.files[0];\r\n        if (file) {\r\n            this.setState({ file, images: file.name });\r\n\r\n            let reader = new FileReader();\r\n\r\n            reader.onloadend = () => {\r\n                this.setState({\r\n                    filePath: reader.result\r\n                });\r\n            }\r\n            reader.readAsDataURL(event.target.files[0])\r\n        }\r\n    };\r\n\r\n    onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        let { _id, name, productType, description, images, price, quantity, file } = this.state;\r\n        if (!file && images === '')\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Ảnh không được để rỗng',\r\n            });\r\n        else {\r\n            if (file) {\r\n                await uploadImageToFirebase(file, url => {\r\n                    // console.log(url);\r\n                    images = url;\r\n                    let product = { _id, name, productType, description, images, price, quantity };\r\n\r\n                    this.props.updateInfoProduct(product);\r\n                })\r\n            }\r\n            else {\r\n                let product = { _id, name, productType, description, images, price, quantity };\r\n                this.props.updateInfoProduct(product);\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        let { _id, name, productType, description, images, price, quantity, filePath } = this.state;\r\n        let titleModal = _id ? 'Cập nhật sản phẩm' : 'Thêm sản phẩm';\r\n        return (\r\n            <div className=\"modal fade\" id=\"toggleUpdate\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title\" id=\"exampleModalCenterTitle\">{titleModal}</h5>\r\n                            <button type=\"submit\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\">×</span>\r\n                            </button>\r\n\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            <form onSubmit={this.onSubmit}>\r\n                                <div className=\"form-group row\">\r\n                                    <div className=\"col-sm-1\" />\r\n                                    <label htmlFor=\"productType\" className=\"col-sm-3 col-form-label text-right\">Tên sản phẩm</label>\r\n                                    <div className=\"col-sm-6\">\r\n                                        <input className=\"form-control\" name=\"name\" value={name} onChange={this.onChange} required />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group row\">\r\n                                    <div className=\"col-sm-1\" />\r\n                                    <label htmlFor=\"productType\" className=\"col-sm-3 col-form-label text-right\" required >Loại sản phẩm</label>\r\n                                    <div className=\"col-sm-6\">\r\n                                        <input className=\"form-control\" name=\"productType\" value={productType} onChange={this.onChange} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group row\">\r\n                                    <div className=\"col-sm-1\" />\r\n                                    <label htmlFor=\"description\" className=\"col-sm-3 col-form-label text-right\">Mô tả</label>\r\n                                    <div className=\"col-sm-6\">\r\n                                        <input className=\"form-control\" name=\"description\" value={description} onChange={this.onChange} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group row\">\r\n                                    <div className=\"col-sm-1\" />\r\n                                    <label htmlFor=\"images\" className=\"col-sm-3 col-form-label text-right\">Hình ảnh</label>\r\n                                    <div className=\"col-sm-6\">\r\n                                        {filePath ?\r\n                                            <img src={filePath} alt=\"product\" style={{ width: \"70px\" }} />\r\n                                            : <img src={images} alt=\"\" style={{ width: \"70px\" }} />\r\n                                        }\r\n                                        <input type=\"file\" name=\"file\" onChange={this.onChangeImage} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group row\">\r\n                                    <div className=\"col-sm-1\" />\r\n                                    <label htmlFor=\"price\" className=\"col-sm-3 col-form-label text-right\">Giá</label>\r\n                                    <div className=\"col-sm-6\">\r\n                                        <input type=\"Number\" className=\"form-control\" name=\"price\" value={price} onChange={this.onChange} required />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group row\">\r\n                                    <div className=\"col-sm-1\" />\r\n                                    <label htmlFor=\"quantity\" className=\"col-sm-3 col-form-label text-right\">Số lượng</label>\r\n                                    <div className=\"col-sm-6\">\r\n                                        <input type=\"Number\" className=\"form-control\" name=\"quantity\" value={quantity} onChange={this.onChange} required />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group row\">\r\n                                    <div className=\"col-sm-4\" />\r\n                                    <div className=\"col-sm-6\">\r\n                                        <button type=\"submit\" className=\"btn btn-info\" style={{ width: '90px' }} >Lưu</button>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <button type=\"button\" className=\"btn btn-secondary\" style={{ width: '90px' }} data-dismiss=\"modal\" >Đóng</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport callAPI from '../../../utils/connectAPI';\r\nimport { MDBDataTable, Row, Col, Card, CardBody } from 'mdbreact';\r\nimport Swal from 'sweetalert2';\r\nimport ModalActionsProduct from './ModalActionsProduct';\r\n\r\nclass DataTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: {\r\n                columns: [\r\n\r\n                ],\r\n                rows: [\r\n                   \r\n                ]\r\n            },\r\n            product: null,\r\n            statusBtnAdd: true\r\n        };\r\n    }\r\n\r\n    onSetStateData = (products) => {\r\n        this.setState({\r\n            data : {\r\n              columns: [\r\n                {\r\n                    label: 'Tên sản phẩm',\r\n                    field: 'name',\r\n                    sort: 'asc',     \r\n                },\r\n                {\r\n                    label: 'Loại sản phẩm',\r\n                    field: 'productType',\r\n                    sort: 'asc',\r\n                },\r\n                {\r\n                    label: 'Mô tả',\r\n                    field: 'description',\r\n                    sort: 'asc',\r\n                },\r\n                {\r\n                    label: 'Hình ảnh',\r\n                    field: 'images' ,\r\n                    sort: 'asc',\r\n                },\r\n                {\r\n                    label: 'Giá',\r\n                    field: 'price',\r\n                    sort: 'asc',\r\n                },\r\n                {\r\n                    label: 'Số lượng',\r\n                    field: 'quantity',\r\n                    sort: 'asc',\r\n                },  \r\n                {\r\n                    label: 'Cập nhật',\r\n                    field: 'update',      \r\n                },\r\n                {\r\n                    label: 'Xóa',\r\n                    field: 'delete'\r\n                }  \r\n              ],\r\n                rows: products.map((row, key) => ({\r\n                    ...row,\r\n                    images: (\r\n                        <img src={row.images} alt=\"\" style={{width: '50px'}}  />\r\n                    ),\r\n                    update: (\r\n                        <button className=\"btn btn-warning\" data-toggle=\"modal\" data-target=\"#toggleUpdate\" onClick={() => this.onOpenToggleModal(row)}>\r\n                            <i className=\"fa fa-edit\"></i>\r\n                        </button>\r\n                    ),\r\n                    delete: (\r\n                        <button className=\"btn btn-danger\">\r\n                            <i className=\"fa fa-trash\" onClick={() => this.deleteProduct(row._id)}></i>\r\n                        </button>\r\n                    )\r\n                }))\r\n            }\r\n        });\r\n    }\r\n\r\n    onOpenToggleModal = (product) => {\r\n        // if product != null call modal edit\r\n        if (product)\r\n            this.setState({product})\r\n        else\r\n            this.setState({product: {}})\r\n    }\r\n    \r\n    deleteProduct = (id) => {\r\n        Swal.fire({\r\n            title: 'Bạn có chắc?',\r\n            text: \"Bạn muốn xóa sản phẩm này!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Có',\r\n            cancelButtonText: 'Không'\r\n        }).then((result) => {\r\n            if (result.value) {\r\n                var tempData = this.state.data.rows.filter(item => {\r\n                    item.images = item.images.props.src;\r\n                    return item._id !== id;\r\n                });\r\n                this.onSetStateData(tempData);\r\n        \r\n                callAPI(`admin/product/`+id, 'DELETE', null)\r\n                    .then(res => {\r\n                        Swal.fire({\r\n                            icon: 'success',\r\n                            title: res.data.messSuccess,\r\n                        });\r\n                    })\r\n                    .catch((err) => { console.log(err) })\r\n            }\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        callAPI('admin/product', 'GET', null)\r\n            .then(res => {\r\n                this.onSetStateData(res.data);\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    updateInfoProduct = (product) => {\r\n        let products = this.state.data.rows;\r\n                          \r\n        if (product._id) {\r\n            callAPI(`admin/product/update/${product._id}`, 'POST', product)\r\n                .then(res => {\r\n                    if (res.data.messSuccess) {\r\n                        Swal.fire({\r\n                            icon: 'success',\r\n                            title: res.data.messSuccess,\r\n                        });\r\n\r\n                        // console.log(product);\r\n                        products = products.map(item => {\r\n                            item.images = item.images.props.src;  // vì sao khi update thì field images trở thành 1 object nên phải chuyển nó thành String\r\n                            if (item._id === product._id)\r\n                                item = product;\r\n                            return item;\r\n                        })\r\n                        this.onSetStateData(products);\r\n                        // console.log(\"PRODUCT UPDATED\");\r\n                    }\r\n                }).catch(err => console.log(err));\r\n        }\r\n        else {\r\n            callAPI('admin/product/add', 'POST', product)\r\n                .then(res => {\r\n                    if (res.data.result) {\r\n                        Swal.fire({\r\n                            icon: 'success',\r\n                            title: 'Sản phẩm đã được thêm thành công',\r\n                        });\r\n\r\n                        // console.log(product);\r\n                        products = products.map(item => {\r\n                            item.images = item.images.props.src;  // vì sao khi update thì field images trở thành 1 object nên phải chuyển nó thành String\r\n                            if (item._id === product._id)\r\n                                item = product;\r\n                            return item;\r\n                        })\r\n                        products.unshift(res.data.result);\r\n                        this.onSetStateData(products);\r\n                    }\r\n                })\r\n                .catch(err => console.log(err));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var { data, product } = this.state;\r\n        return (\r\n           \r\n            <Row className=\"mb-4\">\r\n                \r\n                <Col md=\"12\">\r\n                    \r\n                <button className=\"btn btn-primary add-modal-product\" data-toggle=\"modal\" data-target=\"#toggleUpdate\" onClick={() => this.onOpenToggleModal(null)}>\r\n                    <i className=\"fa fa-plus\"> Thêm sản phẩm</i>\r\n                </button>\r\n                \r\n                    <Card>\r\n\r\n                        <CardBody>\r\n                        \r\n                            <MDBDataTable\r\n                                striped\r\n                                bordered\r\n                                hover\r\n                                data={data}\r\n                                entriesLabel=\"Hiển thị\"\r\n                                infoLabel={[\"Hiển thị\", \"đến\", \"trong số\", \"mục\"]}\r\n                                pagesAmount={10}\r\n                                paginationLabel={[\"Trang trước\", \"Trang kế\"]}\r\n                                searchLabel=\"Tìm theo tên sản phẩm\"\r\n                                noBottomColumns\r\n                            >\r\n                            </MDBDataTable>\r\n                            \r\n                        </CardBody>\r\n\r\n                    </Card>\r\n\r\n                </Col>\r\n                { product ? <ModalActionsProduct product={product} updateInfoProduct={this.updateInfoProduct} /> : null }\r\n            </Row>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default DataTable;","import React, { Component } from 'react';\r\nimport HeaderAdmin from '../components/Admin/HeaderAdmin';\r\nimport Footer from '../components/Home/Footer';\r\n\r\nimport ProductsDataTable from '../components/Admin/ProductsManager/ProductsDataTable';\r\n\r\n\r\nclass AdminPage extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"AdminPage\">\r\n                <HeaderAdmin history={this.props.history} />\r\n                \r\n                <div className=\"where_togo_area\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"container\">\r\n                                <h2 style={{color:'white', textAlign:'center'}}>QUẢN LÝ SẢN PHẨM DỊCH VỤ</h2>\r\n                        </div>\r\n                    </div>\r\n                </div> \r\n                <ProductsDataTable/>\r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminPage;","import React, { Component } from 'react';\r\n\r\nimport { MDBRow, MDBCard, MDBCardBody, } from \"mdbreact\";\r\n\r\nexport default class ListPostUser extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <MDBCard className=\"my-5 px-5 pb-5 w-100\">\r\n\r\n                <MDBCardBody className=\"text-center\">\r\n                    <h2 className=\"h1-responsive font-weight-bold text-center my-5\">\r\n                        Bài đăng chờ duyệt\r\n                    </h2>\r\n                    <MDBRow>\r\n\r\n                        {this.props.children}\r\n\r\n                    </MDBRow>\r\n                </MDBCardBody>\r\n            </MDBCard>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { MDBRow, MDBCol, MDBCardBody, MDBMask, MDBIcon, MDBView } from \"mdbreact\";\r\n\r\n// import icons\r\nimport iconOnline from '../../Post/Icons/iconOnline.png';\r\nimport iconWaiting from '../../Post/Icons/iconWaiting.png';\r\nimport iconGray from '../../Post/Icons/iconGray.png';\r\n\r\nexport default class PostUser extends Component {\r\n\r\n    showStatusOfPost = (status) => {\r\n        let strStatus = \"\", icon = null;\r\n        switch (status) {\r\n            case 'A':\r\n                strStatus = \"Đã duyệt\";\r\n                icon = iconOnline;\r\n                break;\r\n            case 'D':\r\n                strStatus = \"Đã xóa\";\r\n                icon = iconGray;\r\n                break;\r\n            case 'W': default:\r\n                strStatus = \"Đang duyệt\";\r\n                icon = iconWaiting;\r\n                break;\r\n        }\r\n        return (\r\n            <label>\r\n                {strStatus} &nbsp;&nbsp; <img src={icon} alt='icon' />\r\n            </label>\r\n        )\r\n    }\r\n\r\n    onHandlingPost = (acctions) => {\r\n        let text = '';\r\n        if (acctions === 1)\r\n            text = \"Bạn muốn duyệt bài đăng này!\";\r\n        else if (acctions === 2)\r\n            text = \"Bạn muốn xóa bài đăng này!\"\r\n        Swal.fire({\r\n            title: 'Bạn có chắc?',\r\n            text,\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes',\r\n            cancelButtonText: 'No'\r\n        }).then((result) => {\r\n            if (result.value) this.props.onHandlingPostOfUser(this.props.currentPost, acctions);\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { currentPost } = this.props;\r\n        return (\r\n            <MDBCol lg=\"12\" xl=\"12\">\r\n                <div className=\"d-flex\">\r\n                    <div style={{ float: \"left\", width: \"95%\", textAlign: \"left\" }}>\r\n                        <p>\r\n                            Đăng bởi: &nbsp;&nbsp; <strong> {currentPost.account.person.name} </strong>\r\n                        </p>\r\n                    </div>\r\n                    <div style={{ float: \"right\", width: \"50%\", textAlign: \"left\" }}>\r\n                        <p>\r\n                            Trang thái: &nbsp; {this.showStatusOfPost(currentPost.status)}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <p className=\"d-flex\">\r\n                    Ngày đăng: &nbsp;&nbsp;\r\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">\r\n                        {currentPost.postDate}\r\n                    </Moment>\r\n                </p>\r\n                <p className=\"d-flex\">\r\n                    {currentPost.content}\r\n                </p>\r\n                <MDBRow>\r\n                    {currentPost.images.map((img, index) => {\r\n                        if (currentPost.images.length === 1) {\r\n                            return (\r\n                                <MDBCol key={index} lg=\"12\" md=\"12\" className=\"mb-lg-0 mb-4\">\r\n                                    <MDBView hover className=\"rounded z-depth-2 mb-4\" waves>\r\n\r\n                                        <img\r\n                                            className=\"img-fluid\"\r\n                                            src={img}\r\n                                            alt=\"\"\r\n                                            width=\"100%\" />\r\n\r\n                                        <MDBMask overlay=\"white-slight\" />\r\n                                    </MDBView>\r\n                                </MDBCol>\r\n                            )\r\n                        } else if (currentPost.images.length === 2) {\r\n                            return (\r\n                                <MDBCol key={index} lg=\"6\" md=\"12\" className=\"mb-lg-0 mb-4\">\r\n                                    <MDBView hover className=\"rounded z-depth-2 mb-4\" waves>\r\n\r\n                                        <img\r\n                                            className=\"img-fluid\"\r\n                                            src={img}\r\n                                            alt=\"\"\r\n                                            width=\"100%\" />\r\n\r\n                                        <MDBMask overlay=\"white-slight\" />\r\n                                    </MDBView>\r\n                                </MDBCol>\r\n                            )\r\n                        } else {\r\n                            return (\r\n                                <MDBCol key={index} lg=\"4\" md=\"12\" className=\"mb-lg-0 mb-4\">\r\n                                    <MDBView hover className=\"rounded z-depth-2 mb-4\" waves>\r\n\r\n                                        <img\r\n                                            className=\"img-fluid\"\r\n                                            src={img}\r\n                                            alt=\"\"\r\n                                            width=\"100%\" />\r\n\r\n                                        <MDBMask overlay=\"white-slight\" />\r\n                                    </MDBView>\r\n                                </MDBCol>\r\n                            )\r\n                        }\r\n                    })}\r\n                </MDBRow>\r\n                <MDBCardBody>\r\n                    <span className=\"mr-2\">\r\n                        <button onClick={() => this.addLike(currentPost._id)}><MDBIcon icon=\"heart\" /></button> {currentPost.sumLike} thích\r\n                    </span>\r\n\r\n                    <span>\r\n                        <MDBIcon icon=\"comment\" /> {currentPost.comments.length} bình luận\r\n                    </span>\r\n                </MDBCardBody>\r\n                <button className=\"btn btn-info\" style={{marginRight: \"15px\"}} onClick={() => this.onHandlingPost(1)} > Duyệt bài </button>\r\n                <button className=\"btn btn-danger\" onClick={() => this.onHandlingPost(2)}> &nbsp;Xóa bài&nbsp; </button>\r\n                <hr className=\"my-5\" />\r\n            </MDBCol>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport HeaderAdmin from '../components/Admin/HeaderAdmin';\r\nimport Footer from '../components/Home/Footer';\r\n\r\nimport ListPostUser from '../components/Admin/PostManager/ListPostUser';\r\nimport PostUser from '../components/Admin/PostManager/PostUser';\r\n\r\nimport * as Config from '../constants/parameterConfig';\r\nimport callAPI from '../utils/connectAPI';\r\n\r\nimport io from 'socket.io-client';\r\nconst socket = io(Config.ENDPOINT_SOKET);\r\nexport default class AdminMangerPostPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            posts: [],\r\n            account: null\r\n        }\r\n    }\r\n\r\n    getListPostsOfUser = () => {\r\n        callAPI('admin/post/', 'GET', null)\r\n            .then(res => {\r\n                this.setState({ posts: res.data });\r\n            }).catch((err) => { console.log(err) })\r\n    }\r\n\r\n    componentDidMount() {\r\n        let account = JSON.parse(sessionStorage.getItem(\"user\"));\r\n        if (account !== null) {\r\n\r\n            // Is this account an admin ?\r\n            this.setState({ account });\r\n            this.getListPostsOfUser();\r\n\r\n            // ask connect socket.server\r\n            socket.emit('joinAdmin', { account }, () => {});\r\n\r\n            // receive result\r\n            socket.on('receivePost', post => {\r\n                if (post.result)\r\n                    this.getListPostsOfUser();\r\n            })\r\n        }\r\n    }\r\n\r\n    onHandlingPostOfUser = (post, acctions) => {\r\n        /**\r\n         * if acctions === 1 then accepted\r\n         * else acctions === 2 then don't accepted\r\n        */\r\n        let path = '', method = '', status = '';\r\n        if (acctions === 1) {\r\n            path = 'admin/post/update/';\r\n            method = 'GET';\r\n            status = 'A';\r\n        }\r\n        else if (acctions === 2) {\r\n            path = 'admin/post/';\r\n            method = 'DELETE';\r\n            status = 'D';\r\n        }\r\n        callAPI(path + post._id, method, null)\r\n            .then(res => {\r\n                if (res.data.message) {\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                        title: res.data.message,\r\n                    })\r\n                    this.setState({ posts: this.state.posts.filter(el => el._id !== post._id) });\r\n\r\n                    post.status = status;\r\n                    socket.emit('handlingPost', post, () => {});\r\n                }\r\n            }).catch((err) => { console.log(err) })\r\n    }\r\n\r\n    displayListPostByUser = (posts) => {\r\n        let result = null;\r\n        if (posts.length > 0)\r\n            result = posts.map((currentPost, index) => {\r\n                return (\r\n                    <PostUser\r\n                        key={index}\r\n                        currentPost={currentPost}\r\n                        onHandlingPostOfUser={this.onHandlingPostOfUser}\r\n                    />\r\n                )\r\n            });\r\n        return result;\r\n    }\r\n\r\n    render() {\r\n        let { posts } = this.state;\r\n        return (\r\n            <div>\r\n                <HeaderAdmin history={this.props.history} />\r\n\r\n                <div className=\"where_togo_area\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"container\">\r\n                            <h2 style={{ color: 'white', textAlign: 'center', textTransform: \"uppercase\" }}>Quản lý bài đăng</h2>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"popular_places_area\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n\r\n                            <ListPostUser>\r\n                                {this.displayListPostByUser(posts)}\r\n                            </ListPostUser>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { MDBContainer } from \"mdbreact\";\r\nimport DatePicker from 'react-datepicker';\r\n\r\nimport callAPI from '../../../utils/connectAPI';\r\n\r\nclass StatisticalProductBestSeller extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            startDate: new Date(),\r\n            years: {\r\n                labels: [],\r\n                datasets: [\r\n                    {\r\n                        label: '',\r\n                        fill: false,\r\n                        lineTension: 0.5,\r\n                        backgroundColor: [],\r\n                        borderColor: \"#C2E17A\",\r\n                        borderWidth: 2,\r\n                        data: []\r\n                    }\r\n                ]\r\n            },\r\n            months: {\r\n                labels: [],\r\n                datasets: [\r\n                    {\r\n                        label: '',\r\n                        fill: false,\r\n                        lineTension: 0.5,\r\n                        backgroundColor: [],\r\n                        borderColor: \"#5FE161\",\r\n                        borderWidth: 2,\r\n                        data: []\r\n                    }\r\n                ]\r\n            },\r\n            days: {\r\n                labels: [],\r\n                datasets: [\r\n                    {\r\n                        label: '',\r\n                        fill: false,\r\n                        lineTension: 0.5,\r\n                        backgroundColor: [],\r\n                        borderColor: \"#14EDF8\",\r\n                        borderWidth: 2,\r\n                        data: []\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    }\r\n\r\n    handlingStatical = (date) => {\r\n\r\n        callAPI('admin/statistical/product/sell-day', 'POST', { date })\r\n            .then(res => this.onSetStatisticalDays(res.data));\r\n        \r\n        callAPI('admin/statistical/product/sell-month', 'POST', { date })\r\n            .then(res => this.onSetStatisticalMonths(res.data));\r\n        \r\n        callAPI('admin/statistical/product/sell-year', 'POST', { date })\r\n            .then(res => this.onSetStatisticalYears(res.data));\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.handlingStatical(this.state.startDate);\r\n    }\r\n\r\n    /** set state StatisticalDay */\r\n    onSetStatisticalDays = (data) => {\r\n        let backgroundColor = [ \"#F2281E\", \"#F2E81E\", \"#3e95cd\", \"#8e5ea2\", \"#F21EC8\",\r\n                                \"#3cba9f\", \"#e8c3b9\", \"#16F033\", \"#c45850\", \"#F0A716\" ], i = 0;\r\n        let labels = [], backgroundColorChart = [], dataChart = [];\r\n        data.forEach(el => {\r\n            labels.push(el._id);\r\n            backgroundColorChart.push(backgroundColor[i++]);\r\n            dataChart.push(el.sumPurchase);\r\n        });\r\n\r\n        let days = {labels, datasets: [\r\n            {\r\n                label: \"Đã bán\",\r\n                fill: false,\r\n                lineTension: 0.5,\r\n                backgroundColor: backgroundColorChart,\r\n                borderColor: \"#A69494\",\r\n                borderWidth: 2,\r\n                data: dataChart\r\n            }]\r\n        };\r\n\r\n        this.setState({ days });\r\n    }\r\n    onSetStatisticalMonths = (data) => {\r\n        let backgroundColor = [ \"#F2281E\", \"#F2E81E\", \"#3e95cd\", \"#8e5ea2\", \"#F21EC8\",\r\n                                \"#3cba9f\", \"#e8c3b9\", \"#16F033\", \"#c45850\", \"#F0A716\",\r\n                                \"#FCFC78\", \"#042F04\", \"#E2C3E4\", \"#3E1C87\", \"#6AAC0D\" ], i = 0;\r\n        let labels = [], backgroundColorChart = [], dataChart = [];\r\n        data.forEach(el => {\r\n            labels.push(el._id);\r\n            backgroundColorChart.push(backgroundColor[i++]);\r\n            dataChart.push(el.sumPurchase);\r\n        });\r\n\r\n        let months = {labels, datasets: [\r\n            {\r\n                label: \"Đã bán\",\r\n                fill: false,\r\n                lineTension: 0.5,\r\n                backgroundColor: backgroundColorChart,\r\n                borderColor: \"#5FE161\",\r\n                borderWidth: 2,\r\n                data: dataChart\r\n            }]\r\n        };\r\n\r\n        this.setState({ months });\r\n    }\r\n    onSetStatisticalYears = (data) => {\r\n        let backgroundColor = [ \"#F2281E\", \"#F2E81E\", \"#3e95cd\", \"#8e5ea2\", \"#F21EC8\",\r\n                                \"#3cba9f\", \"#e8c3b9\", \"#16F033\", \"#c45850\", \"#F0A716\",\r\n                                \"#FCFC78\", \"#042F04\", \"#E2C3E4\", \"#3E1C87\", \"#6AAC0D\" ], i = 0;\r\n        let labels = [], backgroundColorChart = [], dataChart = [];\r\n        data.forEach(el => {\r\n            labels.push(el._id);\r\n            backgroundColorChart.push(backgroundColor[i++]);\r\n            dataChart.push(el.sumPurchase);\r\n        });\r\n\r\n        let years = {labels, datasets: [\r\n            {\r\n                label: \"Đã bán\",\r\n                fill: false,\r\n                lineTension: 0.5,\r\n                backgroundColor: backgroundColorChart,\r\n                borderColor: \"#C2E17A\",\r\n                borderWidth: 2,\r\n                data: dataChart\r\n            }]\r\n        };\r\n\r\n        this.setState({ years });\r\n    }\r\n\r\n    onChange = (date) => {\r\n        this.setState({\r\n            startDate: date\r\n        });\r\n        this.handlingStatical(date);\r\n    };\r\n    render() {\r\n        let {startDate, years, months, days} = this.state;\r\n        // console.log(startDate)\r\n        return (\r\n            <div style={{marginBottom: '60px'}}>\r\n                <div style={{textAlign: 'center', marginTop: '50px'}} >\r\n                    <h3>\r\n                        Chọn thời điểm thống kê: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <DatePicker\r\n                            selected={startDate}\r\n                            onChange={(date) => this.onChange(date)}\r\n                            maxDate={new Date()}\r\n                            showDisabledMonthNavigation\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            popperPlacement='bottom'\r\n                            popperModifiers={{\r\n                                flip: {\r\n                                    behavior: ['bottom'] // don't allow it to flip to be above\r\n                                },\r\n                                preventOverflow: {\r\n                                    enabled: false // tell it not to try to stay within the view (this prevents the popper from covering the element you clicked)\r\n                                },\r\n                                hide: {\r\n                                    enabled: false // turn off since needs preventOverflow to be enabled\r\n                                }\r\n                            }}\r\n                        />\r\n                    </h3>\r\n                </div>\r\n                <MDBContainer>\r\n                    <h3 className=\"mt-5\" style={{marginBottom: '20px'}}>Thống kê sản phẩm bán chạy trong ngày </h3>\r\n                    <Line data={days} options={{ legend: { display: false } }} />\r\n\r\n                    <h3 className=\"mt-5\" style={{marginBottom: '20px'}}>Thống kê sản phẩm bán chạy trong tháng </h3>\r\n                    <Line data={months} options={{ legend: { display: false } }} />\r\n\r\n                    <h3 className=\"mt-5\" style={{marginBottom: '20px'}}>Thống kê sản phẩm bán chạy trong năm </h3>\r\n                    <Line data={years} options={{ legend: { display: false } }} />                    \r\n                </MDBContainer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default StatisticalProductBestSeller;","import React, { Component } from 'react';\r\nimport HeaderAdmin from '../components/Admin/HeaderAdmin';\r\nimport Footer from '../components/Home/Footer';\r\n\r\nimport StatisticalProductBestSeller from '../components/Admin/Statistics/StatisticalProductBestSeller';\r\n\r\nclass StatisticalProductBestSellerPage extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <HeaderAdmin history={this.props.history} />\r\n                \r\n                <StatisticalProductBestSeller/>\r\n                \r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default StatisticalProductBestSellerPage;","import React, { Component } from 'react';\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { MDBContainer } from \"mdbreact\";\r\nimport DatePicker from 'react-datepicker';\r\n\r\nimport callAPI from '../../../utils/connectAPI';\r\n\r\nexport default class RevenueStatistics extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            startDate: new Date(),\r\n            years: {\r\n                labels: ['tháng 1', 'tháng 2', 'tháng 3', 'tháng 4', 'tháng 5', 'tháng 6',\r\n                            'tháng 7', 'tháng 8', 'tháng 9', 'tháng 10', 'tháng 11', 'tháng 12'],\r\n                datasets: [\r\n                    {\r\n                        label: '',\r\n                        fill: false,\r\n                        backgroundColor: 'rgba(75,192,192,1)',\r\n                        borderColor: 'rgba(0,0,0,1)',\r\n                        borderWidth: 2,\r\n                        data: []\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    }\r\n\r\n    handlingStatical = (date) => {        \r\n        callAPI('admin/statistical/renvenue-sale', 'POST', { date })\r\n            .then(res => this.onSetStatisticalYears(res.data));\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.handlingStatical(this.state.startDate);\r\n    }\r\n\r\n    /** set state StatisticalDay */\r\n    onSetStatisticalYears = (data) => {\r\n        let dataChart = [], lables = this.state.years.labels;\r\n\r\n        // run lables according month\r\n        for (let i = 1; i <= lables.length; i++)\r\n            data.forEach(el => {\r\n                if (el._id === i)\r\n                    dataChart[i - 1] = el.total;\r\n            });\r\n\r\n        let years = {labels: this.state.years.labels, datasets: [\r\n            {\r\n                label: \"doanh số\",\r\n                fill: false,\r\n                backgroundColor: 'rgba(75,192,192,1)',\r\n                borderColor: 'rgba(0,0,0,1)',\r\n                borderWidth: 2,\r\n                data: dataChart\r\n            }]\r\n        };\r\n\r\n        this.setState({ years });\r\n    }\r\n\r\n    onChange = (date) => {\r\n        this.setState({\r\n            startDate: date\r\n        });\r\n        this.handlingStatical(date);\r\n    };\r\n    render() {\r\n        let {startDate, years} = this.state;\r\n        return (\r\n            <div style={{marginBottom: '60px'}}>\r\n                <div style={{textAlign: 'center', marginTop: '50px'}} >\r\n                    <h3>\r\n                        Chọn thời điểm thống kê: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <DatePicker\r\n                            selected={startDate}\r\n                            onChange={(date) => this.onChange(date)}\r\n                            maxDate={new Date()}\r\n                            showDisabledMonthNavigation\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                            popperPlacement='bottom'\r\n                            popperModifiers={{\r\n                                flip: {\r\n                                    behavior: ['bottom'] // don't allow it to flip to be above\r\n                                },\r\n                                preventOverflow: {\r\n                                    enabled: false // tell it not to try to stay within the view (this prevents the popper from covering the element you clicked)\r\n                                },\r\n                                hide: {\r\n                                    enabled: false // turn off since needs preventOverflow to be enabled\r\n                                }\r\n                            }}\r\n                        />\r\n                    </h3>\r\n                </div>\r\n                <MDBContainer>\r\n                    <h3 className=\"mt-5\" style={{marginBottom: '20px'}}>Thống kê doanh thu theo năm {startDate.getFullYear()} </h3>\r\n                    <Bar data={years} options={{ legend: { display: false } }} />                    \r\n                </MDBContainer>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport HeaderAdmin from '../components/Admin/HeaderAdmin';\r\nimport Footer from '../components/Home/Footer';\r\n\r\nimport RevenueStatistics from '../components/Admin/Statistics/RevenueStatistics';\r\n\r\nexport default class StatisticalRevenueSalePage extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <HeaderAdmin history={this.props.history} />\r\n\r\n                <RevenueStatistics />\r\n            \r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport { MDBRow, MDBCardBody } from \"mdbreact\";\r\n\r\nexport default class ListPostUser extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"card my-5 px-5 pb-5 w-100\" style={{borderRadius:'10px'}}>\r\n                <MDBCardBody className=\"text-center\">\r\n                    <p className=\"text-center\" style={{ fontWeight: 'bold', fontSize:'30px', color:'black' }}>\r\n                        Bài đăng\r\n                    </p>\r\n                    <hr/>\r\n                    <MDBRow>\r\n                        {this.props.children}\r\n                    </MDBRow>\r\n                </MDBCardBody>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\nimport Swal from 'sweetalert2';\r\nimport { Link } from 'react-router-dom';\r\nimport { MDBRow, MDBCol, MDBCardBody, MDBMask, MDBIcon, MDBView } from \"mdbreact\";\r\n\r\nimport callAPI from '../../../utils/connectAPI';\r\n\r\n// import icons\r\nimport iconOnline from '../Icons/iconOnline.png';\r\nimport iconWaiting from '../Icons/iconWaiting.png';\r\nimport iconGray from '../Icons/iconGray.png';\r\n\r\nexport default class PostPersonal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            checkInteraction: null,\r\n            sumLike: 0,\r\n            liked: false\r\n        }\r\n    }\r\n\r\n    onSetState = (currentPost, account) => {\r\n        // chạy for để kiểm tra có có like chưa\r\n        let interactions = currentPost.interactions, liked = false, checkInteraction = null;\r\n        if (interactions.length > 0 && account)\r\n            interactions.forEach(item => {\r\n                if (item.account)\r\n                    if (item.account._id === account._id) {\r\n                        checkInteraction = item._id;\r\n                        liked = item.like;\r\n                    }\r\n            });\r\n        this.setState({ checkInteraction, sumLike: currentPost.sumLike, liked });\r\n    }\r\n\r\n    componentDidMount() {\r\n        let { currentPost, account } = this.props;\r\n        this.onSetState(currentPost, account);\r\n    }\r\n    componentDidUpdate(prevState) {\r\n        \r\n        if (this.props.countPost !== prevState.countPost)\r\n            // if (this.props.currentPost)\r\n            this.loadAgainPostById(this.props.currentPost._id);\r\n    }\r\n\r\n    showStatusOfPost = (status) => {\r\n        let strStatus = \"\", icon = null;\r\n        switch (status) {\r\n            case 'A':\r\n                strStatus = \"Đã duyệt\";\r\n                icon = iconOnline;\r\n                break;\r\n            case 'D':\r\n                strStatus = \"Đã xóa\";\r\n                icon = iconGray;\r\n                break;\r\n            case 'W': default:\r\n                strStatus = \"Đang duyệt\";\r\n                icon = iconWaiting;\r\n                break;\r\n        }\r\n        return (\r\n            <label style={{fontSize:'20px'}}>\r\n                {strStatus} &nbsp; <img src={icon} alt='icon' />\r\n            </label>\r\n        )\r\n    }\r\n\r\n    onDeletePost = () => {\r\n        Swal.fire({\r\n            title: 'Bạn có chắc?',\r\n            text: \"Bạn muốn xóa bài đăng này!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes',\r\n            cancelButtonText: 'No'\r\n        }).then((result) => {\r\n            if (result.value) this.props.onDeletePost(this.props.currentPost);\r\n        })\r\n    }\r\n\r\n    loadAgainPostById = (post_id) => {\r\n        callAPI('post/' + post_id, 'GET', null)\r\n            .then(res => {\r\n                let post = res.data.post;\r\n                this.onSetState(post, this.props.account);\r\n            })\r\n    }\r\n\r\n    actionsLike = (currentPost) => {\r\n        let { checkInteraction, sumLike, liked } = this.state;\r\n        let actions = 0;    // if 1 -> new like; 2 -> like again; 3 -> dislike\r\n        if (!liked && checkInteraction === null)  // liked === false && checkInteraction == null -> user new like\r\n            actions = 1;\r\n        else                    // liked === true && checkInteraction !== null -> dislike\r\n            if (!liked && checkInteraction)\r\n                actions = 2;\r\n            else if (liked && checkInteraction)\r\n                actions = 3;\r\n\r\n        let data = {}, path = '', getIdInteract = checkInteraction;\r\n        if (actions === 1) {\r\n            console.log('new like')\r\n            path = 'post/newlike/';\r\n            let interactions = { account: this.props.account, like: true };\r\n            data = { interactions, sumLike: sumLike + 1 };\r\n        }\r\n        else if (actions === 2) {\r\n            console.log('like again')\r\n            path = 'post/likeagain/';\r\n            let interactions = { getIdInteract, like: true };\r\n            data = { interactions, sumLike: sumLike + 1 };\r\n        }\r\n        else if (actions === 3) {\r\n            console.log('dislike')\r\n            path = 'post/dislike/';\r\n            let interactions = { getIdInteract, like: false };\r\n            data = { interactions, sumLike: sumLike - 1 };\r\n        }\r\n\r\n        callAPI(path + currentPost._id, 'POST', data)\r\n            .then(res => {\r\n                if (res.data.result) {\r\n                    if (actions === 3) {\r\n                        sumLike--;\r\n                        liked = false;\r\n                    }\r\n                    else {\r\n                        sumLike++;\r\n                        liked = true;\r\n                    }\r\n\r\n                    if (getIdInteract === null)\r\n                        this.loadAgainPostById(currentPost._id);\r\n                    else\r\n                        this.setState({ sumLike, liked });\r\n                }\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    render() {\r\n        let { currentPost } = this.props;\r\n        let { sumLike } = this.state;\r\n        let styleCSS = this.state.liked ? \"red\" : null;\r\n\r\n        return (\r\n            <MDBCol lg=\"12\" xl=\"12\">\r\n                <div className=\"d-flex\">\r\n                    <div className=\"info\">\r\n                        <div className=\"social_wrap d-flex align-items-center justify-content\">\r\n                            <div className=\"avatar\">\r\n                                <img src={currentPost.account.avatar} className=\"avatar\" alt=\"ava\" />\r\n                            </div>\r\n                                &nbsp;&nbsp;\r\n                            <div className=\"number\">\r\n                                <span>\r\n                                    <span style={{fontWeight:'bold', paddingRight:'130px', fontSize:'20px'}}>{currentPost.account.person.name}</span>\r\n\r\n                                    <br />\r\n                                    <Moment format=\"DD-MM-YYYY\" style={{fontSize:'20px'}}>\r\n                                        {currentPost.postDate} \r\n                                    </Moment>\r\n                                    <span style={{fontSize:'20px'}}>&nbsp;lúc&nbsp;</span>\r\n                                    <Moment format=\"HH:mm:ss\" style={{fontSize:'20px'}}>\r\n                                        {currentPost.postDate}\r\n                                    </Moment>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <p className=\"mt-3 mb-2 d-flex justify-content\" style={{fontSize:'20px'}}>\r\n                    {currentPost.content}\r\n                </p>\r\n                <p className=\"d-flex justify-content-end\" style={{fontSize:'20px'}}>Trạng thái: &nbsp; {this.showStatusOfPost(currentPost.status)}</p>\r\n                <MDBRow>\r\n                    {currentPost.images.map((img, index) => {\r\n                        if (currentPost.images.length === 1) {\r\n                            return (\r\n                                <MDBCol key={index} lg=\"12\" md=\"12\" className=\"mb-lg-0 mb-4\">\r\n                                    <MDBView hover className=\"rounded z-depth-2 mb-4\" waves>\r\n\r\n                                        <img\r\n                                            className=\"img-fluid\"\r\n                                            src={img}\r\n                                            alt=\"\"\r\n                                            width=\"100%\" />\r\n\r\n                                        <MDBMask overlay=\"white-slight\" />\r\n                                    </MDBView>\r\n                                </MDBCol>\r\n                            )\r\n                        } else if (currentPost.images.length === 2) {\r\n                            return (\r\n                                <MDBCol key={index} lg=\"6\" md=\"12\" className=\"mb-lg-0 mb-4\">\r\n                                    <MDBView hover className=\"rounded z-depth-2 mb-4\" waves>\r\n\r\n                                        <img\r\n                                            className=\"img-fluid\"\r\n                                            src={img}\r\n                                            alt=\"\"\r\n                                            width=\"100%\" />\r\n\r\n                                        <MDBMask overlay=\"white-slight\" />\r\n                                    </MDBView>\r\n                                </MDBCol>\r\n                            )\r\n                        } else {\r\n                            return (\r\n                                <MDBCol key={index} lg=\"4\" md=\"12\" className=\"mb-lg-0 mb-4\">\r\n                                    <MDBView hover className=\"rounded z-depth-2 mb-4\" waves>\r\n\r\n                                        <img\r\n                                            className=\"img-fluid\"\r\n                                            src={img}\r\n                                            alt=\"\"\r\n                                            width=\"100%\" />\r\n\r\n                                        <MDBMask overlay=\"white-slight\" />\r\n                                    </MDBView>\r\n                                </MDBCol>\r\n                            )\r\n                        }\r\n                    })}\r\n                </MDBRow>\r\n                <MDBCardBody>\r\n                    <span className=\"mr-2\">\r\n                        <button onClick={() => this.actionsLike(currentPost)} style={{ color: styleCSS }} ><MDBIcon icon=\"heart\" /></button> {sumLike} thích\r\n                    </span>\r\n\r\n                    <span>\r\n                        <MDBIcon icon=\"comment\" /> {currentPost.comments.length} bình luận\r\n                    </span>\r\n                    \r\n                </MDBCardBody>\r\n                <Link to={'/post-detail/'+ currentPost._id} className=\"btn btn-info\" style={{ marginRight: \"15px\" }}><i className=\"fa fa-info-circle\" aria-hidden=\"true\"></i> Xem thêm </Link>\r\n                <button className=\"btn btn-danger\" onClick={this.onDeletePost}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i> Xóa bài </button>\r\n                <hr className=\"my-5\" />\r\n            </MDBCol>\r\n        );\r\n    }\r\n}","import storage from './firebaseStorage';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst uploadImages = (files, cbURL) => {\r\n    let arrFiles = [];\r\n    files.forEach(el => {\r\n        let uploadTask = storage.ref(`images/${el.name}`).put(el);\r\n        uploadTask.on('state_changed',\r\n            (snapshot) => {\r\n                // progress function\r\n                let process = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n                Swal.fire({\r\n                    title: 'Đang tải ảnh',\r\n                    allowEscapeKey: false,\r\n                    allowOutsideClick: false,\r\n                    background: '#19191a',\r\n                    showConfirmButton: false,\r\n                    onOpen: () => {\r\n                        Swal.showLoading();\r\n                    },\r\n                    timer: process,\r\n                    timerProgressBar: true\r\n                });\r\n            },\r\n            (error) => {\r\n                console.log('Error: ' + error);\r\n            },\r\n            () => {\r\n                // complete function\r\n                storage.ref('images').child(el.name).getDownloadURL().then(url => {\r\n                    cbURL(arrFiles = [...arrFiles, url]);\r\n                });\r\n            }\r\n        );\r\n    })\r\n\r\n}\r\n\r\nexport default uploadImages;","import React, { Component } from 'react';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport uploadMultipleImagePost from '../../../utils/uploadMultipleImagePost';\r\n\r\nexport default class FormPost extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            content: '',\r\n            files: [],\r\n            filePath: []\r\n        }\r\n    }\r\n\r\n    onChangeImage = (event) => {\r\n        this.setState({\r\n            filePath: [],\r\n            files: []\r\n        });\r\n        let files = Array.from(event.target.files);\r\n        //console.log(file)\r\n        if (files.length > 0) {\r\n            files.forEach((f) => {\r\n                let reader = new FileReader();\r\n\r\n                reader.onloadend = () => {\r\n                    this.setState({\r\n                        files: [...this.state.files, f],\r\n                        filePath: [...this.state.filePath, reader.result],\r\n\r\n                    });\r\n                    //console.log(reader.result)\r\n                }\r\n                reader.readAsDataURL(f)\r\n            });\r\n        }\r\n    };\r\n\r\n    componentDidUpdate(prevState) {\r\n        if (this.props.countPost !== prevState.countPost)\r\n            this.setState({\r\n                content: '',\r\n                files: [],\r\n                filePath: []\r\n            })\r\n    }\r\n\r\n    displayListImagePost = (filePath) => {\r\n        return filePath.map((currentPath, index) => {\r\n            return (<img src={currentPath} key={index} alt=\"errorImage\" style={{ width: \"70px\", marginRight: \"10px\" }}></img>)\r\n        })\r\n    }\r\n\r\n    onChange = (event) => {\r\n        var name = event.target.name;\r\n        var value = event.target.value;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        let { images, files } = this.state;\r\n        if (files.length <= 0)\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Ảnh không được để rỗng',\r\n            });\r\n\r\n        if (files.length > 0) {\r\n            await uploadMultipleImagePost(files, url => {\r\n                images = url;\r\n                if (images.length === files.length) {\r\n                    let post = {\r\n                        content: this.state.content,\r\n                        images: images\r\n                    }\r\n                    this.props.onSavePost(post);\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"card w-100\" style={{ borderRadius: '10px' }}>\r\n                <p className=\"text-center mt-3\" style={{ fontWeight: 'bold', fontSize: '30px', color: 'black' }}> Tạo bài viết </p>\r\n                <hr />\r\n                <form onSubmit={(event) => this.onSubmit(event)} className=\"w-100\">\r\n                    <div className=\"input-group style-btn-post\">\r\n                        <label className=\"clicked-btn-post\">\r\n                            <input type=\"file\" name=\"files\" multiple=\"multiple\" onChange={(event) => this.onChangeImage(event)} />\r\n                            <span className=\"btn btn-outline-secondary btn-lg ml-2\" style={{ borderRadius: '15px' }}><i className=\"fa fa-picture-o\" aria-hidden=\"true\"></i> Chọn ảnh</span>\r\n                        </label>\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"input-group\">\r\n                        {\r\n                            this.state.filePath.length > 0\r\n                                ? this.displayListImagePost(this.state.filePath)\r\n                                : null\r\n                        }\r\n                    </div>\r\n                    <div className=\"input-group mt-2 mb-4\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <span className=\"input-group-text\" id=\"basic-addon\">\r\n                                <i className=\"fa fa-pencil-alt prefix\"></i>\r\n                            </span>\r\n                        </div>\r\n                        <textarea className=\"textarea-info\" id=\"exampleFormControlTextarea1\" rows=\"50\" required placeholder=\"Bạn đang nghĩ gì nào? Hãy viết những lời chia sẻ vào đây!\"\r\n                            name=\"content\" value={this.state.content} onChange={(event) => this.onChange(event)}>\r\n                        </textarea>\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"d-flex justify-content-center mt-4 mb-4 ml-2 mr-2\">\r\n                        <button type=\"submit\" className=\"btn btn-outline-primary btn-lg btn-block\" style={{ borderRadius: '20px' }}> Đăng bài </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass ImagesPost extends Component {\r\n\r\n    displayImagesPost = (images) => {\r\n        return images.map((img, index) => {\r\n            return (\r\n                <img key={index} src={img} className=\"col-md-4\" style={{ width: '200px', height: '110px', marginTop: '5px', marginRight:'-25px' }} alt=\"err\" />\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { posts } = this.props;\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                    <div className=\"mdb-lightbox\">\r\n                        <figure style={{ marginRight:'-50px', marginBottom: '20px'}}>\r\n                            {posts.map((item, index) => {\r\n                                return (\r\n                                    <Link key={index} to={'post-detail/' + item._id} >\r\n                                        {this.displayImagesPost(item.images)}\r\n                                    </Link>\r\n                                )\r\n                            })}\r\n                        </figure>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ImagesPost;","import React, { Component } from 'react';\r\n\r\nexport default class ImageUpload extends Component {\r\n\r\n    onChangeImage = (event) => {\r\n        this.props.onUploadImage(event);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"uploadAvatar m-l-80\">\r\n                <label>Ảnh đại diện</label>\r\n                <div className=\"input-group-avatar\">\r\n                    <label className=\"clicked-btn-post\">\r\n                        <input name=\"avatar\" className=\"inputFile-avatar\" type=\"file\" onChange={this.onChangeImage} />\r\n                        <span className=\"btn btn-primary\" >Chọn ảnh</span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport callAPI from '../../../utils/connectAPI';\r\nimport storage from '../../../utils/firebaseStorage';\r\n\r\n// import componet ImageUpload\r\nimport ImageUpload from './ImageUpload';\r\n\r\nexport default class UpdateInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            name: '',\r\n            gender: false,\r\n            phone: '',\r\n            adress: '',\r\n            email: '',\r\n            user: {},\r\n            file: null,\r\n            filePath: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let { user } = this.props;\r\n        if (user) {\r\n            let person = user.person;\r\n            this.setState({\r\n                user,\r\n                name: user.person.name,\r\n                gender: person.gender ? person.gender : false,\r\n                phone: person.phone ? person.phone : '',\r\n                address: person.address ? person.address : '',\r\n                email: person.email ? person.email : ''\r\n            })\r\n        }\r\n    }\r\n\r\n    onUploadImage = (event) => {\r\n        let file = event.target.files[0];\r\n\r\n        if (file) {\r\n            this.setState({ file });\r\n\r\n            let reader = new FileReader();\r\n\r\n            reader.onloadend = () => {\r\n                this.setState({\r\n                    filePath: reader.result\r\n                });\r\n            }\r\n            reader.readAsDataURL(event.target.files[0])\r\n        }\r\n    }\r\n\r\n    onChange = (event) => {\r\n        var target = event.target;\r\n        var name = target.name;\r\n        var value = target.type === 'checkbox' ? target.checked : target.value;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    onSubmit = async () => {\r\n        let { user, name, gender, phone, address, email, file } = this.state;\r\n\r\n        let checkName = false, checkEmail = false;\r\n\r\n        if (name !== '') {\r\n            checkName = true;\r\n            document.getElementById('errName').innerHTML = '';\r\n        }\r\n        else {\r\n            document.getElementById('errName').style.color = 'red';\r\n            document.getElementById('errName').innerHTML = 'Tên không được rỗng.';\r\n        }\r\n\r\n        let rexEmail = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/;\r\n        if (email === '') {\r\n            document.getElementById('errEmail').style.color = 'red';\r\n            document.getElementById('errEmail').innerHTML = 'Email không được rỗng.';\r\n        }\r\n        else if (!rexEmail.test(email)) {\r\n            document.getElementById('errEmail').style.color = 'red';\r\n            document.getElementById('errEmail').innerHTML = 'Email không hợp lệ. Hãy thử lại!';\r\n        }\r\n        else {\r\n            checkEmail = true;\r\n            document.getElementById('errEmail').innerHTML = '';\r\n        }\r\n\r\n        if (checkName && checkEmail) {\r\n            user.person.name = name;\r\n            user.person.gender = gender;\r\n            user.person.phone = phone;\r\n            user.person.address = address;\r\n            user.person.email = email;\r\n\r\n            if (file) {\r\n                let uploadTask = storage.ref(`images/${file.name}`).put(file);\r\n                await uploadTask.on('state_changed',\r\n                    (snapshot) => {\r\n                        // progress function\r\n                    },\r\n                    (error) => {\r\n                        console.log('Error: ' + error);\r\n                    },\r\n                    () => {\r\n                        // complete function\r\n                        storage.ref('images').child(file.name).getDownloadURL().then(url => {\r\n                            // console.log('url: ' + url);\r\n                            user.avatar = url;\r\n\r\n                            // update into database\r\n                            callAPI(`account/update-info/${user._id}`, 'POST', user)\r\n                                .then(res => {\r\n                                    if (res.data.messSuccess) {\r\n                                        sessionStorage.setItem(\"user\", JSON.stringify(user));\r\n                                        Swal.fire({\r\n                                            icon: 'success',\r\n                                            title: res.data.messSuccess,\r\n                                        });\r\n\r\n                                        this.props.onOpenFormUpdateInfo(true, user);\r\n                                    }\r\n                                })\r\n                                .catch(err => console.log(err));\r\n                        }\r\n                        );\r\n                    }\r\n                );\r\n\r\n            }\r\n            else {\r\n                // update into database\r\n                callAPI(`account/update-info/${user._id}`, 'POST', user)\r\n                    .then(res => {\r\n                        if (res.data.messSuccess) {\r\n                            sessionStorage.setItem(\"user\", JSON.stringify(user));\r\n                            Swal.fire({\r\n                                icon: 'success',\r\n                                title: res.data.messSuccess,\r\n                            });\r\n\r\n                            this.props.onOpenFormUpdateInfo(true, user);\r\n                        }\r\n                    })\r\n                    .catch(err => console.log(err));\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { name, gender, phone, address, email, user } = this.state;\r\n        return (\r\n            <div className=\"card w-100 mb-3\" style={{ borderRadius: '10px' }}>\r\n                <p className=\"text-center mt-3 \" style={{ fontWeight: 'bold', fontSize: '30px', color: 'black' }}> Cập nhật thông tin cá nhân </p>\r\n                <hr />\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4 mt-uploadInfo\" style={{borderRight: '2px solid #e5e5e5', height: '380px'}}>\r\n                        <div className=\"ImgPreview m-l-80 m-t-20\">\r\n                            {this.state.filePath ?\r\n                                <img src={this.state.filePath} alt=\"Info\" className=\"ImgPreview\" />\r\n                                : <img src={user.avatar} alt=\"Info\" className=\"ImgPreview\" />\r\n                            }\r\n                        </div>\r\n\r\n                        <ImageUpload onUploadImage={this.onUploadImage} />\r\n                    </div>\r\n                    <div className=\"col-md-8 mt-uploadInfo\" style={{marginTop:'-40px', marginBottom:'20px'}}>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4 ml-1\">\r\n                                <div className=\"form-group\">\r\n                                    <p className=\"p-tl-info\">Họ và tên:</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-8 mr-inputInfo\">\r\n                                <div className=\"form-group\">\r\n                                    <input name=\"name\" type=\"text\" className=\"input-info\"\r\n                                        value={name} onChange={this.onChange} />\r\n                                </div>\r\n                                <span id=\"errName\"></span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4 ml-1\">\r\n                                <div className=\"form-group\">\r\n                                    <p className=\"p-tl-info\">Email:</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-8 mr-inputInfo\">\r\n                                <div className=\"form-group\">\r\n                                    <input name=\"email\" type=\"text\" className=\"input-info\"\r\n                                        value={email} onChange={this.onChange} />\r\n                                </div>\r\n                                <span id=\"errEmail\"></span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4 ml-1\">\r\n                                <div className=\"form-group\">\r\n                                    <p className=\"p-tl-info\">Số điện thoại:</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-8 mr-inputInfo\">\r\n                                <div className=\"form-group\">\r\n                                    <input name=\"phone\" type=\"text\" className=\"input-info\"\r\n                                        value={phone} onChange={this.onChange} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4 ml-1\">\r\n                                <div className=\"form-group\">\r\n                                    <p className=\"p-tl-address\">Địa chỉ:</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-8 mr-inputInfo\">\r\n                                <div className=\"form-group\">\r\n                                    <textarea name=\"address\" type=\"text\" className=\"input-address\"\r\n                                        value={address} onChange={this.onChange} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4 ml-1\">\r\n                                <div className=\"form-group\">\r\n                                    <p className=\"p-tl-info\">Giới tính:</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group mr-inputInfo p-tl-gender\">\r\n                                <input type=\"checkbox\" name=\"gender\"\r\n                                    value={gender} onChange={this.onChange} checked={gender} /> Nam\r\n                        </div>\r\n                        </div>\r\n                        <div className=\"row col-md-6\" style={{float:'right'}}>\r\n                            <button type=\"button\" className=\"btn btn-secondary m-r-15 ml-2 btn-Widthinfo\" onClick={() => this.props.onOpenFormUpdateInfo(false, null)}><i class=\"fa fa-window-close\" aria-hidden=\"true\"></i> Đóng</button>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-Widthinfo\" onClick={this.onSubmit}><i class=\"fa fa-floppy-o\" aria-hidden=\"true\"></i> Lưu</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { MDBRow, MDBCol, MDBCard, MDBCardBody, MDBMask, MDBView } from \"mdbreact\";\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\n\r\nimport Swal from 'sweetalert2';\r\n\r\nimport ListPostPersonal from '../components/Post/Personals/ListPostPersonal';\r\nimport PostPersonal from '../components/Post/Personals/PostPersonal';\r\nimport FormPost from '../components/Post/Personals/FormPost';\r\nimport ImagesPost from '../components/Post/Personals/ImagesPost';\r\nimport UpdateInfo from '../components/Post/Personals/UpdateInfo';\r\n\r\nimport * as Config from '../constants/parameterConfig';\r\nimport callAPI from '../utils/connectAPI';\r\n\r\nimport io from 'socket.io-client';\r\nconst socket = io(Config.ENDPOINT_SOKET);\r\n\r\nclass BlogPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            name: '',\r\n            gender: false,\r\n            phone: '',\r\n            adress: '',\r\n            email: '',\r\n            account: null,\r\n\r\n            isOpenForm: false,\r\n\r\n            posts: [],\r\n            countPost: 0        // use to init this.state in componentDidUpdate\r\n        }\r\n    }\r\n\r\n    getPostsOfAccount = (account) => {\r\n        callAPI('post/account/' + account._id, 'GET', null)\r\n            .then(res => {\r\n                this.setState({ posts: res.data, countPost: this.state.countPost + 1 });\r\n            }).catch((err) => { console.log(err) })\r\n    }\r\n\r\n    componentDidMount() {\r\n        let account = JSON.parse(sessionStorage.getItem(\"user\"));\r\n        if (account !== null) {\r\n            let person = account.person;\r\n            this.setState({\r\n                account,\r\n                name: person.name,\r\n                gender: person.gender ? person.gender : false,\r\n                phone: person.phone ? person.phone : '',\r\n                address: person.address ? person.address : '',\r\n                email: person.email ? person.email : ''\r\n            });\r\n            this.getPostsOfAccount(account);\r\n\r\n            // ask connect socket.server\r\n            socket.emit('joinAdmin', { account }, () => { });\r\n\r\n            // receive result\r\n            socket.on('resultHandling', post => {\r\n                let posts = this.state.posts.map(el => {\r\n                    if (el._id === post.result._id)\r\n                        el = post.result;\r\n                    return el;\r\n                })\r\n                this.setState({ posts, countPost: this.state.countPost + 1 });\r\n            })\r\n        }\r\n        else {\r\n            let history = this.props.history;\r\n            history.push('/login');\r\n        }\r\n    }\r\n\r\n    onDeletePost = (post) => {\r\n        callAPI('post/' + post._id, 'DELETE', null)\r\n            .then(res => {\r\n                if (res.data.message) {\r\n                    let { posts, countPost } = this.state;\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                        title: res.data.message,\r\n                    })\r\n                    this.setState({ posts: posts.filter(el => el._id !== post._id), countPost: countPost - 1 });\r\n\r\n                    if (post.state !== 'W')\r\n                        socket.emit('submitPost', post, () => { });\r\n                }\r\n            }).catch((err) => { console.log(err) })\r\n    }\r\n\r\n    displayListPostByUser = (posts) => {\r\n        let result = null;\r\n        if (posts.length > 0)\r\n            result = posts.map((currentPost, index) => {\r\n                return (\r\n                    <PostPersonal\r\n                        key={index}\r\n                        currentPost={currentPost}\r\n                        account={this.state.account}\r\n                        onDeletePost={this.onDeletePost}\r\n                        countPost={this.state.countPost}\r\n                    />\r\n                )\r\n            });\r\n        return result;\r\n    }\r\n\r\n    onSavePost = (post) => {\r\n        post.account = this.state.account;\r\n\r\n        callAPI('post/add', 'POST', post)\r\n            .then(res => {\r\n                if (res.data.result) {\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                        title: 'Bài đã đăng thành công',\r\n                    })\r\n\r\n                    post.interactions = []; post.comments = []; post.sumLike = 0;\r\n                    socket.emit('submitPost', post, () => { });\r\n\r\n                    this.getPostsOfAccount(this.state.account);\r\n                }\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    onOpenFormUpdateInfo = (isOpen, info) => {\r\n        if (info) {\r\n            let person = info.person;\r\n            this.setState({\r\n                account: info,\r\n                name: person.name,\r\n                gender: person.gender ? person.gender : false,\r\n                phone: person.phone ? person.phone : '',\r\n                address: person.address ? person.address : '',\r\n                email: person.email ? person.email : ''\r\n            });\r\n        }\r\n        this.setState({ isOpenForm: isOpen });\r\n    }\r\n\r\n    render() {\r\n        let { name, gender, phone, address, email, account, isOpenForm, posts, countPost } = this.state;\r\n        return (\r\n            <div>\r\n                <Header />\r\n\r\n                <MDBCard className=\"my-5 px-5 pb-5\" >\r\n                    <MDBCardBody >\r\n                        <MDBRow >\r\n                            <MDBCol md=\"12\" >\r\n                                <MDBCard reverse>\r\n                                    <MDBView hover cascade waves>\r\n                                        <img\r\n                                            src=\"https://mdbootstrap.com/img/Photos/Slides/img%20(142).jpg\"\r\n                                            alt=\"\"\r\n                                            className=\"img-fluid\"\r\n                                            style={{ width: '100%', height: '500px' }}\r\n                                        />\r\n                                        <MDBMask overlay=\"white-slight\" className=\"waves-light\" />\r\n                                    </MDBView>\r\n                                    {account ?\r\n                                        <MDBCardBody cascade className=\"text-center\">\r\n                                            <img src={account.avatar} alt=\"Info\" className=\"ImgPreview\" />\r\n                                            <h2 className=\"font-weight-bold\">\r\n                                                {name}\r\n                                            </h2>\r\n                                        </MDBCardBody>\r\n                                        : ''\r\n                                    }\r\n                                    <hr className=\"mb-5 mt-4\" />\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-lg-4 col-md-6\" >\r\n                                            <div className=\"card ml-3\" style={{ borderRadius: '10px' }}>\r\n                                                <p className=\"text-center mt-3\" style={{ fontWeight: 'bold', fontSize: '30px', color: 'black' }}> Giới thiệu </p>\r\n                                                <hr />\r\n                                                <div className=\"text-left ml-2\">\r\n                                                    <p style={{ lineHeight: '3' }}><i className=\"fa fa-user\" aria-hidden=\"true\"></i> Họ và tên: <span style={{ fontWeight: 'bold' }}>{name}</span> </p>\r\n                                                    {gender === true ?\r\n                                                        <p style={{ lineHeight: '3' }}><i className=\"fa fa-transgender\" aria-hidden=\"true\"></i> Giới tính: <span style={{ fontWeight: 'bold' }}>Nam</span> </p>\r\n                                                        : <p style={{ lineHeight: '3' }}><i className=\"fa fa-transgender\" aria-hidden=\"true\"></i> Giới tính: <span style={{ fontWeight: 'bold' }}>Nữ</span> </p>\r\n                                                    }\r\n                                                    <p style={{ lineHeight: '3' }}><i className=\"fa fa-envelope\" aria-hidden=\"true\"></i> Email: <span style={{ fontWeight: 'bold' }}>{email}</span> </p>\r\n                                                    <p style={{ lineHeight: '3' }}><i className=\"fa fa-phone\" aria-hidden=\"true\"></i> Số điện thoại: <span style={{ fontWeight: 'bold' }}>{phone}</span> </p>\r\n                                                    <p style={{ lineHeight: '3' }}><i className=\"fa fa-map-marker\" aria-hidden=\"true\"></i> Đến từ: <span style={{ fontWeight: 'bold' }}>{address}</span> </p>\r\n                                                </div>\r\n                                                <hr />\r\n                                                <div style={{ marginBottom: '10px' }} className=\"ml-2 mr-2 mb-3\">\r\n                                                    <button type=\"button\" className=\"btn btn-secondary btn-lg btn-block\" style={{ borderRadius: '20px' }} onClick={() => this.onOpenFormUpdateInfo(true, null)} >Cập nhật thông tin cá nhân</button>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"card ml-3\" style={{ borderRadius: '10px', marginTop: '52px' }}>\r\n                                                <p className=\"text-center mt-3\" style={{ fontWeight: 'bold', fontSize: '30px', color: 'black' }}> Ảnh </p>\r\n                                                <hr />\r\n                                                <ImagesPost posts={posts} />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-lg-8 col-md-6\">\r\n                                            <div className=\"row mr-3\" >\r\n\r\n                                                { isOpenForm ? <UpdateInfo user={account} onOpenFormUpdateInfo={this.onOpenFormUpdateInfo} /> : null}\r\n\r\n                                                {/* Form use to post */}\r\n                                                <FormPost onSavePost={this.onSavePost} countPost={countPost} />\r\n\r\n                                                <ListPostPersonal>\r\n                                                    {this.displayListPostByUser(posts)}\r\n                                                </ListPostPersonal>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </MDBCard>\r\n                            </MDBCol>\r\n                        </MDBRow>\r\n                    </MDBCardBody>\r\n                </MDBCard>\r\n\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BlogPage;","import React, { Component } from 'react';\r\nimport callAPI from '../../utils/connectAPI';\r\nclass FormAddPlace extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            checkedItems: new Map(),\r\n            places: [],\r\n            listDate: []\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        callAPI('place', 'GET', null)\r\n            .then(res => {\r\n                for (var i = 0; i < res.data.length; i++) {\r\n                    this.setState({ checkedItems: this.state.checkedItems.set(res.data[i].name, { status: false, index: i }) });\r\n                }\r\n                this.setState({ places: res.data });\r\n                //console.log(res.data)\r\n            })\r\n            .catch((err) => { console.log(err) })\r\n    }\r\n\r\n    handleChange = async (event, index) => {\r\n        let item = event.target.value;\r\n        let isChecked = event.target.checked;\r\n\r\n        let places = this.state.places;\r\n        if (isChecked === true) {\r\n            await callAPI(`place/${places[index]._id}`, 'GET', null)\r\n                .then(res => {\r\n                    places[index].limit = 6;\r\n                    places[index].destination = res.data.destination;\r\n\r\n                    this.setState({ places });\r\n                })\r\n                .catch((err) => console.log(err));\r\n        }\r\n        else {\r\n            var temp = this.state.listDate.map(item => {\r\n                item.desName = item.desName.filter(el => {\r\n                    return el.place_id !== places[index]._id\r\n                });\r\n                return item;\r\n            })\r\n            this.setState({\r\n                listDate: temp\r\n            });\r\n        }\r\n\r\n        this.setState({ checkedItems: this.state.checkedItems.set(item, { status: isChecked, index: index }) });\r\n    }\r\n\r\n    listPlace = () => {\r\n        if (this.state.checkedItems.size > 0) {\r\n            let temp = Array.from(this.state.checkedItems);\r\n            return temp.map((item, index) => {\r\n                return (\r\n                    <div key={index} className=\"form-check\" style={{ float: 'left', width: '25%' }}>\r\n                        <label>\r\n                            <input type=\"checkbox\" name=\"checkedItems\" value={item[0]} checked={item[1].status} onChange={(event) => this.handleChange(event, index)} /><span className=\"label-text\"> {item[0]}</span>\r\n                        </label>\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"card w-100 mb-3\" style={{ borderRadius: '10px' }}>\r\n            <p className=\"text-center mt-3 \" style={{ fontWeight: 'bold', fontSize: '30px', color: 'black' }}> Các địa điểm ở Việt Nam </p>\r\n            <hr />\r\n            <div className=\"row\">\r\n                {this.listPlace()}\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FormAddPlace;","import React, { Component } from 'react';\r\nimport FormAddPlace from './FormAddPlace';\r\nclass Gallery extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isOpenForm: false\r\n        }\r\n    }\r\n\r\n    onOpenFormAddPlace = (isOpen) => {\r\n        this.setState({ isOpenForm: isOpen });\r\n    }\r\n\r\n    render() {\r\n        let { isOpenForm } = this.state;\r\n        return (\r\n            <div className=\"popular_places_area\" style={{ textAlign: 'center' }}>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div style={{ marginBottom: '10px' }} className=\"ml-2 mr-2 mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-secondary btn-lg btn-block\" onClick={() => this.onOpenFormAddPlace(!isOpenForm)}>Chọn nơi bạn đã đến</button>\r\n                        </div>\r\n\r\n                        {isOpenForm ? <FormAddPlace /> : null}\r\n\r\n                        <div className=\"col-lg-4 col-md-6\" >\r\n                            \r\n\r\n                        </div>\r\n\r\n                        <div className=\"col-lg-8 col-md-6\" >\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Gallery;","import React, { Component } from 'react';\r\nimport Header from '../components/Home/Header';\r\nimport Footer from '../components/Home/Footer';\r\nimport Gallery from '../components/Gallery/Gallery';\r\n\r\nclass GalleryPage extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <Gallery/>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GalleryPage;","import React from 'react';\r\n\r\n// import Views\r\nimport LoginPage from \"./views/LoginPage\";\r\nimport HomePage from './views/HomePage';\r\nimport SignUpPage from './views/SignUpPage';\r\nimport PlaceDetailPage from './views/PlaceDetailPage';\r\nimport NotFoundpage from \"./views/NotFoundpage\";\r\nimport ProductPage from './views/ProductPage';\r\nimport PlacePage from './views/PlacePage';\r\nimport AboutPage from './views/AboutPage';\r\nimport PurchasedPage from './views/PurchasedPage';\r\nimport SchedulePage from './views/SchedulePage';\r\nimport NewFeedPage from './views/NewFeedPage';\r\nimport PostDetailPage from './views/PostDetailPage';\r\nimport DestinationDetailPage from './views/DestinationDetailPage';\r\nimport ListSchedulePage from './views/ListSchedulePage';\r\nimport ProductDetailPage from './views/ProductDetailPage';\r\nimport ScheduleDetailPage from './views/ScheduleDetailPage';\r\nimport CheckoutPage from './views/CheckoutPage';\r\n\r\n// views admin\r\nimport AdminPage from './views/AdminPage';\r\nimport AdminManagerPostPage from './views/AdminManagerPostPage';\r\nimport AdminStatisticalProductBestSellerPage from './views/AdminStatisticalProductBestSellerPage';\r\nimport AdminStatisticalRevenueSalePage from './views/AdminStatisticalRevenueSalePage';\r\nimport BlogPage from './views/BlogPage';\r\nimport GalleryPage from './views/GalleryPage';\r\n\r\n\r\nconst ROUTERS = [\r\n    {\r\n        path: '/',\r\n        exact: true,\r\n        main: () => <HomePage/>\r\n    },\r\n    {\r\n        path: '/login',\r\n        exact: false,\r\n        main: ({history}) => <LoginPage history={history} />\r\n    },\r\n    {\r\n        path: '/sign-up',\r\n        exact: false,\r\n        main: () => <SignUpPage/>\r\n    },\r\n    {\r\n        path: '/product',\r\n        exact: false,\r\n        main: () => <ProductPage />\r\n    },\r\n    {\r\n        path: '/product-detail/:id',\r\n        exact: false,\r\n        main: (object) => <ProductDetailPage object={object} />\r\n    },\r\n    {\r\n        path: '/place',\r\n        exact: true,\r\n        main: () => <PlacePage/>\r\n    },\r\n    {\r\n        path: '/place/:id',\r\n        exact: true,\r\n        main: (object) => <PlaceDetailPage object={object} />\r\n    },\r\n    {\r\n        path: '/place/destination/:id',\r\n        exact : false,\r\n        main: (object) => <DestinationDetailPage object={object} />\r\n    },\r\n    {\r\n        path: '/about',\r\n        exact: false,\r\n        main: () => <AboutPage/>\r\n    },\r\n    {\r\n        path: '/schedule',\r\n        exact: false,\r\n        main: ({history}) => <SchedulePage history={history}/>\r\n    },\r\n    {\r\n        path: '/schedule-detail/:id',\r\n        exact: false,\r\n        main: (object) => <ScheduleDetailPage object={object} />\r\n    },\r\n    {\r\n        path: '/list-schedule',\r\n        exact: false,\r\n        main: ({history}) => <ListSchedulePage history={history}/>\r\n    },\r\n    \r\n    {\r\n        path: '/post-detail/:id',\r\n        exact: false,\r\n        main: ({match}) => <PostDetailPage match={match} />\r\n    },\r\n    {\r\n        path: '/newfeed',\r\n        exact: false,\r\n        main: () => <NewFeedPage/>\r\n    },\r\n    {\r\n        path: '/blog',\r\n        exact: false,\r\n        main: ({history}) => <BlogPage history={history}/>\r\n    },\r\n    {\r\n        path: '/payment-history',\r\n        exact: false,\r\n        main: ({history}) => <PurchasedPage history={history} />\r\n    },\r\n    {\r\n        path: '/checkout',\r\n        exact: false,\r\n        main: ({history}) => <CheckoutPage history={history} />\r\n    },\r\n    {\r\n        path: '/gallery',\r\n        exact: false,\r\n        main: ({history}) => <GalleryPage history={history} />\r\n    },\r\n    {\r\n        path: '/admin/product-management',\r\n        exact: false,\r\n        main: ({history}) => <AdminPage history={history} />\r\n    },\r\n    {\r\n        path: '/admin/post-management',\r\n        exact: false,\r\n        main: ({history}) => <AdminManagerPostPage history={history} />\r\n    },\r\n    {\r\n        path: '/admin/statistical-product-best-seller',\r\n        exact: false,\r\n        main: ({history}) => <AdminStatisticalProductBestSellerPage history={history} />\r\n    },\r\n    {\r\n        path: '/admin/statistical-renvenue-sale',\r\n        exact: false,\r\n        main: ({history}) => <AdminStatisticalRevenueSalePage history={history} />\r\n    },\r\n    {\r\n        path: '',\r\n        exact: false,\r\n        main: () => <NotFoundpage />\r\n    }\r\n]\r\n\r\nexport default ROUTERS;","import React, { Component } from 'react';\r\nimport './css/App.css';\r\nimport { Route, Switch, BrowserRouter as Router } from 'react-router-dom';\r\n\r\n// import Consts\r\nimport ROUTERS from './router';\r\n\r\nclass App extends Component {\r\n    render () {\r\n        return (\r\n            <Router>\r\n                <div className=\"App\">\r\n                    <div>\r\n                        { this.showContentMenus(ROUTERS) }\r\n                    </div>\r\n                </div>\r\n            </Router>\r\n        );\r\n    }\r\n    \r\n    showContentMenus = (routers) => {\r\n        let result = null;\r\n        if (routers.length > 0) {\r\n            result = routers.map((router, index) => {\r\n                return (\r\n                    <Route\r\n                        key = {index}\r\n                        path = {router.path}\r\n                        exact = {router.exact}\r\n                        component = {router.main}\r\n                    />\r\n                );\r\n            });\r\n        }\r\n        return <Switch> {result} </Switch>\r\n    }\r\n    \r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}